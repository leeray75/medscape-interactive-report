!function(t){var e={};function r(n){if(e[n])return e[n].exports;var i=e[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:n})},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/js/",r(r.s=300)}([function(t,e,r){"use strict";var n=r(19),i=r(491),o=r(77),a=r(124),s=function(){function t(t){this._isScalar=!1,t&&(this._subscribe=t)}return t.prototype.lift=function(e){var r=new t;return r.source=this,r.operator=e,r},t.prototype.subscribe=function(t,e,r){var n=this.operator,o=i.toSubscriber(t,e,r);if(n?n.call(o,this.source):o.add(this.source||!o.syncErrorThrowable?this._subscribe(o):this._trySubscribe(o)),o.syncErrorThrowable&&(o.syncErrorThrowable=!1,o.syncErrorThrown))throw o.syncErrorValue;return o},t.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(e){t.syncErrorThrown=!0,t.syncErrorValue=e,t.error(e)}},t.prototype.forEach=function(t,e){var r=this;if(e||(n.root.Rx&&n.root.Rx.config&&n.root.Rx.config.Promise?e=n.root.Rx.config.Promise:n.root.Promise&&(e=n.root.Promise)),!e)throw new Error("no Promise impl found");return new e(function(e,n){var i;i=r.subscribe(function(e){if(i)try{t(e)}catch(t){n(t),i.unsubscribe()}else t(e)},n,e)})},t.prototype._subscribe=function(t){return this.source.subscribe(t)},t.prototype[o.observable]=function(){return this},t.prototype.pipe=function(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];return 0===t.length?this:a.pipeFromArray(t)(this)},t.prototype.toPromise=function(t){var e=this;if(t||(n.root.Rx&&n.root.Rx.config&&n.root.Rx.config.Promise?t=n.root.Rx.config.Promise:n.root.Promise&&(t=n.root.Promise)),!t)throw new Error("no Promise impl found");return new t(function(t,r){var n;e.subscribe(function(t){return n=t},function(t){return r(t)},function(){return t(n)})})},t.create=function(e){return new t(e)},t}();e.Observable=s},function(t,e,r){"use strict";var n=r(3),i=r(6),o=r(21),a=o.FP_SAFE,s=o.BADNUM,l=t.exports={};l.nestedProperty=r(65),l.keyedContainer=r(303),l.relativeAttr=r(304),l.isPlainObject=r(46),l.isArray=r(91),l.mod=r(92),l.toLogRange=r(93),l.relinkPrivateKeys=r(305),l.ensureArray=r(306);var c=r(307);l.valObjectMeta=c.valObjectMeta,l.coerce=c.coerce,l.coerce2=c.coerce2,l.coerceFont=c.coerceFont,l.coerceHoverinfo=c.coerceHoverinfo,l.coerceSelectionMarkerOpacity=c.coerceSelectionMarkerOpacity,l.validate=c.validate;var u=r(308);l.dateTime2ms=u.dateTime2ms,l.isDateTime=u.isDateTime,l.ms2DateTime=u.ms2DateTime,l.ms2DateTimeLocal=u.ms2DateTimeLocal,l.cleanDate=u.cleanDate,l.isJSDate=u.isJSDate,l.formatDate=u.formatDate,l.incrementMonth=u.incrementMonth,l.dateTick0=u.dateTick0,l.dfltRange=u.dfltRange,l.findExactDates=u.findExactDates,l.MIN_MS=u.MIN_MS,l.MAX_MS=u.MAX_MS;var h=r(148);l.findBin=h.findBin,l.sorterAsc=h.sorterAsc,l.sorterDes=h.sorterDes,l.distinctVals=h.distinctVals,l.roundUp=h.roundUp;var f=r(309);l.aggNums=f.aggNums,l.len=f.len,l.mean=f.mean,l.variance=f.variance,l.stdev=f.stdev,l.interp=f.interp;var d=r(149);l.init2dArray=d.init2dArray,l.transposeRagged=d.transposeRagged,l.dot=d.dot,l.translationMatrix=d.translationMatrix,l.rotationMatrix=d.rotationMatrix,l.rotationXYMatrix=d.rotationXYMatrix,l.apply2DTransform=d.apply2DTransform,l.apply2DTransform2=d.apply2DTransform2;var p=r(147);l.deg2rad=p.deg2rad,l.rad2deg=p.rad2deg,l.wrap360=p.wrap360,l.wrap180=p.wrap180;var v=r(310);l.segmentsIntersect=v.segmentsIntersect,l.segmentDistance=v.segmentDistance,l.getTextLocation=v.getTextLocation,l.clearLocationCache=v.clearLocationCache,l.getVisibleSegment=v.getVisibleSegment,l.findPointOnPath=v.findPointOnPath;var y=r(18);l.extendFlat=y.extendFlat,l.extendDeep=y.extendDeep,l.extendDeepAll=y.extendDeepAll,l.extendDeepNoArrays=y.extendDeepNoArrays;var g=r(45);l.log=g.log,l.warn=g.warn,l.error=g.error;var m=r(146);l.counterRegex=m.counter;var b=r(94);l.throttle=b.throttle,l.throttleDone=b.done,l.clearThrottle=b.clear,l.getGraphDiv=r(150),l._=r(311),l.notifier=r(312),l.filterUnique=r(313),l.filterVisible=r(314),l.pushUnique=r(141),l.cleanNumber=r(315),l.ensureNumber=function(t){return i(t)?(t=Number(t))<-a||t>a?s:i(t)?Number(t):s:s},l.noop=r(89),l.identity=r(316),l.swapAttrs=function(t,e,r,n){r||(r="x"),n||(n="y");for(var i=0;i<e.length;i++){var o=e[i],a=l.nestedProperty(t,o.replace("?",r)),s=l.nestedProperty(t,o.replace("?",n)),c=a.get();a.set(s.get()),s.set(c)}},l.pauseEvent=function(t){return t.stopPropagation&&t.stopPropagation(),t.preventDefault&&t.preventDefault(),t.cancelBubble=!0,!1},l.raiseToTop=function(t){t.parentNode.appendChild(t)},l.cancelTransition=function(t){return t.transition().duration(0)},l.constrain=function(t,e,r){return e>r?Math.max(r,Math.min(e,t)):Math.max(e,Math.min(r,t))},l.bBoxIntersect=function(t,e,r){return r=r||0,t.left<=e.right+r&&e.left<=t.right+r&&t.top<=e.bottom+r&&e.top<=t.bottom+r},l.simpleMap=function(t,e,r,n){for(var i=t.length,o=new Array(i),a=0;a<i;a++)o[a]=e(t[a],r,n);return o},l.randstr=function t(e,r,n){if(n||(n=16),void 0===r&&(r=24),r<=0)return"0";var i,o,a=Math.log(Math.pow(2,r))/Math.log(n),s="";for(i=2;a===1/0;i*=2)a=Math.log(Math.pow(2,r/i))/Math.log(n)*i;var l=a-Math.floor(a);for(i=0;i<Math.floor(a);i++)s=Math.floor(Math.random()*n).toString(n)+s;l&&(o=Math.pow(n,l),s=Math.floor(Math.random()*o).toString(n)+s);var c=parseInt(s,n);return e&&e.indexOf(s)>-1||c!==1/0&&c>=Math.pow(2,r)?t(e,r,n):s},l.OptionControl=function(t,e){t||(t={}),e||(e="opt");var r={optionList:[],_newoption:function(n){n[e]=t,r[n.name]=n,r.optionList.push(n)}};return r["_"+e]=t,r},l.smooth=function(t,e){if((e=Math.round(e)||0)<2)return t;var r,n,i,o,a=t.length,s=2*a,l=2*e-1,c=new Array(l),u=new Array(a);for(r=0;r<l;r++)c[r]=(1-Math.cos(Math.PI*(r+1)/e))/(2*e);for(r=0;r<a;r++){for(o=0,n=0;n<l;n++)(i=r+n+1-e)<-a?i-=s*Math.round(i/s):i>=s&&(i-=s*Math.floor(i/s)),i<0?i=-1-i:i>=a&&(i=s-1-i),o+=t[i]*c[n];u[r]=o}return u},l.syncOrAsync=function(t,e,r){var n;function i(){return l.syncOrAsync(t,e,r)}for(;t.length;)if((n=(0,t.splice(0,1)[0])(e))&&n.then)return n.then(i).then(void 0,l.promiseError);return r&&r(e)},l.stripTrailingSlash=function(t){return"/"===t.substr(-1)?t.substr(0,t.length-1):t},l.noneOrAll=function(t,e,r){if(t){var n,i,o=!1,a=!0;for(n=0;n<r.length;n++)void 0!==(i=t[r[n]])&&null!==i?o=!0:a=!1;if(o&&!a)for(n=0;n<r.length;n++)t[r[n]]=e[r[n]]}},l.mergeArray=function(t,e,r){if(Array.isArray(t))for(var n=Math.min(t.length,e.length),i=0;i<n;i++)e[i][r]=t[i]},l.fillArray=function(t,e,r,n){if(n=n||l.identity,Array.isArray(t))for(var i=0;i<e.length;i++)e[i][r]=n(t[i])},l.castOption=function(t,e,r,n){n=n||l.identity;var i=l.nestedProperty(t,r).get();return Array.isArray(i)?Array.isArray(e)&&Array.isArray(i[e[0]])?n(i[e[0]][e[1]]):n(i[e]):i},l.extractOption=function(t,e,r,n){if(r in t)return t[r];var i=l.nestedProperty(e,n).get();return Array.isArray(i)?void 0:i},l.tagSelected=function(t,e,r){var n,o,a=e.selectedpoints,s=e._indexToPoints;if(s)for(var l in n={},s)for(var c=s[l],u=0;u<c.length;u++)n[c[u]]=l;function h(e){return void 0!==e&&e<t.length}for(var f=0;f<a.length;f++){var d=a[f];if(i(o=d)&&o>=0&&o%1==0){var p=n?n[d]:d,v=r?r[p]:p;h(v)&&(t[v].selected=1)}}},l.getTargetArray=function(t,e){var r=e.target;if("string"==typeof r&&r){var n=l.nestedProperty(t,r).get();return!!Array.isArray(n)&&n}return!!Array.isArray(r)&&r},l.minExtend=function(t,e){var r={};"object"!=typeof e&&(e={});var n,i,o,a=Object.keys(t);for(n=0;n<a.length;n++)o=t[i=a[n]],"_"!==i.charAt(0)&&"function"!=typeof o&&("module"===i?r[i]=o:Array.isArray(o)?r[i]=o.slice(0,3):r[i]=o&&"object"==typeof o?l.minExtend(t[i],e[i]):o);for(a=Object.keys(e),n=0;n<a.length;n++)"object"==typeof(o=e[i=a[n]])&&i in r&&"object"==typeof r[i]||(r[i]=o);return r},l.titleCase=function(t){return t.charAt(0).toUpperCase()+t.substr(1)},l.containsAny=function(t,e){for(var r=0;r<e.length;r++)if(-1!==t.indexOf(e[r]))return!0;return!1},l.isPlotDiv=function(t){var e=n.select(t);return e.node()instanceof HTMLElement&&e.size()&&e.classed("js-plotly-plot")},l.removeElement=function(t){var e=t&&t.parentNode;e&&e.removeChild(t)},l.addStyleRule=function(t,e){if(!l.styleSheet){var r=document.createElement("style");r.appendChild(document.createTextNode("")),document.head.appendChild(r),l.styleSheet=r.sheet}var n=l.styleSheet;n.insertRule?n.insertRule(t+"{"+e+"}",0):n.addRule?n.addRule(t,e,0):l.warn("addStyleRule failed")},l.isIE=function(){return void 0!==window.navigator.msSaveBlob},l.isD3Selection=function(t){return t&&"function"==typeof t.classed},l.objectFromPath=function(t,e){for(var r,n=t.split("."),i=r={},o=0;o<n.length;o++){var a=n[o],s=null,l=n[o].match(/(.*)\[([0-9]+)\]/);l?(a=l[1],s=l[2],r=r[a]=[],o===n.length-1?r[s]=e:r[s]={},r=r[s]):(o===n.length-1?r[a]=e:r[a]={},r=r[a])}return i};var x=/^([^\[\.]+)\.(.+)?/,w=/^([^\.]+)\[([0-9]+)\](\.)?(.+)?/;l.expandObjectPaths=function(t){var e,r,n,i,o,a,s;if("object"==typeof t&&!Array.isArray(t))for(r in t)t.hasOwnProperty(r)&&((e=r.match(x))?(i=t[r],n=e[1],delete t[r],t[n]=l.extendDeepNoArrays(t[n]||{},l.objectFromPath(r,l.expandObjectPaths(i))[n])):(e=r.match(w))?(i=t[r],n=e[1],o=parseInt(e[2]),delete t[r],t[n]=t[n]||[],"."===e[3]?(s=e[4],a=t[n][o]=t[n][o]||{},l.extendDeepNoArrays(a,l.objectFromPath(s,l.expandObjectPaths(i)))):t[n][o]=l.expandObjectPaths(i)):t[r]=l.expandObjectPaths(t[r]));return t},l.numSeparate=function(t,e,r){if(r||(r=!1),"string"!=typeof e||0===e.length)throw new Error("Separator string required for formatting!");"number"==typeof t&&(t=String(t));var n=/(\d+)(\d{3})/,i=e.charAt(0),o=e.charAt(1),a=t.split("."),s=a[0],l=a.length>1?i+a[1]:"";if(o&&(a.length>1||s.length>4||r))for(;n.test(s);)s=s.replace(n,"$1"+o+"$2");return s+l};var _=/%{([^\s%{}]*)}/g,k=/^\w*$/;l.templateString=function(t,e){var r={};return t.replace(_,function(t,n){return k.test(n)?e[n]||"":(r[n]=r[n]||l.nestedProperty(e,n).get,r[n]()||"")})};l.subplotSort=function(t,e){for(var r=Math.min(t.length,e.length)+1,n=0,i=0,o=0;o<r;o++){var a=t.charCodeAt(o)||0,s=e.charCodeAt(o)||0,l=a>=48&&a<=57,c=s>=48&&s<=57;if(l&&(n=10*n+a-48),c&&(i=10*i+s-48),!l||!c){if(n!==i)return n-i;if(a!==s)return a-s}}return i-n},l.eventListenerOptionsSupported=function(){var t=!1;try{var e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("test",null,e),window.removeEventListener("test",null,e)}catch(e){t=!1}return t}},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function n(){this.constructor=t}t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=r(75),o=r(13),a=r(200),s=r(76),l=function(t){function e(r,n,i){switch(t.call(this),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=a.empty;break;case 1:if(!r){this.destination=a.empty;break}if("object"==typeof r){r instanceof e?(this.syncErrorThrowable=r.syncErrorThrowable,this.destination=r,this.destination.add(this)):(this.syncErrorThrowable=!0,this.destination=new c(this,r));break}default:this.syncErrorThrowable=!0,this.destination=new c(this,r,n,i)}}return n(e,t),e.prototype[s.rxSubscriber]=function(){return this},e.create=function(t,r,n){var i=new e(t,r,n);return i.syncErrorThrowable=!1,i},e.prototype.next=function(t){this.isStopped||this._next(t)},e.prototype.error=function(t){this.isStopped||(this.isStopped=!0,this._error(t))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this))},e.prototype._next=function(t){this.destination.next(t)},e.prototype._error=function(t){this.destination.error(t),this.unsubscribe()},e.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},e.prototype._unsubscribeAndRecycle=function(){var t=this._parent,e=this._parents;return this._parent=null,this._parents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parent=t,this._parents=e,this},e}(o.Subscription);e.Subscriber=l;var c=function(t){function e(e,r,n,o){var s;t.call(this),this._parentSubscriber=e;var l=this;i.isFunction(r)?s=r:r&&(s=r.next,n=r.error,o=r.complete,r!==a.empty&&(l=Object.create(r),i.isFunction(l.unsubscribe)&&this.add(l.unsubscribe.bind(l)),l.unsubscribe=this.unsubscribe.bind(this))),this._context=l,this._next=s,this._error=n,this._complete=o}return n(e,t),e.prototype.next=function(t){if(!this.isStopped&&this._next){var e=this._parentSubscriber;e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}},e.prototype.error=function(t){if(!this.isStopped){var e=this._parentSubscriber;if(this._error)e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else{if(!e.syncErrorThrowable)throw this.unsubscribe(),t;e.syncErrorValue=t,e.syncErrorThrown=!0,this.unsubscribe()}}},e.prototype.complete=function(){var t=this;if(!this.isStopped){var e=this._parentSubscriber;if(this._complete){var r=function(){return t._complete.call(t._context)};e.syncErrorThrowable?(this.__tryOrSetError(e,r),this.unsubscribe()):(this.__tryOrUnsub(r),this.unsubscribe())}else this.unsubscribe()}},e.prototype.__tryOrUnsub=function(t,e){try{t.call(this._context,e)}catch(t){throw this.unsubscribe(),t}},e.prototype.__tryOrSetError=function(t,e,r){try{e.call(this._context,r)}catch(e){return t.syncErrorValue=e,t.syncErrorThrown=!0,!0}return!1},e.prototype._unsubscribe=function(){var t=this._parentSubscriber;this._context=null,this._parentSubscriber=null,t.unsubscribe()},e}(l)},function(t,e,r){var n,i;!function(){var o={version:"3.5.17"},a=[].slice,s=function(t){return a.call(t)},l=this.document;function c(t){return t&&(t.ownerDocument||t.document||t).documentElement}function u(t){return t&&(t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView)}if(l)try{s(l.documentElement.childNodes)[0].nodeType}catch(t){s=function(t){for(var e=t.length,r=new Array(e);e--;)r[e]=t[e];return r}}if(Date.now||(Date.now=function(){return+new Date}),l)try{l.createElement("DIV").style.setProperty("opacity",0,"")}catch(t){var h=this.Element.prototype,f=h.setAttribute,d=h.setAttributeNS,p=this.CSSStyleDeclaration.prototype,v=p.setProperty;h.setAttribute=function(t,e){f.call(this,t,e+"")},h.setAttributeNS=function(t,e,r){d.call(this,t,e,r+"")},p.setProperty=function(t,e,r){v.call(this,t,e+"",r)}}function y(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function g(t){return null===t?NaN:+t}function m(t){return!isNaN(t)}function b(t){return{left:function(e,r,n,i){for(arguments.length<3&&(n=0),arguments.length<4&&(i=e.length);n<i;){var o=n+i>>>1;t(e[o],r)<0?n=o+1:i=o}return n},right:function(e,r,n,i){for(arguments.length<3&&(n=0),arguments.length<4&&(i=e.length);n<i;){var o=n+i>>>1;t(e[o],r)>0?i=o:n=o+1}return n}}}o.ascending=y,o.descending=function(t,e){return e<t?-1:e>t?1:e>=t?0:NaN},o.min=function(t,e){var r,n,i=-1,o=t.length;if(1===arguments.length){for(;++i<o;)if(null!=(n=t[i])&&n>=n){r=n;break}for(;++i<o;)null!=(n=t[i])&&r>n&&(r=n)}else{for(;++i<o;)if(null!=(n=e.call(t,t[i],i))&&n>=n){r=n;break}for(;++i<o;)null!=(n=e.call(t,t[i],i))&&r>n&&(r=n)}return r},o.max=function(t,e){var r,n,i=-1,o=t.length;if(1===arguments.length){for(;++i<o;)if(null!=(n=t[i])&&n>=n){r=n;break}for(;++i<o;)null!=(n=t[i])&&n>r&&(r=n)}else{for(;++i<o;)if(null!=(n=e.call(t,t[i],i))&&n>=n){r=n;break}for(;++i<o;)null!=(n=e.call(t,t[i],i))&&n>r&&(r=n)}return r},o.extent=function(t,e){var r,n,i,o=-1,a=t.length;if(1===arguments.length){for(;++o<a;)if(null!=(n=t[o])&&n>=n){r=i=n;break}for(;++o<a;)null!=(n=t[o])&&(r>n&&(r=n),i<n&&(i=n))}else{for(;++o<a;)if(null!=(n=e.call(t,t[o],o))&&n>=n){r=i=n;break}for(;++o<a;)null!=(n=e.call(t,t[o],o))&&(r>n&&(r=n),i<n&&(i=n))}return[r,i]},o.sum=function(t,e){var r,n=0,i=t.length,o=-1;if(1===arguments.length)for(;++o<i;)m(r=+t[o])&&(n+=r);else for(;++o<i;)m(r=+e.call(t,t[o],o))&&(n+=r);return n},o.mean=function(t,e){var r,n=0,i=t.length,o=-1,a=i;if(1===arguments.length)for(;++o<i;)m(r=g(t[o]))?n+=r:--a;else for(;++o<i;)m(r=g(e.call(t,t[o],o)))?n+=r:--a;if(a)return n/a},o.quantile=function(t,e){var r=(t.length-1)*e+1,n=Math.floor(r),i=+t[n-1],o=r-n;return o?i+o*(t[n]-i):i},o.median=function(t,e){var r,n=[],i=t.length,a=-1;if(1===arguments.length)for(;++a<i;)m(r=g(t[a]))&&n.push(r);else for(;++a<i;)m(r=g(e.call(t,t[a],a)))&&n.push(r);if(n.length)return o.quantile(n.sort(y),.5)},o.variance=function(t,e){var r,n,i=t.length,o=0,a=0,s=-1,l=0;if(1===arguments.length)for(;++s<i;)m(r=g(t[s]))&&(a+=(n=r-o)*(r-(o+=n/++l)));else for(;++s<i;)m(r=g(e.call(t,t[s],s)))&&(a+=(n=r-o)*(r-(o+=n/++l)));if(l>1)return a/(l-1)},o.deviation=function(){var t=o.variance.apply(this,arguments);return t?Math.sqrt(t):t};var x=b(y);function w(t){return t.length}o.bisectLeft=x.left,o.bisect=o.bisectRight=x.right,o.bisector=function(t){return b(1===t.length?function(e,r){return y(t(e),r)}:t)},o.shuffle=function(t,e,r){(o=arguments.length)<3&&(r=t.length,o<2&&(e=0));for(var n,i,o=r-e;o;)i=Math.random()*o--|0,n=t[o+e],t[o+e]=t[i+e],t[i+e]=n;return t},o.permute=function(t,e){for(var r=e.length,n=new Array(r);r--;)n[r]=t[e[r]];return n},o.pairs=function(t){for(var e=0,r=t.length-1,n=t[0],i=new Array(r<0?0:r);e<r;)i[e]=[n,n=t[++e]];return i},o.transpose=function(t){if(!(i=t.length))return[];for(var e=-1,r=o.min(t,w),n=new Array(r);++e<r;)for(var i,a=-1,s=n[e]=new Array(i);++a<i;)s[a]=t[a][e];return n},o.zip=function(){return o.transpose(arguments)},o.keys=function(t){var e=[];for(var r in t)e.push(r);return e},o.values=function(t){var e=[];for(var r in t)e.push(t[r]);return e},o.entries=function(t){var e=[];for(var r in t)e.push({key:r,value:t[r]});return e},o.merge=function(t){for(var e,r,n,i=t.length,o=-1,a=0;++o<i;)a+=t[o].length;for(r=new Array(a);--i>=0;)for(e=(n=t[i]).length;--e>=0;)r[--a]=n[e];return r};var _=Math.abs;function k(t,e){for(var r in e)Object.defineProperty(t.prototype,r,{value:e[r],enumerable:!1})}function T(){this._=Object.create(null)}o.range=function(t,e,r){if(arguments.length<3&&(r=1,arguments.length<2&&(e=t,t=0)),(e-t)/r==1/0)throw new Error("infinite range");var n,i=[],o=function(t){var e=1;for(;t*e%1;)e*=10;return e}(_(r)),a=-1;if(t*=o,e*=o,(r*=o)<0)for(;(n=t+r*++a)>e;)i.push(n/o);else for(;(n=t+r*++a)<e;)i.push(n/o);return i},o.map=function(t,e){var r=new T;if(t instanceof T)t.forEach(function(t,e){r.set(t,e)});else if(Array.isArray(t)){var n,i=-1,o=t.length;if(1===arguments.length)for(;++i<o;)r.set(i,t[i]);else for(;++i<o;)r.set(e.call(t,n=t[i],i),n)}else for(var a in t)r.set(a,t[a]);return r};var A="__proto__",M="\0";function S(t){return(t+="")===A||t[0]===M?M+t:t}function O(t){return(t+="")[0]===M?t.slice(1):t}function C(t){return S(t)in this._}function L(t){return(t=S(t))in this._&&delete this._[t]}function j(){var t=[];for(var e in this._)t.push(O(e));return t}function I(){var t=0;for(var e in this._)++t;return t}function P(){for(var t in this._)return!1;return!0}function E(){this._=Object.create(null)}function z(t){return t}function N(t,e,r){return function(){var n=r.apply(e,arguments);return n===e?t:n}}function D(t,e){if(e in t)return e;e=e.charAt(0).toUpperCase()+e.slice(1);for(var r=0,n=R.length;r<n;++r){var i=R[r]+e;if(i in t)return i}}k(T,{has:C,get:function(t){return this._[S(t)]},set:function(t,e){return this._[S(t)]=e},remove:L,keys:j,values:function(){var t=[];for(var e in this._)t.push(this._[e]);return t},entries:function(){var t=[];for(var e in this._)t.push({key:O(e),value:this._[e]});return t},size:I,empty:P,forEach:function(t){for(var e in this._)t.call(this,O(e),this._[e])}}),o.nest=function(){var t,e,r={},n=[],i=[];function a(i,o,s){if(s>=n.length)return e?e.call(r,o):t?o.sort(t):o;for(var l,c,u,h,f=-1,d=o.length,p=n[s++],v=new T;++f<d;)(h=v.get(l=p(c=o[f])))?h.push(c):v.set(l,[c]);return i?(c=i(),u=function(t,e){c.set(t,a(i,e,s))}):(c={},u=function(t,e){c[t]=a(i,e,s)}),v.forEach(u),c}return r.map=function(t,e){return a(e,t,0)},r.entries=function(t){return function t(e,r){if(r>=n.length)return e;var o=[],a=i[r++];return e.forEach(function(e,n){o.push({key:e,values:t(n,r)})}),a?o.sort(function(t,e){return a(t.key,e.key)}):o}(a(o.map,t,0),0)},r.key=function(t){return n.push(t),r},r.sortKeys=function(t){return i[n.length-1]=t,r},r.sortValues=function(e){return t=e,r},r.rollup=function(t){return e=t,r},r},o.set=function(t){var e=new E;if(t)for(var r=0,n=t.length;r<n;++r)e.add(t[r]);return e},k(E,{has:C,add:function(t){return this._[S(t+="")]=!0,t},remove:L,values:j,size:I,empty:P,forEach:function(t){for(var e in this._)t.call(this,O(e))}}),o.behavior={},o.rebind=function(t,e){for(var r,n=1,i=arguments.length;++n<i;)t[r=arguments[n]]=N(t,e,e[r]);return t};var R=["webkit","ms","moz","Moz","o","O"];function F(){}function B(){}function V(t){var e=[],r=new T;function n(){for(var r,n=e,i=-1,o=n.length;++i<o;)(r=n[i].on)&&r.apply(this,arguments);return t}return n.on=function(n,i){var o,a=r.get(n);return arguments.length<2?a&&a.on:(a&&(a.on=null,e=e.slice(0,o=e.indexOf(a)).concat(e.slice(o+1)),r.remove(n)),i&&e.push(r.set(n,{on:i})),t)},n}function q(){o.event.preventDefault()}function H(){for(var t,e=o.event;t=e.sourceEvent;)e=t;return e}function U(t){for(var e=new B,r=0,n=arguments.length;++r<n;)e[arguments[r]]=V(e);return e.of=function(r,n){return function(i){try{var a=i.sourceEvent=o.event;i.target=t,o.event=i,e[i.type].apply(r,n)}finally{o.event=a}}},e}o.dispatch=function(){for(var t=new B,e=-1,r=arguments.length;++e<r;)t[arguments[e]]=V(t);return t},B.prototype.on=function(t,e){var r=t.indexOf("."),n="";if(r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),t)return arguments.length<2?this[t].on(n):this[t].on(n,e);if(2===arguments.length){if(null==e)for(t in this)this.hasOwnProperty(t)&&this[t].on(n,null);return this}},o.event=null,o.requote=function(t){return t.replace(W,"\\$&")};var W=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,G={}.__proto__?function(t,e){t.__proto__=e}:function(t,e){for(var r in e)t[r]=e[r]};function Y(t){return G(t,$),t}var X=function(t,e){return e.querySelector(t)},Z=function(t,e){return e.querySelectorAll(t)},J=function(t,e){var r=t.matches||t[D(t,"matchesSelector")];return(J=function(t,e){return r.call(t,e)})(t,e)};"function"==typeof Sizzle&&(X=function(t,e){return Sizzle(t,e)[0]||null},Z=Sizzle,J=Sizzle.matchesSelector),o.selection=function(){return o.select(l.documentElement)};var $=o.selection.prototype=[];function Q(t){return"function"==typeof t?t:function(){return X(t,this)}}function K(t){return"function"==typeof t?t:function(){return Z(t,this)}}$.select=function(t){var e,r,n,i,o=[];t=Q(t);for(var a=-1,s=this.length;++a<s;){o.push(e=[]),e.parentNode=(n=this[a]).parentNode;for(var l=-1,c=n.length;++l<c;)(i=n[l])?(e.push(r=t.call(i,i.__data__,l,a)),r&&"__data__"in i&&(r.__data__=i.__data__)):e.push(null)}return Y(o)},$.selectAll=function(t){var e,r,n=[];t=K(t);for(var i=-1,o=this.length;++i<o;)for(var a=this[i],l=-1,c=a.length;++l<c;)(r=a[l])&&(n.push(e=s(t.call(r,r.__data__,l,i))),e.parentNode=r);return Y(n)};var tt="http://www.w3.org/1999/xhtml",et={svg:"http://www.w3.org/2000/svg",xhtml:tt,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function rt(t,e){return t=o.ns.qualify(t),null==e?t.local?function(){this.removeAttributeNS(t.space,t.local)}:function(){this.removeAttribute(t)}:"function"==typeof e?t.local?function(){var r=e.apply(this,arguments);null==r?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,r)}:function(){var r=e.apply(this,arguments);null==r?this.removeAttribute(t):this.setAttribute(t,r)}:t.local?function(){this.setAttributeNS(t.space,t.local,e)}:function(){this.setAttribute(t,e)}}function nt(t){return t.trim().replace(/\s+/g," ")}function it(t){return new RegExp("(?:^|\\s+)"+o.requote(t)+"(?:\\s+|$)","g")}function ot(t){return(t+"").trim().split(/^|\s+/)}function at(t,e){var r=(t=ot(t).map(st)).length;return"function"==typeof e?function(){for(var n=-1,i=e.apply(this,arguments);++n<r;)t[n](this,i)}:function(){for(var n=-1;++n<r;)t[n](this,e)}}function st(t){var e=it(t);return function(r,n){if(i=r.classList)return n?i.add(t):i.remove(t);var i=r.getAttribute("class")||"";n?(e.lastIndex=0,e.test(i)||r.setAttribute("class",nt(i+" "+t))):r.setAttribute("class",nt(i.replace(e," ")))}}function lt(t,e,r){return null==e?function(){this.style.removeProperty(t)}:"function"==typeof e?function(){var n=e.apply(this,arguments);null==n?this.style.removeProperty(t):this.style.setProperty(t,n,r)}:function(){this.style.setProperty(t,e,r)}}function ct(t,e){return null==e?function(){delete this[t]}:"function"==typeof e?function(){var r=e.apply(this,arguments);null==r?delete this[t]:this[t]=r}:function(){this[t]=e}}function ut(t){return"function"==typeof t?t:(t=o.ns.qualify(t)).local?function(){return this.ownerDocument.createElementNS(t.space,t.local)}:function(){var e=this.ownerDocument,r=this.namespaceURI;return r===tt&&e.documentElement.namespaceURI===tt?e.createElement(t):e.createElementNS(r,t)}}function ht(){var t=this.parentNode;t&&t.removeChild(this)}function ft(t){return{__data__:t}}function dt(t){return function(){return J(this,t)}}function pt(t,e){for(var r=0,n=t.length;r<n;r++)for(var i,o=t[r],a=0,s=o.length;a<s;a++)(i=o[a])&&e(i,a,r);return t}function vt(t){return G(t,yt),t}o.ns={prefix:et,qualify:function(t){var e=t.indexOf(":"),r=t;return e>=0&&"xmlns"!==(r=t.slice(0,e))&&(t=t.slice(e+1)),et.hasOwnProperty(r)?{space:et[r],local:t}:t}},$.attr=function(t,e){if(arguments.length<2){if("string"==typeof t){var r=this.node();return(t=o.ns.qualify(t)).local?r.getAttributeNS(t.space,t.local):r.getAttribute(t)}for(e in t)this.each(rt(e,t[e]));return this}return this.each(rt(t,e))},$.classed=function(t,e){if(arguments.length<2){if("string"==typeof t){var r=this.node(),n=(t=ot(t)).length,i=-1;if(e=r.classList){for(;++i<n;)if(!e.contains(t[i]))return!1}else for(e=r.getAttribute("class");++i<n;)if(!it(t[i]).test(e))return!1;return!0}for(e in t)this.each(at(e,t[e]));return this}return this.each(at(t,e))},$.style=function(t,e,r){var n=arguments.length;if(n<3){if("string"!=typeof t){for(r in n<2&&(e=""),t)this.each(lt(r,t[r],e));return this}if(n<2){var i=this.node();return u(i).getComputedStyle(i,null).getPropertyValue(t)}r=""}return this.each(lt(t,e,r))},$.property=function(t,e){if(arguments.length<2){if("string"==typeof t)return this.node()[t];for(e in t)this.each(ct(e,t[e]));return this}return this.each(ct(t,e))},$.text=function(t){return arguments.length?this.each("function"==typeof t?function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}:null==t?function(){this.textContent=""}:function(){this.textContent=t}):this.node().textContent},$.html=function(t){return arguments.length?this.each("function"==typeof t?function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}:null==t?function(){this.innerHTML=""}:function(){this.innerHTML=t}):this.node().innerHTML},$.append=function(t){return t=ut(t),this.select(function(){return this.appendChild(t.apply(this,arguments))})},$.insert=function(t,e){return t=ut(t),e=Q(e),this.select(function(){return this.insertBefore(t.apply(this,arguments),e.apply(this,arguments)||null)})},$.remove=function(){return this.each(ht)},$.data=function(t,e){var r,n,i=-1,o=this.length;if(!arguments.length){for(t=new Array(o=(r=this[0]).length);++i<o;)(n=r[i])&&(t[i]=n.__data__);return t}function a(t,r){var n,i,o,a=t.length,u=r.length,h=Math.min(a,u),f=new Array(u),d=new Array(u),p=new Array(a);if(e){var v,y=new T,g=new Array(a);for(n=-1;++n<a;)(i=t[n])&&(y.has(v=e.call(i,i.__data__,n))?p[n]=i:y.set(v,i),g[n]=v);for(n=-1;++n<u;)(i=y.get(v=e.call(r,o=r[n],n)))?!0!==i&&(f[n]=i,i.__data__=o):d[n]=ft(o),y.set(v,!0);for(n=-1;++n<a;)n in g&&!0!==y.get(g[n])&&(p[n]=t[n])}else{for(n=-1;++n<h;)i=t[n],o=r[n],i?(i.__data__=o,f[n]=i):d[n]=ft(o);for(;n<u;++n)d[n]=ft(r[n]);for(;n<a;++n)p[n]=t[n]}d.update=f,d.parentNode=f.parentNode=p.parentNode=t.parentNode,s.push(d),l.push(f),c.push(p)}var s=vt([]),l=Y([]),c=Y([]);if("function"==typeof t)for(;++i<o;)a(r=this[i],t.call(r,r.parentNode.__data__,i));else for(;++i<o;)a(r=this[i],t);return l.enter=function(){return s},l.exit=function(){return c},l},$.datum=function(t){return arguments.length?this.property("__data__",t):this.property("__data__")},$.filter=function(t){var e,r,n,i=[];"function"!=typeof t&&(t=dt(t));for(var o=0,a=this.length;o<a;o++){i.push(e=[]),e.parentNode=(r=this[o]).parentNode;for(var s=0,l=r.length;s<l;s++)(n=r[s])&&t.call(n,n.__data__,s,o)&&e.push(n)}return Y(i)},$.order=function(){for(var t=-1,e=this.length;++t<e;)for(var r,n=this[t],i=n.length-1,o=n[i];--i>=0;)(r=n[i])&&(o&&o!==r.nextSibling&&o.parentNode.insertBefore(r,o),o=r);return this},$.sort=function(t){t=function(t){arguments.length||(t=y);return function(e,r){return e&&r?t(e.__data__,r.__data__):!e-!r}}.apply(this,arguments);for(var e=-1,r=this.length;++e<r;)this[e].sort(t);return this.order()},$.each=function(t){return pt(this,function(e,r,n){t.call(e,e.__data__,r,n)})},$.call=function(t){var e=s(arguments);return t.apply(e[0]=this,e),this},$.empty=function(){return!this.node()},$.node=function(){for(var t=0,e=this.length;t<e;t++)for(var r=this[t],n=0,i=r.length;n<i;n++){var o=r[n];if(o)return o}return null},$.size=function(){var t=0;return pt(this,function(){++t}),t};var yt=[];function gt(t,e,r){var n="__on"+t,i=t.indexOf("."),a=bt;i>0&&(t=t.slice(0,i));var l=mt.get(t);function c(){var e=this[n];e&&(this.removeEventListener(t,e,e.$),delete this[n])}return l&&(t=l,a=xt),i?e?function(){var i=a(e,s(arguments));c.call(this),this.addEventListener(t,this[n]=i,i.$=r),i._=e}:c:e?F:function(){var e,r=new RegExp("^__on([^.]+)"+o.requote(t)+"$");for(var n in this)if(e=n.match(r)){var i=this[n];this.removeEventListener(e[1],i,i.$),delete this[n]}}}o.selection.enter=vt,o.selection.enter.prototype=yt,yt.append=$.append,yt.empty=$.empty,yt.node=$.node,yt.call=$.call,yt.size=$.size,yt.select=function(t){for(var e,r,n,i,o,a=[],s=-1,l=this.length;++s<l;){n=(i=this[s]).update,a.push(e=[]),e.parentNode=i.parentNode;for(var c=-1,u=i.length;++c<u;)(o=i[c])?(e.push(n[c]=r=t.call(i.parentNode,o.__data__,c,s)),r.__data__=o.__data__):e.push(null)}return Y(a)},yt.insert=function(t,e){var r,n,i;return arguments.length<2&&(r=this,e=function(t,e,o){var a,s=r[o].update,l=s.length;for(o!=i&&(i=o,n=0),e>=n&&(n=e+1);!(a=s[n])&&++n<l;);return a}),$.insert.call(this,t,e)},o.select=function(t){var e;return"string"==typeof t?(e=[X(t,l)]).parentNode=l.documentElement:(e=[t]).parentNode=c(t),Y([e])},o.selectAll=function(t){var e;return"string"==typeof t?(e=s(Z(t,l))).parentNode=l.documentElement:(e=s(t)).parentNode=null,Y([e])},$.on=function(t,e,r){var n=arguments.length;if(n<3){if("string"!=typeof t){for(r in n<2&&(e=!1),t)this.each(gt(r,t[r],e));return this}if(n<2)return(n=this.node()["__on"+t])&&n._;r=!1}return this.each(gt(t,e,r))};var mt=o.map({mouseenter:"mouseover",mouseleave:"mouseout"});function bt(t,e){return function(r){var n=o.event;o.event=r,e[0]=this.__data__;try{t.apply(this,e)}finally{o.event=n}}}function xt(t,e){var r=bt(t,e);return function(t){var e=t.relatedTarget;e&&(e===this||8&e.compareDocumentPosition(this))||r.call(this,t)}}l&&mt.forEach(function(t){"on"+t in l&&mt.remove(t)});var wt,_t=0;function kt(t){var e=".dragsuppress-"+ ++_t,r="click"+e,n=o.select(u(t)).on("touchmove"+e,q).on("dragstart"+e,q).on("selectstart"+e,q);if(null==wt&&(wt=!("onselectstart"in t)&&D(t.style,"userSelect")),wt){var i=c(t).style,a=i[wt];i[wt]="none"}return function(t){if(n.on(e,null),wt&&(i[wt]=a),t){var o=function(){n.on(r,null)};n.on(r,function(){q(),o()},!0),setTimeout(o,0)}}}o.mouse=function(t){return At(t,H())};var Tt=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;function At(t,e){e.changedTouches&&(e=e.changedTouches[0]);var r=t.ownerSVGElement||t;if(r.createSVGPoint){var n=r.createSVGPoint();if(Tt<0){var i=u(t);if(i.scrollX||i.scrollY){var a=(r=o.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important"))[0][0].getScreenCTM();Tt=!(a.f||a.e),r.remove()}}return Tt?(n.x=e.pageX,n.y=e.pageY):(n.x=e.clientX,n.y=e.clientY),[(n=n.matrixTransform(t.getScreenCTM().inverse())).x,n.y]}var s=t.getBoundingClientRect();return[e.clientX-s.left-t.clientLeft,e.clientY-s.top-t.clientTop]}function Mt(){return o.event.changedTouches[0].identifier}o.touch=function(t,e,r){if(arguments.length<3&&(r=e,e=H().changedTouches),e)for(var n,i=0,o=e.length;i<o;++i)if((n=e[i]).identifier===r)return At(t,n)},o.behavior.drag=function(){var t=U(i,"drag","dragstart","dragend"),e=null,r=a(F,o.mouse,u,"mousemove","mouseup"),n=a(Mt,o.touch,z,"touchmove","touchend");function i(){this.on("mousedown.drag",r).on("touchstart.drag",n)}function a(r,n,i,a,s){return function(){var l,c=o.event.target.correspondingElement||o.event.target,u=this.parentNode,h=t.of(this,arguments),f=0,d=r(),p=".drag"+(null==d?"":"-"+d),v=o.select(i(c)).on(a+p,function(){var t,e,r=n(u,d);if(!r)return;t=r[0]-g[0],e=r[1]-g[1],f|=t|e,g=r,h({type:"drag",x:r[0]+l[0],y:r[1]+l[1],dx:t,dy:e})}).on(s+p,function(){if(!n(u,d))return;v.on(a+p,null).on(s+p,null),y(f),h({type:"dragend"})}),y=kt(c),g=n(u,d);l=e?[(l=e.apply(this,arguments)).x-g[0],l.y-g[1]]:[0,0],h({type:"dragstart"})}}return i.origin=function(t){return arguments.length?(e=t,i):e},o.rebind(i,t,"on")},o.touches=function(t,e){return arguments.length<2&&(e=H().touches),e?s(e).map(function(e){var r=At(t,e);return r.identifier=e.identifier,r}):[]};var St=1e-6,Ot=St*St,Ct=Math.PI,Lt=2*Ct,jt=Lt-St,It=Ct/2,Pt=Ct/180,Et=180/Ct;function zt(t){return t>0?1:t<0?-1:0}function Nt(t,e,r){return(e[0]-t[0])*(r[1]-t[1])-(e[1]-t[1])*(r[0]-t[0])}function Dt(t){return t>1?0:t<-1?Ct:Math.acos(t)}function Rt(t){return t>1?It:t<-1?-It:Math.asin(t)}function Ft(t){return((t=Math.exp(t))+1/t)/2}function Bt(t){return(t=Math.sin(t/2))*t}var Vt=Math.SQRT2;o.interpolateZoom=function(t,e){var r,n,i=t[0],o=t[1],a=t[2],s=e[0],l=e[1],c=e[2],u=s-i,h=l-o,f=u*u+h*h;if(f<Ot)n=Math.log(c/a)/Vt,r=function(t){return[i+t*u,o+t*h,a*Math.exp(Vt*t*n)]};else{var d=Math.sqrt(f),p=(c*c-a*a+4*f)/(2*a*2*d),v=(c*c-a*a-4*f)/(2*c*2*d),y=Math.log(Math.sqrt(p*p+1)-p),g=Math.log(Math.sqrt(v*v+1)-v);n=(g-y)/Vt,r=function(t){var e,r=t*n,s=Ft(y),l=a/(2*d)*(s*(e=Vt*r+y,((e=Math.exp(2*e))-1)/(e+1))-function(t){return((t=Math.exp(t))-1/t)/2}(y));return[i+l*u,o+l*h,a*s/Ft(Vt*r+y)]}}return r.duration=1e3*n,r},o.behavior.zoom=function(){var t,e,r,n,i,a,s,c,h,f={x:0,y:0,k:1},d=[960,500],p=Ut,v=250,y=0,g="mousedown.zoom",m="mousemove.zoom",b="mouseup.zoom",x="touchstart.zoom",w=U(_,"zoomstart","zoom","zoomend");function _(t){t.on(g,j).on(Ht+".zoom",P).on("dblclick.zoom",E).on(x,I)}function k(t){return[(t[0]-f.x)/f.k,(t[1]-f.y)/f.k]}function T(t){f.k=Math.max(p[0],Math.min(p[1],t))}function A(t,e){e=function(t){return[t[0]*f.k+f.x,t[1]*f.k+f.y]}(e),f.x+=t[0]-e[0],f.y+=t[1]-e[1]}function M(t,r,n,i){t.__chart__={x:f.x,y:f.y,k:f.k},T(Math.pow(2,i)),A(e=r,n),t=o.select(t),v>0&&(t=t.transition().duration(v)),t.call(_.event)}function S(){s&&s.domain(a.range().map(function(t){return(t-f.x)/f.k}).map(a.invert)),h&&h.domain(c.range().map(function(t){return(t-f.y)/f.k}).map(c.invert))}function O(t){y++||t({type:"zoomstart"})}function C(t){S(),t({type:"zoom",scale:f.k,translate:[f.x,f.y]})}function L(t){--y||(t({type:"zoomend"}),e=null)}function j(){var t=this,e=w.of(t,arguments),r=0,n=o.select(u(t)).on(m,function(){r=1,A(o.mouse(t),i),C(e)}).on(b,function(){n.on(m,null).on(b,null),a(r),L(e)}),i=k(o.mouse(t)),a=kt(t);hs.call(t),O(e)}function I(){var t,e=this,r=w.of(e,arguments),n={},a=0,s=".zoom-"+o.event.changedTouches[0].identifier,l="touchmove"+s,c="touchend"+s,u=[],h=o.select(e),d=kt(e);function p(){var r=o.touches(e);return t=f.k,r.forEach(function(t){t.identifier in n&&(n[t.identifier]=k(t))}),r}function v(){var t=o.event.target;o.select(t).on(l,y).on(c,m),u.push(t);for(var r=o.event.changedTouches,s=0,h=r.length;s<h;++s)n[r[s].identifier]=null;var d=p(),v=Date.now();if(1===d.length){if(v-i<500){var g=d[0];M(e,g,n[g.identifier],Math.floor(Math.log(f.k)/Math.LN2)+1),q()}i=v}else if(d.length>1){g=d[0];var b=d[1],x=g[0]-b[0],w=g[1]-b[1];a=x*x+w*w}}function y(){var s,l,c,u,h=o.touches(e);hs.call(e);for(var f=0,d=h.length;f<d;++f,u=null)if(c=h[f],u=n[c.identifier]){if(l)break;s=c,l=u}if(u){var p=(p=c[0]-s[0])*p+(p=c[1]-s[1])*p,v=a&&Math.sqrt(p/a);s=[(s[0]+c[0])/2,(s[1]+c[1])/2],l=[(l[0]+u[0])/2,(l[1]+u[1])/2],T(v*t)}i=null,A(s,l),C(r)}function m(){if(o.event.touches.length){for(var t=o.event.changedTouches,e=0,i=t.length;e<i;++e)delete n[t[e].identifier];for(var a in n)return void p()}o.selectAll(u).on(s,null),h.on(g,j).on(x,I),d(),L(r)}v(),O(r),h.on(g,null).on(x,v)}function P(){var i=w.of(this,arguments);n?clearTimeout(n):(hs.call(this),t=k(e=r||o.mouse(this)),O(i)),n=setTimeout(function(){n=null,L(i)},50),q(),T(Math.pow(2,.002*qt())*f.k),A(e,t),C(i)}function E(){var t=o.mouse(this),e=Math.log(f.k)/Math.LN2;M(this,t,k(t),o.event.shiftKey?Math.ceil(e)-1:Math.floor(e)+1)}return Ht||(Ht="onwheel"in l?(qt=function(){return-o.event.deltaY*(o.event.deltaMode?120:1)},"wheel"):"onmousewheel"in l?(qt=function(){return o.event.wheelDelta},"mousewheel"):(qt=function(){return-o.event.detail},"MozMousePixelScroll")),_.event=function(t){t.each(function(){var t=w.of(this,arguments),r=f;ps?o.select(this).transition().each("start.zoom",function(){f=this.__chart__||{x:0,y:0,k:1},O(t)}).tween("zoom:zoom",function(){var n=d[0],i=d[1],a=e?e[0]:n/2,s=e?e[1]:i/2,l=o.interpolateZoom([(a-f.x)/f.k,(s-f.y)/f.k,n/f.k],[(a-r.x)/r.k,(s-r.y)/r.k,n/r.k]);return function(e){var r=l(e),i=n/r[2];this.__chart__=f={x:a-r[0]*i,y:s-r[1]*i,k:i},C(t)}}).each("interrupt.zoom",function(){L(t)}).each("end.zoom",function(){L(t)}):(this.__chart__=f,O(t),C(t),L(t))})},_.translate=function(t){return arguments.length?(f={x:+t[0],y:+t[1],k:f.k},S(),_):[f.x,f.y]},_.scale=function(t){return arguments.length?(f={x:f.x,y:f.y,k:null},T(+t),S(),_):f.k},_.scaleExtent=function(t){return arguments.length?(p=null==t?Ut:[+t[0],+t[1]],_):p},_.center=function(t){return arguments.length?(r=t&&[+t[0],+t[1]],_):r},_.size=function(t){return arguments.length?(d=t&&[+t[0],+t[1]],_):d},_.duration=function(t){return arguments.length?(v=+t,_):v},_.x=function(t){return arguments.length?(s=t,a=t.copy(),f={x:0,y:0,k:1},_):s},_.y=function(t){return arguments.length?(h=t,c=t.copy(),f={x:0,y:0,k:1},_):h},o.rebind(_,w,"on")};var qt,Ht,Ut=[0,1/0];function Wt(){}function Gt(t,e,r){return this instanceof Gt?(this.h=+t,this.s=+e,void(this.l=+r)):arguments.length<2?t instanceof Gt?new Gt(t.h,t.s,t.l):pe(""+t,ve,Gt):new Gt(t,e,r)}o.color=Wt,Wt.prototype.toString=function(){return this.rgb()+""},o.hsl=Gt;var Yt=Gt.prototype=new Wt;function Xt(t,e,r){var n,i;function o(t){return Math.round(255*function(t){return t>360?t-=360:t<0&&(t+=360),t<60?n+(i-n)*t/60:t<180?i:t<240?n+(i-n)*(240-t)/60:n}(t))}return t=isNaN(t)?0:(t%=360)<0?t+360:t,e=isNaN(e)?0:e<0?0:e>1?1:e,n=2*(r=r<0?0:r>1?1:r)-(i=r<=.5?r*(1+e):r+e-r*e),new ce(o(t+120),o(t),o(t-120))}function Zt(t,e,r){return this instanceof Zt?(this.h=+t,this.c=+e,void(this.l=+r)):arguments.length<2?t instanceof Zt?new Zt(t.h,t.c,t.l):oe(t instanceof Qt?t.l:(t=ye((t=o.rgb(t)).r,t.g,t.b)).l,t.a,t.b):new Zt(t,e,r)}Yt.brighter=function(t){return t=Math.pow(.7,arguments.length?t:1),new Gt(this.h,this.s,this.l/t)},Yt.darker=function(t){return t=Math.pow(.7,arguments.length?t:1),new Gt(this.h,this.s,t*this.l)},Yt.rgb=function(){return Xt(this.h,this.s,this.l)},o.hcl=Zt;var Jt=Zt.prototype=new Wt;function $t(t,e,r){return isNaN(t)&&(t=0),isNaN(e)&&(e=0),new Qt(r,Math.cos(t*=Pt)*e,Math.sin(t)*e)}function Qt(t,e,r){return this instanceof Qt?(this.l=+t,this.a=+e,void(this.b=+r)):arguments.length<2?t instanceof Qt?new Qt(t.l,t.a,t.b):t instanceof Zt?$t(t.h,t.c,t.l):ye((t=ce(t)).r,t.g,t.b):new Qt(t,e,r)}Jt.brighter=function(t){return new Zt(this.h,this.c,Math.min(100,this.l+Kt*(arguments.length?t:1)))},Jt.darker=function(t){return new Zt(this.h,this.c,Math.max(0,this.l-Kt*(arguments.length?t:1)))},Jt.rgb=function(){return $t(this.h,this.c,this.l).rgb()},o.lab=Qt;var Kt=18,te=.95047,ee=1,re=1.08883,ne=Qt.prototype=new Wt;function ie(t,e,r){var n=(t+16)/116,i=n+e/500,o=n-r/200;return new ce(le(3.2404542*(i=ae(i)*te)-1.5371385*(n=ae(n)*ee)-.4985314*(o=ae(o)*re)),le(-.969266*i+1.8760108*n+.041556*o),le(.0556434*i-.2040259*n+1.0572252*o))}function oe(t,e,r){return t>0?new Zt(Math.atan2(r,e)*Et,Math.sqrt(e*e+r*r),t):new Zt(NaN,NaN,t)}function ae(t){return t>.206893034?t*t*t:(t-4/29)/7.787037}function se(t){return t>.008856?Math.pow(t,1/3):7.787037*t+4/29}function le(t){return Math.round(255*(t<=.00304?12.92*t:1.055*Math.pow(t,1/2.4)-.055))}function ce(t,e,r){return this instanceof ce?(this.r=~~t,this.g=~~e,void(this.b=~~r)):arguments.length<2?t instanceof ce?new ce(t.r,t.g,t.b):pe(""+t,ce,Xt):new ce(t,e,r)}function ue(t){return new ce(t>>16,t>>8&255,255&t)}function he(t){return ue(t)+""}ne.brighter=function(t){return new Qt(Math.min(100,this.l+Kt*(arguments.length?t:1)),this.a,this.b)},ne.darker=function(t){return new Qt(Math.max(0,this.l-Kt*(arguments.length?t:1)),this.a,this.b)},ne.rgb=function(){return ie(this.l,this.a,this.b)},o.rgb=ce;var fe=ce.prototype=new Wt;function de(t){return t<16?"0"+Math.max(0,t).toString(16):Math.min(255,t).toString(16)}function pe(t,e,r){var n,i,o,a=0,s=0,l=0;if(n=/([a-z]+)\((.*)\)/.exec(t=t.toLowerCase()))switch(i=n[2].split(","),n[1]){case"hsl":return r(parseFloat(i[0]),parseFloat(i[1])/100,parseFloat(i[2])/100);case"rgb":return e(me(i[0]),me(i[1]),me(i[2]))}return(o=be.get(t))?e(o.r,o.g,o.b):(null==t||"#"!==t.charAt(0)||isNaN(o=parseInt(t.slice(1),16))||(4===t.length?(a=(3840&o)>>4,a|=a>>4,s=240&o,s|=s>>4,l=15&o,l|=l<<4):7===t.length&&(a=(16711680&o)>>16,s=(65280&o)>>8,l=255&o)),e(a,s,l))}function ve(t,e,r){var n,i,o=Math.min(t/=255,e/=255,r/=255),a=Math.max(t,e,r),s=a-o,l=(a+o)/2;return s?(i=l<.5?s/(a+o):s/(2-a-o),n=t==a?(e-r)/s+(e<r?6:0):e==a?(r-t)/s+2:(t-e)/s+4,n*=60):(n=NaN,i=l>0&&l<1?0:n),new Gt(n,i,l)}function ye(t,e,r){var n=se((.4124564*(t=ge(t))+.3575761*(e=ge(e))+.1804375*(r=ge(r)))/te),i=se((.2126729*t+.7151522*e+.072175*r)/ee);return Qt(116*i-16,500*(n-i),200*(i-se((.0193339*t+.119192*e+.9503041*r)/re)))}function ge(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function me(t){var e=parseFloat(t);return"%"===t.charAt(t.length-1)?Math.round(2.55*e):e}fe.brighter=function(t){t=Math.pow(.7,arguments.length?t:1);var e=this.r,r=this.g,n=this.b,i=30;return e||r||n?(e&&e<i&&(e=i),r&&r<i&&(r=i),n&&n<i&&(n=i),new ce(Math.min(255,e/t),Math.min(255,r/t),Math.min(255,n/t))):new ce(i,i,i)},fe.darker=function(t){return new ce((t=Math.pow(.7,arguments.length?t:1))*this.r,t*this.g,t*this.b)},fe.hsl=function(){return ve(this.r,this.g,this.b)},fe.toString=function(){return"#"+de(this.r)+de(this.g)+de(this.b)};var be=o.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});function xe(t){return"function"==typeof t?t:function(){return t}}function we(t){return function(e,r,n){return 2===arguments.length&&"function"==typeof r&&(n=r,r=null),_e(e,r,t,n)}}function _e(t,e,r,n){var i={},a=o.dispatch("beforesend","progress","load","error"),l={},c=new XMLHttpRequest,u=null;function h(){var t,e=c.status;if(!e&&function(t){var e=t.responseType;return e&&"text"!==e?t.response:t.responseText}(c)||e>=200&&e<300||304===e){try{t=r.call(i,c)}catch(t){return void a.error.call(i,t)}a.load.call(i,t)}else a.error.call(i,c)}return!this.XDomainRequest||"withCredentials"in c||!/^(http(s)?:)?\/\//.test(t)||(c=new XDomainRequest),"onload"in c?c.onload=c.onerror=h:c.onreadystatechange=function(){c.readyState>3&&h()},c.onprogress=function(t){var e=o.event;o.event=t;try{a.progress.call(i,c)}finally{o.event=e}},i.header=function(t,e){return t=(t+"").toLowerCase(),arguments.length<2?l[t]:(null==e?delete l[t]:l[t]=e+"",i)},i.mimeType=function(t){return arguments.length?(e=null==t?null:t+"",i):e},i.responseType=function(t){return arguments.length?(u=t,i):u},i.response=function(t){return r=t,i},["get","post"].forEach(function(t){i[t]=function(){return i.send.apply(i,[t].concat(s(arguments)))}}),i.send=function(r,n,o){if(2===arguments.length&&"function"==typeof n&&(o=n,n=null),c.open(r,t,!0),null==e||"accept"in l||(l.accept=e+",*/*"),c.setRequestHeader)for(var s in l)c.setRequestHeader(s,l[s]);return null!=e&&c.overrideMimeType&&c.overrideMimeType(e),null!=u&&(c.responseType=u),null!=o&&i.on("error",o).on("load",function(t){o(null,t)}),a.beforesend.call(i,c),c.send(null==n?null:n),i},i.abort=function(){return c.abort(),i},o.rebind(i,a,"on"),null==n?i:i.get(function(t){return 1===t.length?function(e,r){t(null==e?r:null)}:t}(n))}be.forEach(function(t,e){be.set(t,ue(e))}),o.functor=xe,o.xhr=we(z),o.dsv=function(t,e){var r=new RegExp('["'+t+"\n]"),n=t.charCodeAt(0);function i(t,r,n){arguments.length<3&&(n=r,r=null);var i=_e(t,e,null==r?o:a(r),n);return i.row=function(t){return arguments.length?i.response(null==(r=t)?o:a(t)):r},i}function o(t){return i.parse(t.responseText)}function a(t){return function(e){return i.parse(e.responseText,t)}}function s(e){return e.map(l).join(t)}function l(t){return r.test(t)?'"'+t.replace(/\"/g,'""')+'"':t}return i.parse=function(t,e){var r;return i.parseRows(t,function(t,n){if(r)return r(t,n-1);var i=new Function("d","return {"+t.map(function(t,e){return JSON.stringify(t)+": d["+e+"]"}).join(",")+"}");r=e?function(t,r){return e(i(t),r)}:i})},i.parseRows=function(t,e){var r,i,o={},a={},s=[],l=t.length,c=0,u=0;function h(){if(c>=l)return a;if(i)return i=!1,o;var e=c;if(34===t.charCodeAt(e)){for(var r=e;r++<l;)if(34===t.charCodeAt(r)){if(34!==t.charCodeAt(r+1))break;++r}return c=r+2,13===(s=t.charCodeAt(r+1))?(i=!0,10===t.charCodeAt(r+2)&&++c):10===s&&(i=!0),t.slice(e+1,r).replace(/""/g,'"')}for(;c<l;){var s,u=1;if(10===(s=t.charCodeAt(c++)))i=!0;else if(13===s)i=!0,10===t.charCodeAt(c)&&(++c,++u);else if(s!==n)continue;return t.slice(e,c-u)}return t.slice(e)}for(;(r=h())!==a;){for(var f=[];r!==o&&r!==a;)f.push(r),r=h();e&&null==(f=e(f,u++))||s.push(f)}return s},i.format=function(e){if(Array.isArray(e[0]))return i.formatRows(e);var r=new E,n=[];return e.forEach(function(t){for(var e in t)r.has(e)||n.push(r.add(e))}),[n.map(l).join(t)].concat(e.map(function(e){return n.map(function(t){return l(e[t])}).join(t)})).join("\n")},i.formatRows=function(t){return t.map(s).join("\n")},i},o.csv=o.dsv(",","text/csv"),o.tsv=o.dsv("\t","text/tab-separated-values");var ke,Te,Ae,Me,Se=this[D(this,"requestAnimationFrame")]||function(t){setTimeout(t,17)};function Oe(t,e,r){var n=arguments.length;n<2&&(e=0),n<3&&(r=Date.now());var i={c:t,t:r+e,n:null};return Te?Te.n=i:ke=i,Te=i,Ae||(Me=clearTimeout(Me),Ae=1,Se(Ce)),i}function Ce(){var t=Le(),e=je()-t;e>24?(isFinite(e)&&(clearTimeout(Me),Me=setTimeout(Ce,e)),Ae=0):(Ae=1,Se(Ce))}function Le(){for(var t=Date.now(),e=ke;e;)t>=e.t&&e.c(t-e.t)&&(e.c=null),e=e.n;return t}function je(){for(var t,e=ke,r=1/0;e;)e.c?(e.t<r&&(r=e.t),e=(t=e).n):e=t?t.n=e.n:ke=e.n;return Te=t,r}function Ie(t,e){return e-(t?Math.ceil(Math.log(t)/Math.LN10):1)}o.timer=function(){Oe.apply(this,arguments)},o.timer.flush=function(){Le(),je()},o.round=function(t,e){return e?Math.round(t*(e=Math.pow(10,e)))/e:Math.round(t)};var Pe=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"].map(function(t,e){var r=Math.pow(10,3*_(8-e));return{scale:e>8?function(t){return t/r}:function(t){return t*r},symbol:t}});o.formatPrefix=function(t,e){var r=0;return(t=+t)&&(t<0&&(t*=-1),e&&(t=o.round(t,Ie(t,e))),r=1+Math.floor(1e-12+Math.log(t)/Math.LN10),r=Math.max(-24,Math.min(24,3*Math.floor((r-1)/3)))),Pe[8+r/3]};var Ee=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i,ze=o.map({b:function(t){return t.toString(2)},c:function(t){return String.fromCharCode(t)},o:function(t){return t.toString(8)},x:function(t){return t.toString(16)},X:function(t){return t.toString(16).toUpperCase()},g:function(t,e){return t.toPrecision(e)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},r:function(t,e){return(t=o.round(t,Ie(t,e))).toFixed(Math.max(0,Math.min(20,Ie(t*(1+1e-15),e))))}});function Ne(t){return t+""}var De=o.time={},Re=Date;function Fe(){this._=new Date(arguments.length>1?Date.UTC.apply(this,arguments):arguments[0])}Fe.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){Be.setUTCDate.apply(this._,arguments)},setDay:function(){Be.setUTCDay.apply(this._,arguments)},setFullYear:function(){Be.setUTCFullYear.apply(this._,arguments)},setHours:function(){Be.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){Be.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){Be.setUTCMinutes.apply(this._,arguments)},setMonth:function(){Be.setUTCMonth.apply(this._,arguments)},setSeconds:function(){Be.setUTCSeconds.apply(this._,arguments)},setTime:function(){Be.setTime.apply(this._,arguments)}};var Be=Date.prototype;function Ve(t,e,r){function n(e){var r=t(e),n=o(r,1);return e-r<n-e?r:n}function i(r){return e(r=t(new Re(r-1)),1),r}function o(t,r){return e(t=new Re(+t),r),t}function a(t,n,o){var a=i(t),s=[];if(o>1)for(;a<n;)r(a)%o||s.push(new Date(+a)),e(a,1);else for(;a<n;)s.push(new Date(+a)),e(a,1);return s}t.floor=t,t.round=n,t.ceil=i,t.offset=o,t.range=a;var s=t.utc=qe(t);return s.floor=s,s.round=qe(n),s.ceil=qe(i),s.offset=qe(o),s.range=function(t,e,r){try{Re=Fe;var n=new Fe;return n._=t,a(n,e,r)}finally{Re=Date}},t}function qe(t){return function(e,r){try{Re=Fe;var n=new Fe;return n._=e,t(n,r)._}finally{Re=Date}}}De.year=Ve(function(t){return(t=De.day(t)).setMonth(0,1),t},function(t,e){t.setFullYear(t.getFullYear()+e)},function(t){return t.getFullYear()}),De.years=De.year.range,De.years.utc=De.year.utc.range,De.day=Ve(function(t){var e=new Re(2e3,0);return e.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),e},function(t,e){t.setDate(t.getDate()+e)},function(t){return t.getDate()-1}),De.days=De.day.range,De.days.utc=De.day.utc.range,De.dayOfYear=function(t){var e=De.year(t);return Math.floor((t-e-6e4*(t.getTimezoneOffset()-e.getTimezoneOffset()))/864e5)},["sunday","monday","tuesday","wednesday","thursday","friday","saturday"].forEach(function(t,e){e=7-e;var r=De[t]=Ve(function(t){return(t=De.day(t)).setDate(t.getDate()-(t.getDay()+e)%7),t},function(t,e){t.setDate(t.getDate()+7*Math.floor(e))},function(t){var r=De.year(t).getDay();return Math.floor((De.dayOfYear(t)+(r+e)%7)/7)-(r!==e)});De[t+"s"]=r.range,De[t+"s"].utc=r.utc.range,De[t+"OfYear"]=function(t){var r=De.year(t).getDay();return Math.floor((De.dayOfYear(t)+(r+e)%7)/7)}}),De.week=De.sunday,De.weeks=De.sunday.range,De.weeks.utc=De.sunday.utc.range,De.weekOfYear=De.sundayOfYear;var He={"-":"",_:" ",0:"0"},Ue=/^\s*\d+/,We=/^%/;function Ge(t,e,r){var n=t<0?"-":"",i=(n?-t:t)+"",o=i.length;return n+(o<r?new Array(r-o+1).join(e)+i:i)}function Ye(t){return new RegExp("^(?:"+t.map(o.requote).join("|")+")","i")}function Xe(t){for(var e=new T,r=-1,n=t.length;++r<n;)e.set(t[r].toLowerCase(),r);return e}function Ze(t,e,r){Ue.lastIndex=0;var n=Ue.exec(e.slice(r,r+1));return n?(t.w=+n[0],r+n[0].length):-1}function Je(t,e,r){Ue.lastIndex=0;var n=Ue.exec(e.slice(r));return n?(t.U=+n[0],r+n[0].length):-1}function $e(t,e,r){Ue.lastIndex=0;var n=Ue.exec(e.slice(r));return n?(t.W=+n[0],r+n[0].length):-1}function Qe(t,e,r){Ue.lastIndex=0;var n=Ue.exec(e.slice(r,r+4));return n?(t.y=+n[0],r+n[0].length):-1}function Ke(t,e,r){Ue.lastIndex=0;var n,i=Ue.exec(e.slice(r,r+2));return i?(t.y=(n=+i[0])+(n>68?1900:2e3),r+i[0].length):-1}function tr(t,e,r){return/^[+-]\d{4}$/.test(e=e.slice(r,r+5))?(t.Z=-e,r+5):-1}function er(t,e,r){Ue.lastIndex=0;var n=Ue.exec(e.slice(r,r+2));return n?(t.m=n[0]-1,r+n[0].length):-1}function rr(t,e,r){Ue.lastIndex=0;var n=Ue.exec(e.slice(r,r+2));return n?(t.d=+n[0],r+n[0].length):-1}function nr(t,e,r){Ue.lastIndex=0;var n=Ue.exec(e.slice(r,r+3));return n?(t.j=+n[0],r+n[0].length):-1}function ir(t,e,r){Ue.lastIndex=0;var n=Ue.exec(e.slice(r,r+2));return n?(t.H=+n[0],r+n[0].length):-1}function or(t,e,r){Ue.lastIndex=0;var n=Ue.exec(e.slice(r,r+2));return n?(t.M=+n[0],r+n[0].length):-1}function ar(t,e,r){Ue.lastIndex=0;var n=Ue.exec(e.slice(r,r+2));return n?(t.S=+n[0],r+n[0].length):-1}function sr(t,e,r){Ue.lastIndex=0;var n=Ue.exec(e.slice(r,r+3));return n?(t.L=+n[0],r+n[0].length):-1}function lr(t){var e=t.getTimezoneOffset(),r=e>0?"-":"+",n=_(e)/60|0,i=_(e)%60;return r+Ge(n,"0",2)+Ge(i,"0",2)}function cr(t,e,r){We.lastIndex=0;var n=We.exec(e.slice(r,r+1));return n?r+n[0].length:-1}function ur(t){for(var e=t.length,r=-1;++r<e;)t[r][0]=this(t[r][0]);return function(e){for(var r=0,n=t[r];!n[1](e);)n=t[++r];return n[0](e)}}o.locale=function(t){return{numberFormat:function(t){var e=t.decimal,r=t.thousands,n=t.grouping,i=t.currency,a=n&&r?function(t,e){for(var i=t.length,o=[],a=0,s=n[0],l=0;i>0&&s>0&&(l+s+1>e&&(s=Math.max(1,e-l)),o.push(t.substring(i-=s,i+s)),!((l+=s+1)>e));)s=n[a=(a+1)%n.length];return o.reverse().join(r)}:z;return function(t){var r=Ee.exec(t),n=r[1]||" ",s=r[2]||">",l=r[3]||"-",c=r[4]||"",u=r[5],h=+r[6],f=r[7],d=r[8],p=r[9],v=1,y="",g="",m=!1,b=!0;switch(d&&(d=+d.substring(1)),(u||"0"===n&&"="===s)&&(u=n="0",s="="),p){case"n":f=!0,p="g";break;case"%":v=100,g="%",p="f";break;case"p":v=100,g="%",p="r";break;case"b":case"o":case"x":case"X":"#"===c&&(y="0"+p.toLowerCase());case"c":b=!1;case"d":m=!0,d=0;break;case"s":v=-1,p="r"}"$"===c&&(y=i[0],g=i[1]),"r"!=p||d||(p="g"),null!=d&&("g"==p?d=Math.max(1,Math.min(21,d)):"e"!=p&&"f"!=p||(d=Math.max(0,Math.min(20,d)))),p=ze.get(p)||Ne;var x=u&&f;return function(t){var r=g;if(m&&t%1)return"";var i=t<0||0===t&&1/t<0?(t=-t,"-"):"-"===l?"":l;if(v<0){var c=o.formatPrefix(t,d);t=c.scale(t),r=c.symbol+g}else t*=v;var w,_,k=(t=p(t,d)).lastIndexOf(".");if(k<0){var T=b?t.lastIndexOf("e"):-1;T<0?(w=t,_=""):(w=t.substring(0,T),_=t.substring(T))}else w=t.substring(0,k),_=e+t.substring(k+1);!u&&f&&(w=a(w,1/0));var A=y.length+w.length+_.length+(x?0:i.length),M=A<h?new Array(A=h-A+1).join(n):"";return x&&(w=a(M+w,M.length?h-_.length:1/0)),i+=y,t=w+_,("<"===s?i+t+M:">"===s?M+i+t:"^"===s?M.substring(0,A>>=1)+i+t+M.substring(A):i+(x?t:M+t))+r}}}(t),timeFormat:function(t){var e=t.dateTime,r=t.date,n=t.time,i=t.periods,a=t.days,s=t.shortDays,l=t.months,c=t.shortMonths;function u(t){var e=t.length;function r(r){for(var n,i,o,a=[],s=-1,l=0;++s<e;)37===t.charCodeAt(s)&&(a.push(t.slice(l,s)),null!=(i=He[n=t.charAt(++s)])&&(n=t.charAt(++s)),(o=w[n])&&(n=o(r,null==i?"e"===n?" ":"0":i)),a.push(n),l=s+1);return a.push(t.slice(l,s)),a.join("")}return r.parse=function(e){var r={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null};if(h(r,t,e,0)!=e.length)return null;"p"in r&&(r.H=r.H%12+12*r.p);var n=null!=r.Z&&Re!==Fe,i=new(n?Fe:Re);return"j"in r?i.setFullYear(r.y,0,r.j):"W"in r||"U"in r?("w"in r||(r.w="W"in r?1:0),i.setFullYear(r.y,0,1),i.setFullYear(r.y,0,"W"in r?(r.w+6)%7+7*r.W-(i.getDay()+5)%7:r.w+7*r.U-(i.getDay()+6)%7)):i.setFullYear(r.y,r.m,r.d),i.setHours(r.H+(r.Z/100|0),r.M+r.Z%100,r.S,r.L),n?i._:i},r.toString=function(){return t},r}function h(t,e,r,n){for(var i,o,a,s=0,l=e.length,c=r.length;s<l;){if(n>=c)return-1;if(37===(i=e.charCodeAt(s++))){if(a=e.charAt(s++),!(o=_[a in He?e.charAt(s++):a])||(n=o(t,r,n))<0)return-1}else if(i!=r.charCodeAt(n++))return-1}return n}u.utc=function(t){var e=u(t);function r(t){try{var r=new(Re=Fe);return r._=t,e(r)}finally{Re=Date}}return r.parse=function(t){try{Re=Fe;var r=e.parse(t);return r&&r._}finally{Re=Date}},r.toString=e.toString,r},u.multi=u.utc.multi=ur;var f=o.map(),d=Ye(a),p=Xe(a),v=Ye(s),y=Xe(s),g=Ye(l),m=Xe(l),b=Ye(c),x=Xe(c);i.forEach(function(t,e){f.set(t.toLowerCase(),e)});var w={a:function(t){return s[t.getDay()]},A:function(t){return a[t.getDay()]},b:function(t){return c[t.getMonth()]},B:function(t){return l[t.getMonth()]},c:u(e),d:function(t,e){return Ge(t.getDate(),e,2)},e:function(t,e){return Ge(t.getDate(),e,2)},H:function(t,e){return Ge(t.getHours(),e,2)},I:function(t,e){return Ge(t.getHours()%12||12,e,2)},j:function(t,e){return Ge(1+De.dayOfYear(t),e,3)},L:function(t,e){return Ge(t.getMilliseconds(),e,3)},m:function(t,e){return Ge(t.getMonth()+1,e,2)},M:function(t,e){return Ge(t.getMinutes(),e,2)},p:function(t){return i[+(t.getHours()>=12)]},S:function(t,e){return Ge(t.getSeconds(),e,2)},U:function(t,e){return Ge(De.sundayOfYear(t),e,2)},w:function(t){return t.getDay()},W:function(t,e){return Ge(De.mondayOfYear(t),e,2)},x:u(r),X:u(n),y:function(t,e){return Ge(t.getFullYear()%100,e,2)},Y:function(t,e){return Ge(t.getFullYear()%1e4,e,4)},Z:lr,"%":function(){return"%"}},_={a:function(t,e,r){v.lastIndex=0;var n=v.exec(e.slice(r));return n?(t.w=y.get(n[0].toLowerCase()),r+n[0].length):-1},A:function(t,e,r){d.lastIndex=0;var n=d.exec(e.slice(r));return n?(t.w=p.get(n[0].toLowerCase()),r+n[0].length):-1},b:function(t,e,r){b.lastIndex=0;var n=b.exec(e.slice(r));return n?(t.m=x.get(n[0].toLowerCase()),r+n[0].length):-1},B:function(t,e,r){g.lastIndex=0;var n=g.exec(e.slice(r));return n?(t.m=m.get(n[0].toLowerCase()),r+n[0].length):-1},c:function(t,e,r){return h(t,w.c.toString(),e,r)},d:rr,e:rr,H:ir,I:ir,j:nr,L:sr,m:er,M:or,p:function(t,e,r){var n=f.get(e.slice(r,r+=2).toLowerCase());return null==n?-1:(t.p=n,r)},S:ar,U:Je,w:Ze,W:$e,x:function(t,e,r){return h(t,w.x.toString(),e,r)},X:function(t,e,r){return h(t,w.X.toString(),e,r)},y:Ke,Y:Qe,Z:tr,"%":cr};return u}(t)}};var hr=o.locale({decimal:".",thousands:",",grouping:[3],currency:["$",""],dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function fr(){}o.format=hr.numberFormat,o.geo={},fr.prototype={s:0,t:0,add:function(t){pr(t,this.t,dr),pr(dr.s,this.s,this),this.s?this.t+=dr.t:this.s=dr.t},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var dr=new fr;function pr(t,e,r){var n=r.s=t+e,i=n-t,o=n-i;r.t=t-o+(e-i)}function vr(t,e){t&&gr.hasOwnProperty(t.type)&&gr[t.type](t,e)}o.geo.stream=function(t,e){t&&yr.hasOwnProperty(t.type)?yr[t.type](t,e):vr(t,e)};var yr={Feature:function(t,e){vr(t.geometry,e)},FeatureCollection:function(t,e){for(var r=t.features,n=-1,i=r.length;++n<i;)vr(r[n].geometry,e)}},gr={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var r=t.coordinates,n=-1,i=r.length;++n<i;)t=r[n],e.point(t[0],t[1],t[2])},LineString:function(t,e){mr(t.coordinates,e,0)},MultiLineString:function(t,e){for(var r=t.coordinates,n=-1,i=r.length;++n<i;)mr(r[n],e,0)},Polygon:function(t,e){br(t.coordinates,e)},MultiPolygon:function(t,e){for(var r=t.coordinates,n=-1,i=r.length;++n<i;)br(r[n],e)},GeometryCollection:function(t,e){for(var r=t.geometries,n=-1,i=r.length;++n<i;)vr(r[n],e)}};function mr(t,e,r){var n,i=-1,o=t.length-r;for(e.lineStart();++i<o;)n=t[i],e.point(n[0],n[1],n[2]);e.lineEnd()}function br(t,e){var r=-1,n=t.length;for(e.polygonStart();++r<n;)mr(t[r],e,1);e.polygonEnd()}o.geo.area=function(t){return xr=0,o.geo.stream(t,Pr),xr};var xr,wr,_r,kr,Tr,Ar,Mr,Sr,Or,Cr,Lr,jr,Ir=new fr,Pr={sphere:function(){xr+=4*Ct},point:F,lineStart:F,lineEnd:F,polygonStart:function(){Ir.reset(),Pr.lineStart=Er},polygonEnd:function(){var t=2*Ir;xr+=t<0?4*Ct+t:t,Pr.lineStart=Pr.lineEnd=Pr.point=F}};function Er(){var t,e,r,n,i;function o(t,e){e=e*Pt/2+Ct/4;var o=(t*=Pt)-r,a=o>=0?1:-1,s=a*o,l=Math.cos(e),c=Math.sin(e),u=i*c,h=n*l+u*Math.cos(s),f=u*a*Math.sin(s);Ir.add(Math.atan2(f,h)),r=t,n=l,i=c}Pr.point=function(a,s){Pr.point=o,r=(t=a)*Pt,n=Math.cos(s=(e=s)*Pt/2+Ct/4),i=Math.sin(s)},Pr.lineEnd=function(){o(t,e)}}function zr(t){var e=t[0],r=t[1],n=Math.cos(r);return[n*Math.cos(e),n*Math.sin(e),Math.sin(r)]}function Nr(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function Dr(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function Rr(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function Fr(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function Br(t){var e=Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}function Vr(t){return[Math.atan2(t[1],t[0]),Rt(t[2])]}function qr(t,e){return _(t[0]-e[0])<St&&_(t[1]-e[1])<St}o.geo.bounds=function(){var t,e,r,n,i,a,s,l,c,u,h,f={point:d,lineStart:v,lineEnd:y,polygonStart:function(){f.point=g,f.lineStart=m,f.lineEnd=b,c=0,Pr.polygonStart()},polygonEnd:function(){Pr.polygonEnd(),f.point=d,f.lineStart=v,f.lineEnd=y,Ir<0?(t=-(r=180),e=-(n=90)):c>St?n=90:c<-St&&(e=-90),h[0]=t,h[1]=r}};function d(i,o){u.push(h=[t=i,r=i]),o<e&&(e=o),o>n&&(n=o)}function p(o,a){var s=zr([o*Pt,a*Pt]);if(l){var c=Dr(l,s),u=Dr([c[1],-c[0],0],c);Br(u),u=Vr(u);var h=o-i,f=h>0?1:-1,p=u[0]*Et*f,v=_(h)>180;if(v^(f*i<p&&p<f*o))(y=u[1]*Et)>n&&(n=y);else if(v^(f*i<(p=(p+360)%360-180)&&p<f*o)){var y;(y=-u[1]*Et)<e&&(e=y)}else a<e&&(e=a),a>n&&(n=a);v?o<i?x(t,o)>x(t,r)&&(r=o):x(o,r)>x(t,r)&&(t=o):r>=t?(o<t&&(t=o),o>r&&(r=o)):o>i?x(t,o)>x(t,r)&&(r=o):x(o,r)>x(t,r)&&(t=o)}else d(o,a);l=s,i=o}function v(){f.point=p}function y(){h[0]=t,h[1]=r,f.point=d,l=null}function g(t,e){if(l){var r=t-i;c+=_(r)>180?r+(r>0?360:-360):r}else a=t,s=e;Pr.point(t,e),p(t,e)}function m(){Pr.lineStart()}function b(){g(a,s),Pr.lineEnd(),_(c)>St&&(t=-(r=180)),h[0]=t,h[1]=r,l=null}function x(t,e){return(e-=t)<0?e+360:e}function w(t,e){return t[0]-e[0]}function k(t,e){return e[0]<=e[1]?e[0]<=t&&t<=e[1]:t<e[0]||e[1]<t}return function(i){if(n=r=-(t=e=1/0),u=[],o.geo.stream(i,f),c=u.length){u.sort(w);for(var a=1,s=[v=u[0]];a<c;++a)k((d=u[a])[0],v)||k(d[1],v)?(x(v[0],d[1])>x(v[0],v[1])&&(v[1]=d[1]),x(d[0],v[1])>x(v[0],v[1])&&(v[0]=d[0])):s.push(v=d);for(var l,c,d,p=-1/0,v=(a=0,s[c=s.length-1]);a<=c;v=d,++a)d=s[a],(l=x(v[1],d[0]))>p&&(p=l,t=d[0],r=v[1])}return u=h=null,t===1/0||e===1/0?[[NaN,NaN],[NaN,NaN]]:[[t,e],[r,n]]}}(),o.geo.centroid=function(t){wr=_r=kr=Tr=Ar=Mr=Sr=Or=Cr=Lr=jr=0,o.geo.stream(t,Hr);var e=Cr,r=Lr,n=jr,i=e*e+r*r+n*n;return i<Ot&&(e=Mr,r=Sr,n=Or,_r<St&&(e=kr,r=Tr,n=Ar),(i=e*e+r*r+n*n)<Ot)?[NaN,NaN]:[Math.atan2(r,e)*Et,Rt(n/Math.sqrt(i))*Et]};var Hr={sphere:F,point:Ur,lineStart:Gr,lineEnd:Yr,polygonStart:function(){Hr.lineStart=Xr},polygonEnd:function(){Hr.lineStart=Gr}};function Ur(t,e){t*=Pt;var r=Math.cos(e*=Pt);Wr(r*Math.cos(t),r*Math.sin(t),Math.sin(e))}function Wr(t,e,r){kr+=(t-kr)/++wr,Tr+=(e-Tr)/wr,Ar+=(r-Ar)/wr}function Gr(){var t,e,r;function n(n,i){n*=Pt;var o=Math.cos(i*=Pt),a=o*Math.cos(n),s=o*Math.sin(n),l=Math.sin(i),c=Math.atan2(Math.sqrt((c=e*l-r*s)*c+(c=r*a-t*l)*c+(c=t*s-e*a)*c),t*a+e*s+r*l);_r+=c,Mr+=c*(t+(t=a)),Sr+=c*(e+(e=s)),Or+=c*(r+(r=l)),Wr(t,e,r)}Hr.point=function(i,o){i*=Pt;var a=Math.cos(o*=Pt);t=a*Math.cos(i),e=a*Math.sin(i),r=Math.sin(o),Hr.point=n,Wr(t,e,r)}}function Yr(){Hr.point=Ur}function Xr(){var t,e,r,n,i;function o(t,e){t*=Pt;var o=Math.cos(e*=Pt),a=o*Math.cos(t),s=o*Math.sin(t),l=Math.sin(e),c=n*l-i*s,u=i*a-r*l,h=r*s-n*a,f=Math.sqrt(c*c+u*u+h*h),d=r*a+n*s+i*l,p=f&&-Dt(d)/f,v=Math.atan2(f,d);Cr+=p*c,Lr+=p*u,jr+=p*h,_r+=v,Mr+=v*(r+(r=a)),Sr+=v*(n+(n=s)),Or+=v*(i+(i=l)),Wr(r,n,i)}Hr.point=function(a,s){t=a,e=s,Hr.point=o,a*=Pt;var l=Math.cos(s*=Pt);r=l*Math.cos(a),n=l*Math.sin(a),i=Math.sin(s),Wr(r,n,i)},Hr.lineEnd=function(){o(t,e),Hr.lineEnd=Yr,Hr.point=Ur}}function Zr(t,e){function r(r,n){return r=t(r,n),e(r[0],r[1])}return t.invert&&e.invert&&(r.invert=function(r,n){return(r=e.invert(r,n))&&t.invert(r[0],r[1])}),r}function Jr(){return!0}function $r(t,e,r,n,i){var o=[],a=[];if(t.forEach(function(t){if(!((e=t.length-1)<=0)){var e,r=t[0],n=t[e];if(qr(r,n)){i.lineStart();for(var s=0;s<e;++s)i.point((r=t[s])[0],r[1]);i.lineEnd()}else{var l=new Kr(r,t,null,!0),c=new Kr(r,null,l,!1);l.o=c,o.push(l),a.push(c),c=new Kr(n,null,l=new Kr(n,t,null,!1),!0),l.o=c,o.push(l),a.push(c)}}}),a.sort(e),Qr(o),Qr(a),o.length){for(var s=0,l=r,c=a.length;s<c;++s)a[s].e=l=!l;for(var u,h,f=o[0];;){for(var d=f,p=!0;d.v;)if((d=d.n)===f)return;u=d.z,i.lineStart();do{if(d.v=d.o.v=!0,d.e){if(p)for(s=0,c=u.length;s<c;++s)i.point((h=u[s])[0],h[1]);else n(d.x,d.n.x,1,i);d=d.n}else{if(p)for(s=(u=d.p.z).length-1;s>=0;--s)i.point((h=u[s])[0],h[1]);else n(d.x,d.p.x,-1,i);d=d.p}u=(d=d.o).z,p=!p}while(!d.v);i.lineEnd()}}}function Qr(t){if(e=t.length){for(var e,r,n=0,i=t[0];++n<e;)i.n=r=t[n],r.p=i,i=r;i.n=r=t[0],r.p=i}}function Kr(t,e,r,n){this.x=t,this.z=e,this.o=r,this.e=n,this.v=!1,this.n=this.p=null}function tn(t,e,r,n){return function(i,a){var s,l=e(a),c=i.invert(n[0],n[1]),u={point:h,lineStart:d,lineEnd:p,polygonStart:function(){u.point=x,u.lineStart=w,u.lineEnd=_,s=[],v=[]},polygonEnd:function(){u.point=h,u.lineStart=d,u.lineEnd=p,s=o.merge(s);var t=function(t,e){var r=t[0],n=t[1],i=[Math.sin(r),-Math.cos(r),0],o=0,a=0;Ir.reset();for(var s=0,l=e.length;s<l;++s){var c=e[s],u=c.length;if(u)for(var h=c[0],f=h[0],d=h[1]/2+Ct/4,p=Math.sin(d),v=Math.cos(d),y=1;;){y===u&&(y=0);var g=(t=c[y])[0],m=t[1]/2+Ct/4,b=Math.sin(m),x=Math.cos(m),w=g-f,_=w>=0?1:-1,k=_*w,T=k>Ct,A=p*b;if(Ir.add(Math.atan2(A*_*Math.sin(k),v*x+A*Math.cos(k))),o+=T?w+_*Lt:w,T^f>=r^g>=r){var M=Dr(zr(h),zr(t));Br(M);var S=Dr(i,M);Br(S);var O=(T^w>=0?-1:1)*Rt(S[2]);(n>O||n===O&&(M[0]||M[1]))&&(a+=T^w>=0?1:-1)}if(!y++)break;f=g,p=b,v=x,h=t}}return(o<-St||o<St&&Ir<-St)^1&a}(c,v);s.length?(b||(a.polygonStart(),b=!0),$r(s,nn,t,r,a)):t&&(b||(a.polygonStart(),b=!0),a.lineStart(),r(null,null,1,a),a.lineEnd()),b&&(a.polygonEnd(),b=!1),s=v=null},sphere:function(){a.polygonStart(),a.lineStart(),r(null,null,1,a),a.lineEnd(),a.polygonEnd()}};function h(e,r){var n=i(e,r);t(e=n[0],r=n[1])&&a.point(e,r)}function f(t,e){var r=i(t,e);l.point(r[0],r[1])}function d(){u.point=f,l.lineStart()}function p(){u.point=h,l.lineEnd()}var v,y,g=rn(),m=e(g),b=!1;function x(t,e){y.push([t,e]);var r=i(t,e);m.point(r[0],r[1])}function w(){m.lineStart(),y=[]}function _(){x(y[0][0],y[0][1]),m.lineEnd();var t,e=m.clean(),r=g.buffer(),n=r.length;if(y.pop(),v.push(y),y=null,n)if(1&e){var i,o=-1;if((n=(t=r[0]).length-1)>0){for(b||(a.polygonStart(),b=!0),a.lineStart();++o<n;)a.point((i=t[o])[0],i[1]);a.lineEnd()}}else n>1&&2&e&&r.push(r.pop().concat(r.shift())),s.push(r.filter(en))}return u}}function en(t){return t.length>1}function rn(){var t,e=[];return{lineStart:function(){e.push(t=[])},point:function(e,r){t.push([e,r])},lineEnd:F,buffer:function(){var r=e;return e=[],t=null,r},rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))}}}function nn(t,e){return((t=t.x)[0]<0?t[1]-It-St:It-t[1])-((e=e.x)[0]<0?e[1]-It-St:It-e[1])}var on=tn(Jr,function(t){var e,r=NaN,n=NaN,i=NaN;return{lineStart:function(){t.lineStart(),e=1},point:function(o,a){var s=o>0?Ct:-Ct,l=_(o-r);_(l-Ct)<St?(t.point(r,n=(n+a)/2>0?It:-It),t.point(i,n),t.lineEnd(),t.lineStart(),t.point(s,n),t.point(o,n),e=0):i!==s&&l>=Ct&&(_(r-i)<St&&(r-=i*St),_(o-s)<St&&(o-=s*St),n=function(t,e,r,n){var i,o,a=Math.sin(t-r);return _(a)>St?Math.atan((Math.sin(e)*(o=Math.cos(n))*Math.sin(r)-Math.sin(n)*(i=Math.cos(e))*Math.sin(t))/(i*o*a)):(e+n)/2}(r,n,o,a),t.point(i,n),t.lineEnd(),t.lineStart(),t.point(s,n),e=0),t.point(r=o,n=a),i=s},lineEnd:function(){t.lineEnd(),r=n=NaN},clean:function(){return 2-e}}},function(t,e,r,n){var i;if(null==t)i=r*It,n.point(-Ct,i),n.point(0,i),n.point(Ct,i),n.point(Ct,0),n.point(Ct,-i),n.point(0,-i),n.point(-Ct,-i),n.point(-Ct,0),n.point(-Ct,i);else if(_(t[0]-e[0])>St){var o=t[0]<e[0]?Ct:-Ct;i=r*o/2,n.point(-o,i),n.point(0,i),n.point(o,i)}else n.point(e[0],e[1])},[-Ct,-Ct/2]);function an(t,e,r,n){return function(i){var o,a=i.a,s=i.b,l=a.x,c=a.y,u=0,h=1,f=s.x-l,d=s.y-c;if(o=t-l,f||!(o>0)){if(o/=f,f<0){if(o<u)return;o<h&&(h=o)}else if(f>0){if(o>h)return;o>u&&(u=o)}if(o=r-l,f||!(o<0)){if(o/=f,f<0){if(o>h)return;o>u&&(u=o)}else if(f>0){if(o<u)return;o<h&&(h=o)}if(o=e-c,d||!(o>0)){if(o/=d,d<0){if(o<u)return;o<h&&(h=o)}else if(d>0){if(o>h)return;o>u&&(u=o)}if(o=n-c,d||!(o<0)){if(o/=d,d<0){if(o>h)return;o>u&&(u=o)}else if(d>0){if(o<u)return;o<h&&(h=o)}return u>0&&(i.a={x:l+u*f,y:c+u*d}),h<1&&(i.b={x:l+h*f,y:c+h*d}),i}}}}}}var sn=1e9;function ln(t,e,r,n){return function(l){var c,u,h,f,d,p,v,y,g,m,b,x=l,w=rn(),_=an(t,e,r,n),k={point:M,lineStart:function(){k.point=S,u&&u.push(h=[]);m=!0,g=!1,v=y=NaN},lineEnd:function(){c&&(S(f,d),p&&g&&w.rejoin(),c.push(w.buffer()));k.point=M,g&&l.lineEnd()},polygonStart:function(){l=w,c=[],u=[],b=!0},polygonEnd:function(){l=x,c=o.merge(c);var e=function(t){for(var e=0,r=u.length,n=t[1],i=0;i<r;++i)for(var o,a=1,s=u[i],l=s.length,c=s[0];a<l;++a)o=s[a],c[1]<=n?o[1]>n&&Nt(c,o,t)>0&&++e:o[1]<=n&&Nt(c,o,t)<0&&--e,c=o;return 0!==e}([t,n]),r=b&&e,i=c.length;(r||i)&&(l.polygonStart(),r&&(l.lineStart(),T(null,null,1,l),l.lineEnd()),i&&$r(c,a,e,T,l),l.polygonEnd()),c=u=h=null}};function T(o,a,l,c){var u=0,h=0;if(null==o||(u=i(o,l))!==(h=i(a,l))||s(o,a)<0^l>0)do{c.point(0===u||3===u?t:r,u>1?n:e)}while((u=(u+l+4)%4)!==h);else c.point(a[0],a[1])}function A(i,o){return t<=i&&i<=r&&e<=o&&o<=n}function M(t,e){A(t,e)&&l.point(t,e)}function S(t,e){var r=A(t=Math.max(-sn,Math.min(sn,t)),e=Math.max(-sn,Math.min(sn,e)));if(u&&h.push([t,e]),m)f=t,d=e,p=r,m=!1,r&&(l.lineStart(),l.point(t,e));else if(r&&g)l.point(t,e);else{var n={a:{x:v,y:y},b:{x:t,y:e}};_(n)?(g||(l.lineStart(),l.point(n.a.x,n.a.y)),l.point(n.b.x,n.b.y),r||l.lineEnd(),b=!1):r&&(l.lineStart(),l.point(t,e),b=!1)}v=t,y=e,g=r}return k};function i(n,i){return _(n[0]-t)<St?i>0?0:3:_(n[0]-r)<St?i>0?2:1:_(n[1]-e)<St?i>0?1:0:i>0?3:2}function a(t,e){return s(t.x,e.x)}function s(t,e){var r=i(t,1),n=i(e,1);return r!==n?r-n:0===r?e[1]-t[1]:1===r?t[0]-e[0]:2===r?t[1]-e[1]:e[0]-t[0]}}function cn(t){var e=0,r=Ct/3,n=jn(t),i=n(e,r);return i.parallels=function(t){return arguments.length?n(e=t[0]*Ct/180,r=t[1]*Ct/180):[e/Ct*180,r/Ct*180]},i}function un(t,e){var r=Math.sin(t),n=(r+Math.sin(e))/2,i=1+r*(2*n-r),o=Math.sqrt(i)/n;function a(t,e){var r=Math.sqrt(i-2*n*Math.sin(e))/n;return[r*Math.sin(t*=n),o-r*Math.cos(t)]}return a.invert=function(t,e){var r=o-e;return[Math.atan2(t,r)/n,Rt((i-(t*t+r*r)*n*n)/(2*n))]},a}o.geo.clipExtent=function(){var t,e,r,n,i,o,a={stream:function(t){return i&&(i.valid=!1),(i=o(t)).valid=!0,i},extent:function(s){return arguments.length?(o=ln(t=+s[0][0],e=+s[0][1],r=+s[1][0],n=+s[1][1]),i&&(i.valid=!1,i=null),a):[[t,e],[r,n]]}};return a.extent([[0,0],[960,500]])},(o.geo.conicEqualArea=function(){return cn(un)}).raw=un,o.geo.albers=function(){return o.geo.conicEqualArea().rotate([96,0]).center([-.6,38.7]).parallels([29.5,45.5]).scale(1070)},o.geo.albersUsa=function(){var t,e,r,n,i=o.geo.albers(),a=o.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),s=o.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),l={point:function(e,r){t=[e,r]}};function c(i){var o=i[0],a=i[1];return t=null,e(o,a),t||(r(o,a),t)||n(o,a),t}return c.invert=function(t){var e=i.scale(),r=i.translate(),n=(t[0]-r[0])/e,o=(t[1]-r[1])/e;return(o>=.12&&o<.234&&n>=-.425&&n<-.214?a:o>=.166&&o<.234&&n>=-.214&&n<-.115?s:i).invert(t)},c.stream=function(t){var e=i.stream(t),r=a.stream(t),n=s.stream(t);return{point:function(t,i){e.point(t,i),r.point(t,i),n.point(t,i)},sphere:function(){e.sphere(),r.sphere(),n.sphere()},lineStart:function(){e.lineStart(),r.lineStart(),n.lineStart()},lineEnd:function(){e.lineEnd(),r.lineEnd(),n.lineEnd()},polygonStart:function(){e.polygonStart(),r.polygonStart(),n.polygonStart()},polygonEnd:function(){e.polygonEnd(),r.polygonEnd(),n.polygonEnd()}}},c.precision=function(t){return arguments.length?(i.precision(t),a.precision(t),s.precision(t),c):i.precision()},c.scale=function(t){return arguments.length?(i.scale(t),a.scale(.35*t),s.scale(t),c.translate(i.translate())):i.scale()},c.translate=function(t){if(!arguments.length)return i.translate();var o=i.scale(),u=+t[0],h=+t[1];return e=i.translate(t).clipExtent([[u-.455*o,h-.238*o],[u+.455*o,h+.238*o]]).stream(l).point,r=a.translate([u-.307*o,h+.201*o]).clipExtent([[u-.425*o+St,h+.12*o+St],[u-.214*o-St,h+.234*o-St]]).stream(l).point,n=s.translate([u-.205*o,h+.212*o]).clipExtent([[u-.214*o+St,h+.166*o+St],[u-.115*o-St,h+.234*o-St]]).stream(l).point,c},c.scale(1070)};var hn,fn,dn,pn,vn,yn,gn={point:F,lineStart:F,lineEnd:F,polygonStart:function(){fn=0,gn.lineStart=mn},polygonEnd:function(){gn.lineStart=gn.lineEnd=gn.point=F,hn+=_(fn/2)}};function mn(){var t,e,r,n;function i(t,e){fn+=n*t-r*e,r=t,n=e}gn.point=function(o,a){gn.point=i,t=r=o,e=n=a},gn.lineEnd=function(){i(t,e)}}var bn={point:function(t,e){t<dn&&(dn=t);t>vn&&(vn=t);e<pn&&(pn=e);e>yn&&(yn=e)},lineStart:F,lineEnd:F,polygonStart:F,polygonEnd:F};function xn(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}var wn,_n={point:kn,lineStart:Tn,lineEnd:An,polygonStart:function(){_n.lineStart=Mn},polygonEnd:function(){_n.point=kn,_n.lineStart=Tn,_n.lineEnd=An}};function kn(t,e){kr+=t,Tr+=e,++Ar}function Tn(){var t,e;function r(r,n){var i=r-t,o=n-e,a=Math.sqrt(i*i+o*o);Mr+=a*(t+r)/2,Sr+=a*(e+n)/2,Or+=a,kn(t=r,e=n)}_n.point=function(n,i){_n.point=r,kn(t=n,e=i)}}function An(){_n.point=kn}function Mn(){var t,e,r,n;function i(t,e){var i=t-r,o=e-n,a=Math.sqrt(i*i+o*o);Mr+=a*(r+t)/2,Sr+=a*(n+e)/2,Or+=a,Cr+=(a=n*t-r*e)*(r+t),Lr+=a*(n+e),jr+=3*a,kn(r=t,n=e)}_n.point=function(o,a){_n.point=i,kn(t=r=o,e=n=a)},_n.lineEnd=function(){i(t,e)}}function Sn(t){var e=.5,r=Math.cos(30*Pt),n=16;function i(e){return(n?function(e){var r,i,a,s,l,c,u,h,f,d,p,v,y={point:g,lineStart:m,lineEnd:x,polygonStart:function(){e.polygonStart(),y.lineStart=w},polygonEnd:function(){e.polygonEnd(),y.lineStart=m}};function g(r,n){r=t(r,n),e.point(r[0],r[1])}function m(){h=NaN,y.point=b,e.lineStart()}function b(r,i){var a=zr([r,i]),s=t(r,i);o(h,f,u,d,p,v,h=s[0],f=s[1],u=r,d=a[0],p=a[1],v=a[2],n,e),e.point(h,f)}function x(){y.point=g,e.lineEnd()}function w(){m(),y.point=_,y.lineEnd=k}function _(t,e){b(r=t,e),i=h,a=f,s=d,l=p,c=v,y.point=b}function k(){o(h,f,u,d,p,v,i,a,r,s,l,c,n,e),y.lineEnd=x,x()}return y}:function(e){return Cn(e,function(r,n){r=t(r,n),e.point(r[0],r[1])})})(e)}function o(n,i,a,s,l,c,u,h,f,d,p,v,y,g){var m=u-n,b=h-i,x=m*m+b*b;if(x>4*e&&y--){var w=s+d,k=l+p,T=c+v,A=Math.sqrt(w*w+k*k+T*T),M=Math.asin(T/=A),S=_(_(T)-1)<St||_(a-f)<St?(a+f)/2:Math.atan2(k,w),O=t(S,M),C=O[0],L=O[1],j=C-n,I=L-i,P=b*j-m*I;(P*P/x>e||_((m*j+b*I)/x-.5)>.3||s*d+l*p+c*v<r)&&(o(n,i,a,s,l,c,C,L,S,w/=A,k/=A,T,y,g),g.point(C,L),o(C,L,S,w,k,T,u,h,f,d,p,v,y,g))}}return i.precision=function(t){return arguments.length?(n=(e=t*t)>0&&16,i):Math.sqrt(e)},i}function On(t){this.stream=t}function Cn(t,e){return{point:e,sphere:function(){t.sphere()},lineStart:function(){t.lineStart()},lineEnd:function(){t.lineEnd()},polygonStart:function(){t.polygonStart()},polygonEnd:function(){t.polygonEnd()}}}function Ln(t){return jn(function(){return t})()}function jn(t){var e,r,n,i,a,s,l=Sn(function(t,r){return[(t=e(t,r))[0]*c+i,a-t[1]*c]}),c=150,u=480,h=250,f=0,d=0,p=0,v=0,y=0,g=on,m=z,b=null,x=null;function w(t){return[(t=n(t[0]*Pt,t[1]*Pt))[0]*c+i,a-t[1]*c]}function k(t){return(t=n.invert((t[0]-i)/c,(a-t[1])/c))&&[t[0]*Et,t[1]*Et]}function T(){n=Zr(r=zn(p,v,y),e);var t=e(f,d);return i=u-t[0]*c,a=h+t[1]*c,A()}function A(){return s&&(s.valid=!1,s=null),w}return w.stream=function(t){return s&&(s.valid=!1),(s=In(g(r,l(m(t))))).valid=!0,s},w.clipAngle=function(t){return arguments.length?(g=null==t?(b=t,on):function(t){var e=Math.cos(t),r=e>0,n=_(e)>St;return tn(i,function(t){var e,s,l,c,u;return{lineStart:function(){c=l=!1,u=1},point:function(h,f){var d,p=[h,f],v=i(h,f),y=r?v?0:a(h,f):v?a(h+(h<0?Ct:-Ct),f):0;if(!e&&(c=l=v)&&t.lineStart(),v!==l&&(d=o(e,p),(qr(e,d)||qr(p,d))&&(p[0]+=St,p[1]+=St,v=i(p[0],p[1]))),v!==l)u=0,v?(t.lineStart(),d=o(p,e),t.point(d[0],d[1])):(d=o(e,p),t.point(d[0],d[1]),t.lineEnd()),e=d;else if(n&&e&&r^v){var g;y&s||!(g=o(p,e,!0))||(u=0,r?(t.lineStart(),t.point(g[0][0],g[0][1]),t.point(g[1][0],g[1][1]),t.lineEnd()):(t.point(g[1][0],g[1][1]),t.lineEnd(),t.lineStart(),t.point(g[0][0],g[0][1])))}!v||e&&qr(e,p)||t.point(p[0],p[1]),e=p,l=v,s=y},lineEnd:function(){l&&t.lineEnd(),e=null},clean:function(){return u|(c&&l)<<1}}},Fn(t,6*Pt),r?[0,-t]:[-Ct,t-Ct]);function i(t,r){return Math.cos(t)*Math.cos(r)>e}function o(t,r,n){var i=[1,0,0],o=Dr(zr(t),zr(r)),a=Nr(o,o),s=o[0],l=a-s*s;if(!l)return!n&&t;var c=e*a/l,u=-e*s/l,h=Dr(i,o),f=Fr(i,c);Rr(f,Fr(o,u));var d=h,p=Nr(f,d),v=Nr(d,d),y=p*p-v*(Nr(f,f)-1);if(!(y<0)){var g=Math.sqrt(y),m=Fr(d,(-p-g)/v);if(Rr(m,f),m=Vr(m),!n)return m;var b,x=t[0],w=r[0],k=t[1],T=r[1];w<x&&(b=x,x=w,w=b);var A=w-x,M=_(A-Ct)<St;if(!M&&T<k&&(b=k,k=T,T=b),M||A<St?M?k+T>0^m[1]<(_(m[0]-x)<St?k:T):k<=m[1]&&m[1]<=T:A>Ct^(x<=m[0]&&m[0]<=w)){var S=Fr(d,(-p+g)/v);return Rr(S,f),[m,Vr(S)]}}}function a(e,n){var i=r?t:Ct-t,o=0;return e<-i?o|=1:e>i&&(o|=2),n<-i?o|=4:n>i&&(o|=8),o}}((b=+t)*Pt),A()):b},w.clipExtent=function(t){return arguments.length?(x=t,m=t?ln(t[0][0],t[0][1],t[1][0],t[1][1]):z,A()):x},w.scale=function(t){return arguments.length?(c=+t,T()):c},w.translate=function(t){return arguments.length?(u=+t[0],h=+t[1],T()):[u,h]},w.center=function(t){return arguments.length?(f=t[0]%360*Pt,d=t[1]%360*Pt,T()):[f*Et,d*Et]},w.rotate=function(t){return arguments.length?(p=t[0]%360*Pt,v=t[1]%360*Pt,y=t.length>2?t[2]%360*Pt:0,T()):[p*Et,v*Et,y*Et]},o.rebind(w,l,"precision"),function(){return e=t.apply(this,arguments),w.invert=e.invert&&k,T()}}function In(t){return Cn(t,function(e,r){t.point(e*Pt,r*Pt)})}function Pn(t,e){return[t,e]}function En(t,e){return[t>Ct?t-Lt:t<-Ct?t+Lt:t,e]}function zn(t,e,r){return t?e||r?Zr(Dn(t),Rn(e,r)):Dn(t):e||r?Rn(e,r):En}function Nn(t){return function(e,r){return[(e+=t)>Ct?e-Lt:e<-Ct?e+Lt:e,r]}}function Dn(t){var e=Nn(t);return e.invert=Nn(-t),e}function Rn(t,e){var r=Math.cos(t),n=Math.sin(t),i=Math.cos(e),o=Math.sin(e);function a(t,e){var a=Math.cos(e),s=Math.cos(t)*a,l=Math.sin(t)*a,c=Math.sin(e),u=c*r+s*n;return[Math.atan2(l*i-u*o,s*r-c*n),Rt(u*i+l*o)]}return a.invert=function(t,e){var a=Math.cos(e),s=Math.cos(t)*a,l=Math.sin(t)*a,c=Math.sin(e),u=c*i-l*o;return[Math.atan2(l*i+c*o,s*r+u*n),Rt(u*r-s*n)]},a}function Fn(t,e){var r=Math.cos(t),n=Math.sin(t);return function(i,o,a,s){var l=a*e;null!=i?(i=Bn(r,i),o=Bn(r,o),(a>0?i<o:i>o)&&(i+=a*Lt)):(i=t+a*Lt,o=t-.5*l);for(var c,u=i;a>0?u>o:u<o;u-=l)s.point((c=Vr([r,-n*Math.cos(u),-n*Math.sin(u)]))[0],c[1])}}function Bn(t,e){var r=zr(e);r[0]-=t,Br(r);var n=Dt(-r[1]);return((-r[2]<0?-n:n)+2*Math.PI-St)%(2*Math.PI)}function Vn(t,e,r){var n=o.range(t,e-St,r).concat(e);return function(t){return n.map(function(e){return[t,e]})}}function qn(t,e,r){var n=o.range(t,e-St,r).concat(e);return function(t){return n.map(function(e){return[e,t]})}}function Hn(t){return t.source}function Un(t){return t.target}o.geo.path=function(){var t,e,r,n,i,a=4.5;function s(t){return t&&("function"==typeof a&&n.pointRadius(+a.apply(this,arguments)),i&&i.valid||(i=r(n)),o.geo.stream(t,i)),n.result()}function l(){return i=null,s}return s.area=function(t){return hn=0,o.geo.stream(t,r(gn)),hn},s.centroid=function(t){return kr=Tr=Ar=Mr=Sr=Or=Cr=Lr=jr=0,o.geo.stream(t,r(_n)),jr?[Cr/jr,Lr/jr]:Or?[Mr/Or,Sr/Or]:Ar?[kr/Ar,Tr/Ar]:[NaN,NaN]},s.bounds=function(t){return vn=yn=-(dn=pn=1/0),o.geo.stream(t,r(bn)),[[dn,pn],[vn,yn]]},s.projection=function(e){return arguments.length?(r=(t=e)?e.stream||(n=e,i=Sn(function(t,e){return n([t*Et,e*Et])}),function(t){return In(i(t))}):z,l()):t;var n,i},s.context=function(t){return arguments.length?(n=null==(e=t)?new function(){var t=xn(4.5),e=[],r={point:n,lineStart:function(){r.point=i},lineEnd:a,polygonStart:function(){r.lineEnd=s},polygonEnd:function(){r.lineEnd=a,r.point=n},pointRadius:function(e){return t=xn(e),r},result:function(){if(e.length){var t=e.join("");return e=[],t}}};function n(r,n){e.push("M",r,",",n,t)}function i(t,n){e.push("M",t,",",n),r.point=o}function o(t,r){e.push("L",t,",",r)}function a(){r.point=n}function s(){e.push("Z")}return r}:new function(t){var e=4.5,r={point:n,lineStart:function(){r.point=i},lineEnd:a,polygonStart:function(){r.lineEnd=s},polygonEnd:function(){r.lineEnd=a,r.point=n},pointRadius:function(t){return e=t,r},result:F};function n(r,n){t.moveTo(r+e,n),t.arc(r,n,e,0,Lt)}function i(e,n){t.moveTo(e,n),r.point=o}function o(e,r){t.lineTo(e,r)}function a(){r.point=n}function s(){t.closePath()}return r}(t),"function"!=typeof a&&n.pointRadius(a),l()):e},s.pointRadius=function(t){return arguments.length?(a="function"==typeof t?t:(n.pointRadius(+t),+t),s):a},s.projection(o.geo.albersUsa()).context(null)},o.geo.transform=function(t){return{stream:function(e){var r=new On(e);for(var n in t)r[n]=t[n];return r}}},On.prototype={point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}},o.geo.projection=Ln,o.geo.projectionMutator=jn,(o.geo.equirectangular=function(){return Ln(Pn)}).raw=Pn.invert=Pn,o.geo.rotation=function(t){function e(e){return(e=t(e[0]*Pt,e[1]*Pt))[0]*=Et,e[1]*=Et,e}return t=zn(t[0]%360*Pt,t[1]*Pt,t.length>2?t[2]*Pt:0),e.invert=function(e){return(e=t.invert(e[0]*Pt,e[1]*Pt))[0]*=Et,e[1]*=Et,e},e},En.invert=Pn,o.geo.circle=function(){var t,e,r=[0,0],n=6;function i(){var t="function"==typeof r?r.apply(this,arguments):r,n=zn(-t[0]*Pt,-t[1]*Pt,0).invert,i=[];return e(null,null,1,{point:function(t,e){i.push(t=n(t,e)),t[0]*=Et,t[1]*=Et}}),{type:"Polygon",coordinates:[i]}}return i.origin=function(t){return arguments.length?(r=t,i):r},i.angle=function(r){return arguments.length?(e=Fn((t=+r)*Pt,n*Pt),i):t},i.precision=function(r){return arguments.length?(e=Fn(t*Pt,(n=+r)*Pt),i):n},i.angle(90)},o.geo.distance=function(t,e){var r,n=(e[0]-t[0])*Pt,i=t[1]*Pt,o=e[1]*Pt,a=Math.sin(n),s=Math.cos(n),l=Math.sin(i),c=Math.cos(i),u=Math.sin(o),h=Math.cos(o);return Math.atan2(Math.sqrt((r=h*a)*r+(r=c*u-l*h*s)*r),l*u+c*h*s)},o.geo.graticule=function(){var t,e,r,n,i,a,s,l,c,u,h,f,d=10,p=d,v=90,y=360,g=2.5;function m(){return{type:"MultiLineString",coordinates:b()}}function b(){return o.range(Math.ceil(n/v)*v,r,v).map(h).concat(o.range(Math.ceil(l/y)*y,s,y).map(f)).concat(o.range(Math.ceil(e/d)*d,t,d).filter(function(t){return _(t%v)>St}).map(c)).concat(o.range(Math.ceil(a/p)*p,i,p).filter(function(t){return _(t%y)>St}).map(u))}return m.lines=function(){return b().map(function(t){return{type:"LineString",coordinates:t}})},m.outline=function(){return{type:"Polygon",coordinates:[h(n).concat(f(s).slice(1),h(r).reverse().slice(1),f(l).reverse().slice(1))]}},m.extent=function(t){return arguments.length?m.majorExtent(t).minorExtent(t):m.minorExtent()},m.majorExtent=function(t){return arguments.length?(n=+t[0][0],r=+t[1][0],l=+t[0][1],s=+t[1][1],n>r&&(t=n,n=r,r=t),l>s&&(t=l,l=s,s=t),m.precision(g)):[[n,l],[r,s]]},m.minorExtent=function(r){return arguments.length?(e=+r[0][0],t=+r[1][0],a=+r[0][1],i=+r[1][1],e>t&&(r=e,e=t,t=r),a>i&&(r=a,a=i,i=r),m.precision(g)):[[e,a],[t,i]]},m.step=function(t){return arguments.length?m.majorStep(t).minorStep(t):m.minorStep()},m.majorStep=function(t){return arguments.length?(v=+t[0],y=+t[1],m):[v,y]},m.minorStep=function(t){return arguments.length?(d=+t[0],p=+t[1],m):[d,p]},m.precision=function(o){return arguments.length?(g=+o,c=Vn(a,i,90),u=qn(e,t,g),h=Vn(l,s,90),f=qn(n,r,g),m):g},m.majorExtent([[-180,-90+St],[180,90-St]]).minorExtent([[-180,-80-St],[180,80+St]])},o.geo.greatArc=function(){var t,e,r=Hn,n=Un;function i(){return{type:"LineString",coordinates:[t||r.apply(this,arguments),e||n.apply(this,arguments)]}}return i.distance=function(){return o.geo.distance(t||r.apply(this,arguments),e||n.apply(this,arguments))},i.source=function(e){return arguments.length?(r=e,t="function"==typeof e?null:e,i):r},i.target=function(t){return arguments.length?(n=t,e="function"==typeof t?null:t,i):n},i.precision=function(){return arguments.length?i:0},i},o.geo.interpolate=function(t,e){return r=t[0]*Pt,n=t[1]*Pt,i=e[0]*Pt,o=e[1]*Pt,a=Math.cos(n),s=Math.sin(n),l=Math.cos(o),c=Math.sin(o),u=a*Math.cos(r),h=a*Math.sin(r),f=l*Math.cos(i),d=l*Math.sin(i),p=2*Math.asin(Math.sqrt(Bt(o-n)+a*l*Bt(i-r))),v=1/Math.sin(p),(y=p?function(t){var e=Math.sin(t*=p)*v,r=Math.sin(p-t)*v,n=r*u+e*f,i=r*h+e*d,o=r*s+e*c;return[Math.atan2(i,n)*Et,Math.atan2(o,Math.sqrt(n*n+i*i))*Et]}:function(){return[r*Et,n*Et]}).distance=p,y;var r,n,i,o,a,s,l,c,u,h,f,d,p,v,y},o.geo.length=function(t){return wn=0,o.geo.stream(t,Wn),wn};var Wn={sphere:F,point:F,lineStart:function(){var t,e,r;function n(n,i){var o=Math.sin(i*=Pt),a=Math.cos(i),s=_((n*=Pt)-t),l=Math.cos(s);wn+=Math.atan2(Math.sqrt((s=a*Math.sin(s))*s+(s=r*o-e*a*l)*s),e*o+r*a*l),t=n,e=o,r=a}Wn.point=function(i,o){t=i*Pt,e=Math.sin(o*=Pt),r=Math.cos(o),Wn.point=n},Wn.lineEnd=function(){Wn.point=Wn.lineEnd=F}},lineEnd:F,polygonStart:F,polygonEnd:F};function Gn(t,e){function r(e,r){var n=Math.cos(e),i=Math.cos(r),o=t(n*i);return[o*i*Math.sin(e),o*Math.sin(r)]}return r.invert=function(t,r){var n=Math.sqrt(t*t+r*r),i=e(n),o=Math.sin(i),a=Math.cos(i);return[Math.atan2(t*o,n*a),Math.asin(n&&r*o/n)]},r}var Yn=Gn(function(t){return Math.sqrt(2/(1+t))},function(t){return 2*Math.asin(t/2)});(o.geo.azimuthalEqualArea=function(){return Ln(Yn)}).raw=Yn;var Xn=Gn(function(t){var e=Math.acos(t);return e&&e/Math.sin(e)},z);function Zn(t,e){var r=Math.cos(t),n=function(t){return Math.tan(Ct/4+t/2)},i=t===e?Math.sin(t):Math.log(r/Math.cos(e))/Math.log(n(e)/n(t)),o=r*Math.pow(n(t),i)/i;if(!i)return Qn;function a(t,e){o>0?e<-It+St&&(e=-It+St):e>It-St&&(e=It-St);var r=o/Math.pow(n(e),i);return[r*Math.sin(i*t),o-r*Math.cos(i*t)]}return a.invert=function(t,e){var r=o-e,n=zt(i)*Math.sqrt(t*t+r*r);return[Math.atan2(t,r)/i,2*Math.atan(Math.pow(o/n,1/i))-It]},a}function Jn(t,e){var r=Math.cos(t),n=t===e?Math.sin(t):(r-Math.cos(e))/(e-t),i=r/n+t;if(_(n)<St)return Pn;function o(t,e){var r=i-e;return[r*Math.sin(n*t),i-r*Math.cos(n*t)]}return o.invert=function(t,e){var r=i-e;return[Math.atan2(t,r)/n,i-zt(n)*Math.sqrt(t*t+r*r)]},o}(o.geo.azimuthalEquidistant=function(){return Ln(Xn)}).raw=Xn,(o.geo.conicConformal=function(){return cn(Zn)}).raw=Zn,(o.geo.conicEquidistant=function(){return cn(Jn)}).raw=Jn;var $n=Gn(function(t){return 1/t},Math.atan);function Qn(t,e){return[t,Math.log(Math.tan(Ct/4+e/2))]}function Kn(t){var e,r=Ln(t),n=r.scale,i=r.translate,o=r.clipExtent;return r.scale=function(){var t=n.apply(r,arguments);return t===r?e?r.clipExtent(null):r:t},r.translate=function(){var t=i.apply(r,arguments);return t===r?e?r.clipExtent(null):r:t},r.clipExtent=function(t){var a=o.apply(r,arguments);if(a===r){if(e=null==t){var s=Ct*n(),l=i();o([[l[0]-s,l[1]-s],[l[0]+s,l[1]+s]])}}else e&&(a=null);return a},r.clipExtent(null)}(o.geo.gnomonic=function(){return Ln($n)}).raw=$n,Qn.invert=function(t,e){return[t,2*Math.atan(Math.exp(e))-It]},(o.geo.mercator=function(){return Kn(Qn)}).raw=Qn;var ti=Gn(function(){return 1},Math.asin);(o.geo.orthographic=function(){return Ln(ti)}).raw=ti;var ei=Gn(function(t){return 1/(1+t)},function(t){return 2*Math.atan(t)});function ri(t,e){return[Math.log(Math.tan(Ct/4+e/2)),-t]}function ni(t){return t[0]}function ii(t){return t[1]}function oi(t){for(var e=t.length,r=[0,1],n=2,i=2;i<e;i++){for(;n>1&&Nt(t[r[n-2]],t[r[n-1]],t[i])<=0;)--n;r[n++]=i}return r.slice(0,n)}function ai(t,e){return t[0]-e[0]||t[1]-e[1]}(o.geo.stereographic=function(){return Ln(ei)}).raw=ei,ri.invert=function(t,e){return[-e,2*Math.atan(Math.exp(t))-It]},(o.geo.transverseMercator=function(){var t=Kn(ri),e=t.center,r=t.rotate;return t.center=function(t){return t?e([-t[1],t[0]]):[(t=e())[1],-t[0]]},t.rotate=function(t){return t?r([t[0],t[1],t.length>2?t[2]+90:90]):[(t=r())[0],t[1],t[2]-90]},r([0,0,90])}).raw=ri,o.geom={},o.geom.hull=function(t){var e=ni,r=ii;if(arguments.length)return n(t);function n(t){if(t.length<3)return[];var n,i=xe(e),o=xe(r),a=t.length,s=[],l=[];for(n=0;n<a;n++)s.push([+i.call(this,t[n],n),+o.call(this,t[n],n),n]);for(s.sort(ai),n=0;n<a;n++)l.push([s[n][0],-s[n][1]]);var c=oi(s),u=oi(l),h=u[0]===c[0],f=u[u.length-1]===c[c.length-1],d=[];for(n=c.length-1;n>=0;--n)d.push(t[s[c[n]][2]]);for(n=+h;n<u.length-f;++n)d.push(t[s[u[n]][2]]);return d}return n.x=function(t){return arguments.length?(e=t,n):e},n.y=function(t){return arguments.length?(r=t,n):r},n},o.geom.polygon=function(t){return G(t,si),t};var si=o.geom.polygon.prototype=[];function li(t,e,r){return(r[0]-e[0])*(t[1]-e[1])<(r[1]-e[1])*(t[0]-e[0])}function ci(t,e,r,n){var i=t[0],o=r[0],a=e[0]-i,s=n[0]-o,l=t[1],c=r[1],u=e[1]-l,h=n[1]-c,f=(s*(l-c)-h*(i-o))/(h*a-s*u);return[i+f*a,l+f*u]}function ui(t){var e=t[0],r=t[t.length-1];return!(e[0]-r[0]||e[1]-r[1])}si.area=function(){for(var t,e=-1,r=this.length,n=this[r-1],i=0;++e<r;)t=n,n=this[e],i+=t[1]*n[0]-t[0]*n[1];return.5*i},si.centroid=function(t){var e,r,n=-1,i=this.length,o=0,a=0,s=this[i-1];for(arguments.length||(t=-1/(6*this.area()));++n<i;)e=s,s=this[n],r=e[0]*s[1]-s[0]*e[1],o+=(e[0]+s[0])*r,a+=(e[1]+s[1])*r;return[o*t,a*t]},si.clip=function(t){for(var e,r,n,i,o,a,s=ui(t),l=-1,c=this.length-ui(this),u=this[c-1];++l<c;){for(e=t.slice(),t.length=0,i=this[l],o=e[(n=e.length-s)-1],r=-1;++r<n;)li(a=e[r],u,i)?(li(o,u,i)||t.push(ci(o,a,u,i)),t.push(a)):li(o,u,i)&&t.push(ci(o,a,u,i)),o=a;s&&t.push(t[0]),u=i}return t};var hi,fi,di,pi,vi,yi=[],gi=[];function mi(t){var e=yi.pop()||new function(){Ei(this),this.edge=this.site=this.circle=null};return e.site=t,e}function bi(t){Si(t),di.remove(t),yi.push(t),Ei(t)}function xi(t){var e=t.circle,r=e.x,n=e.cy,i={x:r,y:n},o=t.P,a=t.N,s=[t];bi(t);for(var l=o;l.circle&&_(r-l.circle.x)<St&&_(n-l.circle.cy)<St;)o=l.P,s.unshift(l),bi(l),l=o;s.unshift(l),Si(l);for(var c=a;c.circle&&_(r-c.circle.x)<St&&_(n-c.circle.cy)<St;)a=c.N,s.push(c),bi(c),c=a;s.push(c),Si(c);var u,h=s.length;for(u=1;u<h;++u)c=s[u],l=s[u-1],ji(c.edge,l.site,c.site,i);l=s[0],(c=s[h-1]).edge=Li(l.site,c.site,null,i),Mi(l),Mi(c)}function wi(t){for(var e,r,n,i,o=t.x,a=t.y,s=di._;s;)if((n=_i(s,a)-o)>St)s=s.L;else{if(!((i=o-ki(s,a))>St)){n>-St?(e=s.P,r=s):i>-St?(e=s,r=s.N):e=r=s;break}if(!s.R){e=s;break}s=s.R}var l=mi(t);if(di.insert(e,l),e||r){if(e===r)return Si(e),r=mi(e.site),di.insert(l,r),l.edge=r.edge=Li(e.site,l.site),Mi(e),void Mi(r);if(r){Si(e),Si(r);var c=e.site,u=c.x,h=c.y,f=t.x-u,d=t.y-h,p=r.site,v=p.x-u,y=p.y-h,g=2*(f*y-d*v),m=f*f+d*d,b=v*v+y*y,x={x:(y*m-d*b)/g+u,y:(f*b-v*m)/g+h};ji(r.edge,c,p,x),l.edge=Li(c,t,null,x),r.edge=Li(t,p,null,x),Mi(e),Mi(r)}else l.edge=Li(e.site,l.site)}}function _i(t,e){var r=t.site,n=r.x,i=r.y,o=i-e;if(!o)return n;var a=t.P;if(!a)return-1/0;var s=(r=a.site).x,l=r.y,c=l-e;if(!c)return s;var u=s-n,h=1/o-1/c,f=u/c;return h?(-f+Math.sqrt(f*f-2*h*(u*u/(-2*c)-l+c/2+i-o/2)))/h+n:(n+s)/2}function ki(t,e){var r=t.N;if(r)return _i(r,e);var n=t.site;return n.y===e?n.x:1/0}function Ti(t){this.site=t,this.edges=[]}function Ai(t,e){return e.angle-t.angle}function Mi(t){var e=t.P,r=t.N;if(e&&r){var n=e.site,i=t.site,o=r.site;if(n!==o){var a=i.x,s=i.y,l=n.x-a,c=n.y-s,u=o.x-a,h=2*(l*(y=o.y-s)-c*u);if(!(h>=-Ot)){var f=l*l+c*c,d=u*u+y*y,p=(y*f-c*d)/h,v=(l*d-u*f)/h,y=v+s,g=gi.pop()||new function(){Ei(this),this.x=this.y=this.arc=this.site=this.cy=null};g.arc=t,g.site=i,g.x=p+a,g.y=y+Math.sqrt(p*p+v*v),g.cy=y,t.circle=g;for(var m=null,b=vi._;b;)if(g.y<b.y||g.y===b.y&&g.x<=b.x){if(!b.L){m=b.P;break}b=b.L}else{if(!b.R){m=b;break}b=b.R}vi.insert(m,g),m||(pi=g)}}}}function Si(t){var e=t.circle;e&&(e.P||(pi=e.N),vi.remove(e),gi.push(e),Ei(e),t.circle=null)}function Oi(t,e){var r=t.b;if(r)return!0;var n,i,o=t.a,a=e[0][0],s=e[1][0],l=e[0][1],c=e[1][1],u=t.l,h=t.r,f=u.x,d=u.y,p=h.x,v=h.y,y=(f+p)/2,g=(d+v)/2;if(v===d){if(y<a||y>=s)return;if(f>p){if(o){if(o.y>=c)return}else o={x:y,y:l};r={x:y,y:c}}else{if(o){if(o.y<l)return}else o={x:y,y:c};r={x:y,y:l}}}else if(i=g-(n=(f-p)/(v-d))*y,n<-1||n>1)if(f>p){if(o){if(o.y>=c)return}else o={x:(l-i)/n,y:l};r={x:(c-i)/n,y:c}}else{if(o){if(o.y<l)return}else o={x:(c-i)/n,y:c};r={x:(l-i)/n,y:l}}else if(d<v){if(o){if(o.x>=s)return}else o={x:a,y:n*a+i};r={x:s,y:n*s+i}}else{if(o){if(o.x<a)return}else o={x:s,y:n*s+i};r={x:a,y:n*a+i}}return t.a=o,t.b=r,!0}function Ci(t,e){this.l=t,this.r=e,this.a=this.b=null}function Li(t,e,r,n){var i=new Ci(t,e);return hi.push(i),r&&ji(i,t,e,r),n&&ji(i,e,t,n),fi[t.i].edges.push(new Ii(i,t,e)),fi[e.i].edges.push(new Ii(i,e,t)),i}function ji(t,e,r,n){t.a||t.b?t.l===r?t.b=n:t.a=n:(t.a=n,t.l=e,t.r=r)}function Ii(t,e,r){var n=t.a,i=t.b;this.edge=t,this.site=e,this.angle=r?Math.atan2(r.y-e.y,r.x-e.x):t.l===e?Math.atan2(i.x-n.x,n.y-i.y):Math.atan2(n.x-i.x,i.y-n.y)}function Pi(){this._=null}function Ei(t){t.U=t.C=t.L=t.R=t.P=t.N=null}function zi(t,e){var r=e,n=e.R,i=r.U;i?i.L===r?i.L=n:i.R=n:t._=n,n.U=i,r.U=n,r.R=n.L,r.R&&(r.R.U=r),n.L=r}function Ni(t,e){var r=e,n=e.L,i=r.U;i?i.L===r?i.L=n:i.R=n:t._=n,n.U=i,r.U=n,r.L=n.R,r.L&&(r.L.U=r),n.R=r}function Di(t){for(;t.L;)t=t.L;return t}function Ri(t,e){var r,n,i,o=t.sort(Fi).pop();for(hi=[],fi=new Array(t.length),di=new Pi,vi=new Pi;;)if(i=pi,o&&(!i||o.y<i.y||o.y===i.y&&o.x<i.x))o.x===r&&o.y===n||(fi[o.i]=new Ti(o),wi(o),r=o.x,n=o.y),o=t.pop();else{if(!i)break;xi(i.arc)}e&&(function(t){for(var e,r=hi,n=an(t[0][0],t[0][1],t[1][0],t[1][1]),i=r.length;i--;)(!Oi(e=r[i],t)||!n(e)||_(e.a.x-e.b.x)<St&&_(e.a.y-e.b.y)<St)&&(e.a=e.b=null,r.splice(i,1))}(e),function(t){for(var e,r,n,i,o,a,s,l,c,u,h=t[0][0],f=t[1][0],d=t[0][1],p=t[1][1],v=fi,y=v.length;y--;)if((o=v[y])&&o.prepare())for(l=(s=o.edges).length,a=0;a<l;)n=(u=s[a].end()).x,i=u.y,e=(c=s[++a%l].start()).x,r=c.y,(_(n-e)>St||_(i-r)>St)&&(s.splice(a,0,new Ii((g=o.site,m=u,b=_(n-h)<St&&p-i>St?{x:h,y:_(e-h)<St?r:p}:_(i-p)<St&&f-n>St?{x:_(r-p)<St?e:f,y:p}:_(n-f)<St&&i-d>St?{x:f,y:_(e-f)<St?r:d}:_(i-d)<St&&n-h>St?{x:_(r-d)<St?e:h,y:d}:null,x=void 0,x=new Ci(g,null),x.a=m,x.b=b,hi.push(x),x),o.site,null)),++l);var g,m,b,x}(e));var a={cells:fi,edges:hi};return di=vi=hi=fi=null,a}function Fi(t,e){return e.y-t.y||e.x-t.x}Ti.prototype.prepare=function(){for(var t,e=this.edges,r=e.length;r--;)(t=e[r].edge).b&&t.a||e.splice(r,1);return e.sort(Ai),e.length},Ii.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}},Pi.prototype={insert:function(t,e){var r,n,i;if(t){if(e.P=t,e.N=t.N,t.N&&(t.N.P=e),t.N=e,t.R){for(t=t.R;t.L;)t=t.L;t.L=e}else t.R=e;r=t}else this._?(t=Di(this._),e.P=null,e.N=t,t.P=t.L=e,r=t):(e.P=e.N=null,this._=e,r=null);for(e.L=e.R=null,e.U=r,e.C=!0,t=e;r&&r.C;)r===(n=r.U).L?(i=n.R)&&i.C?(r.C=i.C=!1,n.C=!0,t=n):(t===r.R&&(zi(this,r),r=(t=r).U),r.C=!1,n.C=!0,Ni(this,n)):(i=n.L)&&i.C?(r.C=i.C=!1,n.C=!0,t=n):(t===r.L&&(Ni(this,r),r=(t=r).U),r.C=!1,n.C=!0,zi(this,n)),r=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var e,r,n,i=t.U,o=t.L,a=t.R;if(r=o?a?Di(a):o:a,i?i.L===t?i.L=r:i.R=r:this._=r,o&&a?(n=r.C,r.C=t.C,r.L=o,o.U=r,r!==a?(i=r.U,r.U=t.U,t=r.R,i.L=t,r.R=a,a.U=r):(r.U=i,i=r,t=r.R)):(n=t.C,t=r),t&&(t.U=i),!n)if(t&&t.C)t.C=!1;else{do{if(t===this._)break;if(t===i.L){if((e=i.R).C&&(e.C=!1,i.C=!0,zi(this,i),e=i.R),e.L&&e.L.C||e.R&&e.R.C){e.R&&e.R.C||(e.L.C=!1,e.C=!0,Ni(this,e),e=i.R),e.C=i.C,i.C=e.R.C=!1,zi(this,i),t=this._;break}}else if((e=i.L).C&&(e.C=!1,i.C=!0,Ni(this,i),e=i.L),e.L&&e.L.C||e.R&&e.R.C){e.L&&e.L.C||(e.R.C=!1,e.C=!0,zi(this,e),e=i.L),e.C=i.C,i.C=e.L.C=!1,Ni(this,i),t=this._;break}e.C=!0,t=i,i=i.U}while(!t.C);t&&(t.C=!1)}}},o.geom.voronoi=function(t){var e=ni,r=ii,n=e,i=r,o=Bi;if(t)return a(t);function a(t){var e=new Array(t.length),r=o[0][0],n=o[0][1],i=o[1][0],a=o[1][1];return Ri(s(t),o).cells.forEach(function(o,s){var l=o.edges,c=o.site;(e[s]=l.length?l.map(function(t){var e=t.start();return[e.x,e.y]}):c.x>=r&&c.x<=i&&c.y>=n&&c.y<=a?[[r,a],[i,a],[i,n],[r,n]]:[]).point=t[s]}),e}function s(t){return t.map(function(t,e){return{x:Math.round(n(t,e)/St)*St,y:Math.round(i(t,e)/St)*St,i:e}})}return a.links=function(t){return Ri(s(t)).edges.filter(function(t){return t.l&&t.r}).map(function(e){return{source:t[e.l.i],target:t[e.r.i]}})},a.triangles=function(t){var e=[];return Ri(s(t)).cells.forEach(function(r,n){for(var i,o,a,s,l=r.site,c=r.edges.sort(Ai),u=-1,h=c.length,f=c[h-1].edge,d=f.l===l?f.r:f.l;++u<h;)f,i=d,d=(f=c[u].edge).l===l?f.r:f.l,n<i.i&&n<d.i&&(a=i,s=d,((o=l).x-s.x)*(a.y-o.y)-(o.x-a.x)*(s.y-o.y)<0)&&e.push([t[n],t[i.i],t[d.i]])}),e},a.x=function(t){return arguments.length?(n=xe(e=t),a):e},a.y=function(t){return arguments.length?(i=xe(r=t),a):r},a.clipExtent=function(t){return arguments.length?(o=null==t?Bi:t,a):o===Bi?null:o},a.size=function(t){return arguments.length?a.clipExtent(t&&[[0,0],t]):o===Bi?null:o&&o[1]},a};var Bi=[[-1e6,-1e6],[1e6,1e6]];function Vi(t){return t.x}function qi(t){return t.y}function Hi(t,e){t=o.rgb(t),e=o.rgb(e);var r=t.r,n=t.g,i=t.b,a=e.r-r,s=e.g-n,l=e.b-i;return function(t){return"#"+de(Math.round(r+a*t))+de(Math.round(n+s*t))+de(Math.round(i+l*t))}}function Ui(t,e){var r,n={},i={};for(r in t)r in e?n[r]=Zi(t[r],e[r]):i[r]=t[r];for(r in e)r in t||(i[r]=e[r]);return function(t){for(r in n)i[r]=n[r](t);return i}}function Wi(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}function Gi(t,e){var r,n,i,o=Yi.lastIndex=Xi.lastIndex=0,a=-1,s=[],l=[];for(t+="",e+="";(r=Yi.exec(t))&&(n=Xi.exec(e));)(i=n.index)>o&&(i=e.slice(o,i),s[a]?s[a]+=i:s[++a]=i),(r=r[0])===(n=n[0])?s[a]?s[a]+=n:s[++a]=n:(s[++a]=null,l.push({i:a,x:Wi(r,n)})),o=Xi.lastIndex;return o<e.length&&(i=e.slice(o),s[a]?s[a]+=i:s[++a]=i),s.length<2?l[0]?(e=l[0].x,function(t){return e(t)+""}):function(){return e}:(e=l.length,function(t){for(var r,n=0;n<e;++n)s[(r=l[n]).i]=r.x(t);return s.join("")})}o.geom.delaunay=function(t){return o.geom.voronoi().triangles(t)},o.geom.quadtree=function(t,e,r,n,i){var o,a=ni,s=ii;if(o=arguments.length)return a=Vi,s=qi,3===o&&(i=r,n=e,r=e=0),l(t);function l(t){var l,c,u,h,f,d,p,v,y,g=xe(a),m=xe(s);if(null!=e)d=e,p=r,v=n,y=i;else if(v=y=-(d=p=1/0),c=[],u=[],f=t.length,o)for(h=0;h<f;++h)(l=t[h]).x<d&&(d=l.x),l.y<p&&(p=l.y),l.x>v&&(v=l.x),l.y>y&&(y=l.y),c.push(l.x),u.push(l.y);else for(h=0;h<f;++h){var b=+g(l=t[h],h),x=+m(l,h);b<d&&(d=b),x<p&&(p=x),b>v&&(v=b),x>y&&(y=x),c.push(b),u.push(x)}var w=v-d,k=y-p;function T(t,e,r,n,i,o,a,s){if(!isNaN(r)&&!isNaN(n))if(t.leaf){var l=t.x,c=t.y;if(null!=l)if(_(l-r)+_(c-n)<.01)A(t,e,r,n,i,o,a,s);else{var u=t.point;t.x=t.y=t.point=null,A(t,u,l,c,i,o,a,s),A(t,e,r,n,i,o,a,s)}else t.x=r,t.y=n,t.point=e}else A(t,e,r,n,i,o,a,s)}function A(t,e,r,n,i,o,a,s){var l=.5*(i+a),c=.5*(o+s),u=r>=l,h=n>=c,f=h<<1|u;t.leaf=!1,t=t.nodes[f]||(t.nodes[f]={leaf:!0,nodes:[],point:null,x:null,y:null,add:function(t){T(M,t,+g(t,++h),+m(t,h),d,p,v,y)}}),u?i=l:a=l,h?o=c:s=c,T(t,e,r,n,i,o,a,s)}w>k?y=p+w:v=d+k;var M={leaf:!0,nodes:[],point:null,x:null,y:null,add:function(t){T(M,t,+g(t,++h),+m(t,h),d,p,v,y)}};if(M.visit=function(t){!function t(e,r,n,i,o,a){if(!e(r,n,i,o,a)){var s=.5*(n+o),l=.5*(i+a),c=r.nodes;c[0]&&t(e,c[0],n,i,s,l),c[1]&&t(e,c[1],s,i,o,l),c[2]&&t(e,c[2],n,l,s,a),c[3]&&t(e,c[3],s,l,o,a)}}(t,M,d,p,v,y)},M.find=function(t){return function(t,e,r,n,i,o,a){var s,l=1/0;return function t(c,u,h,f,d){if(!(u>o||h>a||f<n||d<i)){if(p=c.point){var p,v=e-c.x,y=r-c.y,g=v*v+y*y;if(g<l){var m=Math.sqrt(l=g);n=e-m,i=r-m,o=e+m,a=r+m,s=p}}for(var b=c.nodes,x=.5*(u+f),w=.5*(h+d),_=(r>=w)<<1|e>=x,k=_+4;_<k;++_)if(c=b[3&_])switch(3&_){case 0:t(c,u,h,x,w);break;case 1:t(c,x,h,f,w);break;case 2:t(c,u,w,x,d);break;case 3:t(c,x,w,f,d)}}}(t,n,i,o,a),s}(M,t[0],t[1],d,p,v,y)},h=-1,null==e){for(;++h<f;)T(M,t[h],c[h],u[h],d,p,v,y);--h}else t.forEach(M.add);return c=u=t=l=null,M}return l.x=function(t){return arguments.length?(a=t,l):a},l.y=function(t){return arguments.length?(s=t,l):s},l.extent=function(t){return arguments.length?(null==t?e=r=n=i=null:(e=+t[0][0],r=+t[0][1],n=+t[1][0],i=+t[1][1]),l):null==e?null:[[e,r],[n,i]]},l.size=function(t){return arguments.length?(null==t?e=r=n=i=null:(e=r=0,n=+t[0],i=+t[1]),l):null==e?null:[n-e,i-r]},l},o.interpolateRgb=Hi,o.interpolateObject=Ui,o.interpolateNumber=Wi,o.interpolateString=Gi;var Yi=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Xi=new RegExp(Yi.source,"g");function Zi(t,e){for(var r,n=o.interpolators.length;--n>=0&&!(r=o.interpolators[n](t,e)););return r}function Ji(t,e){var r,n=[],i=[],o=t.length,a=e.length,s=Math.min(t.length,e.length);for(r=0;r<s;++r)n.push(Zi(t[r],e[r]));for(;r<o;++r)i[r]=t[r];for(;r<a;++r)i[r]=e[r];return function(t){for(r=0;r<s;++r)i[r]=n[r](t);return i}}o.interpolate=Zi,o.interpolators=[function(t,e){var r=typeof e;return("string"===r?be.has(e.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(e)?Hi:Gi:e instanceof Wt?Hi:Array.isArray(e)?Ji:"object"===r&&isNaN(e)?Ui:Wi)(t,e)}],o.interpolateArray=Ji;var $i=function(){return z},Qi=o.map({linear:$i,poly:function(t){return function(e){return Math.pow(e,t)}},quad:function(){return ro},cubic:function(){return no},sin:function(){return oo},exp:function(){return ao},circle:function(){return so},elastic:function(t,e){var r;arguments.length<2&&(e=.45);arguments.length?r=e/Lt*Math.asin(1/t):(t=1,r=e/4);return function(n){return 1+t*Math.pow(2,-10*n)*Math.sin((n-r)*Lt/e)}},back:function(t){t||(t=1.70158);return function(e){return e*e*((t+1)*e-t)}},bounce:function(){return lo}}),Ki=o.map({in:z,out:to,"in-out":eo,"out-in":function(t){return eo(to(t))}});function to(t){return function(e){return 1-t(1-e)}}function eo(t){return function(e){return.5*(e<.5?t(2*e):2-t(2-2*e))}}function ro(t){return t*t}function no(t){return t*t*t}function io(t){if(t<=0)return 0;if(t>=1)return 1;var e=t*t,r=e*t;return 4*(t<.5?r:3*(t-e)+r-.75)}function oo(t){return 1-Math.cos(t*It)}function ao(t){return Math.pow(2,10*(t-1))}function so(t){return 1-Math.sqrt(1-t*t)}function lo(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375}function co(t,e){return e-=t,function(r){return Math.round(t+e*r)}}function uo(t){var e,r,n,i=[t.a,t.b],o=[t.c,t.d],a=fo(i),s=ho(i,o),l=fo(((e=o)[0]+=(n=-s)*(r=i)[0],e[1]+=n*r[1],e))||0;i[0]*o[1]<o[0]*i[1]&&(i[0]*=-1,i[1]*=-1,a*=-1,s*=-1),this.rotate=(a?Math.atan2(i[1],i[0]):Math.atan2(-o[0],o[1]))*Et,this.translate=[t.e,t.f],this.scale=[a,l],this.skew=l?Math.atan2(s,l)*Et:0}function ho(t,e){return t[0]*e[0]+t[1]*e[1]}function fo(t){var e=Math.sqrt(ho(t,t));return e&&(t[0]/=e,t[1]/=e),e}o.ease=function(t){var e,r=t.indexOf("-"),n=r>=0?t.slice(0,r):t,i=r>=0?t.slice(r+1):"in";return n=Qi.get(n)||$i,i=Ki.get(i)||z,e=i(n.apply(null,a.call(arguments,1))),function(t){return t<=0?0:t>=1?1:e(t)}},o.interpolateHcl=function(t,e){t=o.hcl(t),e=o.hcl(e);var r=t.h,n=t.c,i=t.l,a=e.h-r,s=e.c-n,l=e.l-i;isNaN(s)&&(s=0,n=isNaN(n)?e.c:n);isNaN(a)?(a=0,r=isNaN(r)?e.h:r):a>180?a-=360:a<-180&&(a+=360);return function(t){return $t(r+a*t,n+s*t,i+l*t)+""}},o.interpolateHsl=function(t,e){t=o.hsl(t),e=o.hsl(e);var r=t.h,n=t.s,i=t.l,a=e.h-r,s=e.s-n,l=e.l-i;isNaN(s)&&(s=0,n=isNaN(n)?e.s:n);isNaN(a)?(a=0,r=isNaN(r)?e.h:r):a>180?a-=360:a<-180&&(a+=360);return function(t){return Xt(r+a*t,n+s*t,i+l*t)+""}},o.interpolateLab=function(t,e){t=o.lab(t),e=o.lab(e);var r=t.l,n=t.a,i=t.b,a=e.l-r,s=e.a-n,l=e.b-i;return function(t){return ie(r+a*t,n+s*t,i+l*t)+""}},o.interpolateRound=co,o.transform=function(t){var e=l.createElementNS(o.ns.prefix.svg,"g");return(o.transform=function(t){if(null!=t){e.setAttribute("transform",t);var r=e.transform.baseVal.consolidate()}return new uo(r?r.matrix:po)})(t)},uo.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var po={a:1,b:0,c:0,d:1,e:0,f:0};function vo(t){return t.length?t.pop()+",":""}function yo(t,e){var r=[],n=[];return t=o.transform(t),e=o.transform(e),function(t,e,r,n){if(t[0]!==e[0]||t[1]!==e[1]){var i=r.push("translate(",null,",",null,")");n.push({i:i-4,x:Wi(t[0],e[0])},{i:i-2,x:Wi(t[1],e[1])})}else(e[0]||e[1])&&r.push("translate("+e+")")}(t.translate,e.translate,r,n),function(t,e,r,n){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),n.push({i:r.push(vo(r)+"rotate(",null,")")-2,x:Wi(t,e)})):e&&r.push(vo(r)+"rotate("+e+")")}(t.rotate,e.rotate,r,n),function(t,e,r,n){t!==e?n.push({i:r.push(vo(r)+"skewX(",null,")")-2,x:Wi(t,e)}):e&&r.push(vo(r)+"skewX("+e+")")}(t.skew,e.skew,r,n),function(t,e,r,n){if(t[0]!==e[0]||t[1]!==e[1]){var i=r.push(vo(r)+"scale(",null,",",null,")");n.push({i:i-4,x:Wi(t[0],e[0])},{i:i-2,x:Wi(t[1],e[1])})}else 1===e[0]&&1===e[1]||r.push(vo(r)+"scale("+e+")")}(t.scale,e.scale,r,n),t=e=null,function(t){for(var e,i=-1,o=n.length;++i<o;)r[(e=n[i]).i]=e.x(t);return r.join("")}}function go(t,e){return e=(e-=t=+t)||1/e,function(r){return(r-t)/e}}function mo(t,e){return e=(e-=t=+t)||1/e,function(r){return Math.max(0,Math.min(1,(r-t)/e))}}function bo(t){for(var e=t.source,r=t.target,n=function(t,e){if(t===e)return t;var r=xo(t),n=xo(e),i=r.pop(),o=n.pop(),a=null;for(;i===o;)a=i,i=r.pop(),o=n.pop();return a}(e,r),i=[e];e!==n;)e=e.parent,i.push(e);for(var o=i.length;r!==n;)i.splice(o,0,r),r=r.parent;return i}function xo(t){for(var e=[],r=t.parent;null!=r;)e.push(t),t=r,r=r.parent;return e.push(t),e}function wo(t){t.fixed|=2}function _o(t){t.fixed&=-7}function ko(t){t.fixed|=4,t.px=t.x,t.py=t.y}function To(t){t.fixed&=-5}o.interpolateTransform=yo,o.layout={},o.layout.bundle=function(){return function(t){for(var e=[],r=-1,n=t.length;++r<n;)e.push(bo(t[r]));return e}},o.layout.chord=function(){var t,e,r,n,i,a,s,l={},c=0;function u(){var l,u,f,d,p,v={},y=[],g=o.range(n),m=[];for(t=[],e=[],l=0,d=-1;++d<n;){for(u=0,p=-1;++p<n;)u+=r[d][p];y.push(u),m.push(o.range(n)),l+=u}for(i&&g.sort(function(t,e){return i(y[t],y[e])}),a&&m.forEach(function(t,e){t.sort(function(t,n){return a(r[e][t],r[e][n])})}),l=(Lt-c*n)/l,u=0,d=-1;++d<n;){for(f=u,p=-1;++p<n;){var b=g[d],x=m[b][p],w=r[b][x],_=u,k=u+=w*l;v[b+"-"+x]={index:b,subindex:x,startAngle:_,endAngle:k,value:w}}e[b]={index:b,startAngle:f,endAngle:u,value:y[b]},u+=c}for(d=-1;++d<n;)for(p=d-1;++p<n;){var T=v[d+"-"+p],A=v[p+"-"+d];(T.value||A.value)&&t.push(T.value<A.value?{source:A,target:T}:{source:T,target:A})}s&&h()}function h(){t.sort(function(t,e){return s((t.source.value+t.target.value)/2,(e.source.value+e.target.value)/2)})}return l.matrix=function(i){return arguments.length?(n=(r=i)&&r.length,t=e=null,l):r},l.padding=function(r){return arguments.length?(c=r,t=e=null,l):c},l.sortGroups=function(r){return arguments.length?(i=r,t=e=null,l):i},l.sortSubgroups=function(e){return arguments.length?(a=e,t=null,l):a},l.sortChords=function(e){return arguments.length?(s=e,t&&h(),l):s},l.chords=function(){return t||u(),t},l.groups=function(){return e||u(),e},l},o.layout.force=function(){var t,e,r,n,i,a,s={},l=o.dispatch("start","tick","end"),c=[1,1],u=.9,h=Ao,f=Mo,d=-30,p=So,v=.1,y=.64,g=[],m=[];function b(t){return function(e,r,n,i){if(e.point!==t){var o=e.cx-t.x,a=e.cy-t.y,s=i-r,l=o*o+a*a;if(s*s/y<l){if(l<p){var c=e.charge/l;t.px-=o*c,t.py-=a*c}return!0}if(e.point&&l&&l<p){c=e.pointCharge/l;t.px-=o*c,t.py-=a*c}}return!e.charge}}function x(t){t.px=o.event.x,t.py=o.event.y,s.resume()}return s.tick=function(){if((r*=.99)<.005)return t=null,l.end({type:"end",alpha:r=0}),!0;var e,s,h,f,p,y,x,w,_,k=g.length,T=m.length;for(s=0;s<T;++s)f=(h=m[s]).source,(y=(w=(p=h.target).x-f.x)*w+(_=p.y-f.y)*_)&&(w*=y=r*i[s]*((y=Math.sqrt(y))-n[s])/y,_*=y,p.x-=w*(x=f.weight+p.weight?f.weight/(f.weight+p.weight):.5),p.y-=_*x,f.x+=w*(x=1-x),f.y+=_*x);if((x=r*v)&&(w=c[0]/2,_=c[1]/2,s=-1,x))for(;++s<k;)(h=g[s]).x+=(w-h.x)*x,h.y+=(_-h.y)*x;if(d)for(!function t(e,r,n){var i=0,o=0;e.charge=0;if(!e.leaf)for(var a,s=e.nodes,l=s.length,c=-1;++c<l;)null!=(a=s[c])&&(t(a,r,n),e.charge+=a.charge,i+=a.charge*a.cx,o+=a.charge*a.cy);if(e.point){e.leaf||(e.point.x+=Math.random()-.5,e.point.y+=Math.random()-.5);var u=r*n[e.point.index];e.charge+=e.pointCharge=u,i+=u*e.point.x,o+=u*e.point.y}e.cx=i/e.charge;e.cy=o/e.charge}(e=o.geom.quadtree(g),r,a),s=-1;++s<k;)(h=g[s]).fixed||e.visit(b(h));for(s=-1;++s<k;)(h=g[s]).fixed?(h.x=h.px,h.y=h.py):(h.x-=(h.px-(h.px=h.x))*u,h.y-=(h.py-(h.py=h.y))*u);l.tick({type:"tick",alpha:r})},s.nodes=function(t){return arguments.length?(g=t,s):g},s.links=function(t){return arguments.length?(m=t,s):m},s.size=function(t){return arguments.length?(c=t,s):c},s.linkDistance=function(t){return arguments.length?(h="function"==typeof t?t:+t,s):h},s.distance=s.linkDistance,s.linkStrength=function(t){return arguments.length?(f="function"==typeof t?t:+t,s):f},s.friction=function(t){return arguments.length?(u=+t,s):u},s.charge=function(t){return arguments.length?(d="function"==typeof t?t:+t,s):d},s.chargeDistance=function(t){return arguments.length?(p=t*t,s):Math.sqrt(p)},s.gravity=function(t){return arguments.length?(v=+t,s):v},s.theta=function(t){return arguments.length?(y=t*t,s):Math.sqrt(y)},s.alpha=function(e){return arguments.length?(e=+e,r?e>0?r=e:(t.c=null,t.t=NaN,t=null,l.end({type:"end",alpha:r=0})):e>0&&(l.start({type:"start",alpha:r=e}),t=Oe(s.tick)),s):r},s.start=function(){var t,e,r,o=g.length,l=m.length,u=c[0],p=c[1];for(t=0;t<o;++t)(r=g[t]).index=t,r.weight=0;for(t=0;t<l;++t)"number"==typeof(r=m[t]).source&&(r.source=g[r.source]),"number"==typeof r.target&&(r.target=g[r.target]),++r.source.weight,++r.target.weight;for(t=0;t<o;++t)r=g[t],isNaN(r.x)&&(r.x=v("x",u)),isNaN(r.y)&&(r.y=v("y",p)),isNaN(r.px)&&(r.px=r.x),isNaN(r.py)&&(r.py=r.y);if(n=[],"function"==typeof h)for(t=0;t<l;++t)n[t]=+h.call(this,m[t],t);else for(t=0;t<l;++t)n[t]=h;if(i=[],"function"==typeof f)for(t=0;t<l;++t)i[t]=+f.call(this,m[t],t);else for(t=0;t<l;++t)i[t]=f;if(a=[],"function"==typeof d)for(t=0;t<o;++t)a[t]=+d.call(this,g[t],t);else for(t=0;t<o;++t)a[t]=d;function v(r,n){if(!e){for(e=new Array(o),c=0;c<o;++c)e[c]=[];for(c=0;c<l;++c){var i=m[c];e[i.source.index].push(i.target),e[i.target.index].push(i.source)}}for(var a,s=e[t],c=-1,u=s.length;++c<u;)if(!isNaN(a=s[c][r]))return a;return Math.random()*n}return s.resume()},s.resume=function(){return s.alpha(.1)},s.stop=function(){return s.alpha(0)},s.drag=function(){if(e||(e=o.behavior.drag().origin(z).on("dragstart.force",wo).on("drag.force",x).on("dragend.force",_o)),!arguments.length)return e;this.on("mouseover.force",ko).on("mouseout.force",To).call(e)},o.rebind(s,l,"on")};var Ao=20,Mo=1,So=1/0;function Oo(t,e){return o.rebind(t,e,"sort","children","value"),t.nodes=t,t.links=Eo,t}function Co(t,e){for(var r=[t];null!=(t=r.pop());)if(e(t),(i=t.children)&&(n=i.length))for(var n,i;--n>=0;)r.push(i[n])}function Lo(t,e){for(var r=[t],n=[];null!=(t=r.pop());)if(n.push(t),(o=t.children)&&(i=o.length))for(var i,o,a=-1;++a<i;)r.push(o[a]);for(;null!=(t=n.pop());)e(t)}function jo(t){return t.children}function Io(t){return t.value}function Po(t,e){return e.value-t.value}function Eo(t){return o.merge(t.map(function(t){return(t.children||[]).map(function(e){return{source:t,target:e}})}))}o.layout.hierarchy=function(){var t=Po,e=jo,r=Io;function n(i){var o,a=[i],s=[];for(i.depth=0;null!=(o=a.pop());)if(s.push(o),(c=e.call(n,o,o.depth))&&(l=c.length)){for(var l,c,u;--l>=0;)a.push(u=c[l]),u.parent=o,u.depth=o.depth+1;r&&(o.value=0),o.children=c}else r&&(o.value=+r.call(n,o,o.depth)||0),delete o.children;return Lo(i,function(e){var n,i;t&&(n=e.children)&&n.sort(t),r&&(i=e.parent)&&(i.value+=e.value)}),s}return n.sort=function(e){return arguments.length?(t=e,n):t},n.children=function(t){return arguments.length?(e=t,n):e},n.value=function(t){return arguments.length?(r=t,n):r},n.revalue=function(t){return r&&(Co(t,function(t){t.children&&(t.value=0)}),Lo(t,function(t){var e;t.children||(t.value=+r.call(n,t,t.depth)||0),(e=t.parent)&&(e.value+=t.value)})),t},n},o.layout.partition=function(){var t=o.layout.hierarchy(),e=[1,1];function r(r,n){var i=t.call(this,r,n);return function t(e,r,n,i){var o=e.children;if(e.x=r,e.y=e.depth*i,e.dx=n,e.dy=i,o&&(a=o.length)){var a,s,l,c=-1;for(n=e.value?n/e.value:0;++c<a;)t(s=o[c],r,l=s.value*n,i),r+=l}}(i[0],0,e[0],e[1]/function t(e){var r=e.children,n=0;if(r&&(i=r.length))for(var i,o=-1;++o<i;)n=Math.max(n,t(r[o]));return 1+n}(i[0])),i}return r.size=function(t){return arguments.length?(e=t,r):e},Oo(r,t)},o.layout.pie=function(){var t=Number,e=zo,r=0,n=Lt,i=0;function a(s){var l,c=s.length,u=s.map(function(e,r){return+t.call(a,e,r)}),h=+("function"==typeof r?r.apply(this,arguments):r),f=("function"==typeof n?n.apply(this,arguments):n)-h,d=Math.min(Math.abs(f)/c,+("function"==typeof i?i.apply(this,arguments):i)),p=d*(f<0?-1:1),v=o.sum(u),y=v?(f-c*p)/v:0,g=o.range(c),m=[];return null!=e&&g.sort(e===zo?function(t,e){return u[e]-u[t]}:function(t,r){return e(s[t],s[r])}),g.forEach(function(t){m[t]={data:s[t],value:l=u[t],startAngle:h,endAngle:h+=l*y+p,padAngle:d}}),m}return a.value=function(e){return arguments.length?(t=e,a):t},a.sort=function(t){return arguments.length?(e=t,a):e},a.startAngle=function(t){return arguments.length?(r=t,a):r},a.endAngle=function(t){return arguments.length?(n=t,a):n},a.padAngle=function(t){return arguments.length?(i=t,a):i},a};var zo={};function No(t){return t.x}function Do(t){return t.y}function Ro(t,e,r){t.y0=e,t.y=r}o.layout.stack=function(){var t=z,e=Vo,r=qo,n=Ro,i=No,a=Do;function s(l,c){if(!(d=l.length))return l;var u=l.map(function(e,r){return t.call(s,e,r)}),h=u.map(function(t){return t.map(function(t,e){return[i.call(s,t,e),a.call(s,t,e)]})}),f=e.call(s,h,c);u=o.permute(u,f),h=o.permute(h,f);var d,p,v,y,g=r.call(s,h,c),m=u[0].length;for(v=0;v<m;++v)for(n.call(s,u[0][v],y=g[v],h[0][v][1]),p=1;p<d;++p)n.call(s,u[p][v],y+=h[p-1][v][1],h[p][v][1]);return l}return s.values=function(e){return arguments.length?(t=e,s):t},s.order=function(t){return arguments.length?(e="function"==typeof t?t:Fo.get(t)||Vo,s):e},s.offset=function(t){return arguments.length?(r="function"==typeof t?t:Bo.get(t)||qo,s):r},s.x=function(t){return arguments.length?(i=t,s):i},s.y=function(t){return arguments.length?(a=t,s):a},s.out=function(t){return arguments.length?(n=t,s):n},s};var Fo=o.map({"inside-out":function(t){var e,r,n=t.length,i=t.map(Ho),a=t.map(Uo),s=o.range(n).sort(function(t,e){return i[t]-i[e]}),l=0,c=0,u=[],h=[];for(e=0;e<n;++e)r=s[e],l<c?(l+=a[r],u.push(r)):(c+=a[r],h.push(r));return h.reverse().concat(u)},reverse:function(t){return o.range(t.length).reverse()},default:Vo}),Bo=o.map({silhouette:function(t){var e,r,n,i=t.length,o=t[0].length,a=[],s=0,l=[];for(r=0;r<o;++r){for(e=0,n=0;e<i;e++)n+=t[e][r][1];n>s&&(s=n),a.push(n)}for(r=0;r<o;++r)l[r]=(s-a[r])/2;return l},wiggle:function(t){var e,r,n,i,o,a,s,l,c,u=t.length,h=t[0],f=h.length,d=[];for(d[0]=l=c=0,r=1;r<f;++r){for(e=0,i=0;e<u;++e)i+=t[e][r][1];for(e=0,o=0,s=h[r][0]-h[r-1][0];e<u;++e){for(n=0,a=(t[e][r][1]-t[e][r-1][1])/(2*s);n<e;++n)a+=(t[n][r][1]-t[n][r-1][1])/s;o+=a*t[e][r][1]}d[r]=l-=i?o/i*s:0,l<c&&(c=l)}for(r=0;r<f;++r)d[r]-=c;return d},expand:function(t){var e,r,n,i=t.length,o=t[0].length,a=1/i,s=[];for(r=0;r<o;++r){for(e=0,n=0;e<i;e++)n+=t[e][r][1];if(n)for(e=0;e<i;e++)t[e][r][1]/=n;else for(e=0;e<i;e++)t[e][r][1]=a}for(r=0;r<o;++r)s[r]=0;return s},zero:qo});function Vo(t){return o.range(t.length)}function qo(t){for(var e=-1,r=t[0].length,n=[];++e<r;)n[e]=0;return n}function Ho(t){for(var e,r=1,n=0,i=t[0][1],o=t.length;r<o;++r)(e=t[r][1])>i&&(n=r,i=e);return n}function Uo(t){return t.reduce(Wo,0)}function Wo(t,e){return t+e[1]}function Go(t,e){return Yo(t,Math.ceil(Math.log(e.length)/Math.LN2+1))}function Yo(t,e){for(var r=-1,n=+t[0],i=(t[1]-n)/e,o=[];++r<=e;)o[r]=i*r+n;return o}function Xo(t){return[o.min(t),o.max(t)]}function Zo(t,e){return t.value-e.value}function Jo(t,e){var r=t._pack_next;t._pack_next=e,e._pack_prev=t,e._pack_next=r,r._pack_prev=e}function $o(t,e){t._pack_next=e,e._pack_prev=t}function Qo(t,e){var r=e.x-t.x,n=e.y-t.y,i=t.r+e.r;return.999*i*i>r*r+n*n}function Ko(t){if((e=t.children)&&(l=e.length)){var e,r,n,i,o,a,s,l,c=1/0,u=-1/0,h=1/0,f=-1/0;if(e.forEach(ta),(r=e[0]).x=-r.r,r.y=0,b(r),l>1&&((n=e[1]).x=n.r,n.y=0,b(n),l>2))for(ra(r,n,i=e[2]),b(i),Jo(r,i),r._pack_prev=i,Jo(i,n),n=r._pack_next,o=3;o<l;o++){ra(r,n,i=e[o]);var d=0,p=1,v=1;for(a=n._pack_next;a!==n;a=a._pack_next,p++)if(Qo(a,i)){d=1;break}if(1==d)for(s=r._pack_prev;s!==a._pack_prev&&!Qo(s,i);s=s._pack_prev,v++);d?(p<v||p==v&&n.r<r.r?$o(r,n=a):$o(r=s,n),o--):(Jo(r,i),n=i,b(i))}var y=(c+u)/2,g=(h+f)/2,m=0;for(o=0;o<l;o++)(i=e[o]).x-=y,i.y-=g,m=Math.max(m,i.r+Math.sqrt(i.x*i.x+i.y*i.y));t.r=m,e.forEach(ea)}function b(t){c=Math.min(t.x-t.r,c),u=Math.max(t.x+t.r,u),h=Math.min(t.y-t.r,h),f=Math.max(t.y+t.r,f)}}function ta(t){t._pack_next=t._pack_prev=t}function ea(t){delete t._pack_next,delete t._pack_prev}function ra(t,e,r){var n=t.r+r.r,i=e.x-t.x,o=e.y-t.y;if(n&&(i||o)){var a=e.r+r.r,s=i*i+o*o,l=.5+((n*=n)-(a*=a))/(2*s),c=Math.sqrt(Math.max(0,2*a*(n+s)-(n-=s)*n-a*a))/(2*s);r.x=t.x+l*i+c*o,r.y=t.y+l*o-c*i}else r.x=t.x+n,r.y=t.y}function na(t,e){return t.parent==e.parent?1:2}function ia(t){var e=t.children;return e.length?e[0]:t.t}function oa(t){var e,r=t.children;return(e=r.length)?r[e-1]:t.t}function aa(t,e,r){var n=r/(e.i-t.i);e.c-=n,e.s+=r,t.c+=n,e.z+=r,e.m+=r}function sa(t,e,r){return t.a.parent===e.parent?t.a:r}function la(t){return{x:t.x,y:t.y,dx:t.dx,dy:t.dy}}function ca(t,e){var r=t.x+e[3],n=t.y+e[0],i=t.dx-e[1]-e[3],o=t.dy-e[0]-e[2];return i<0&&(r+=i/2,i=0),o<0&&(n+=o/2,o=0),{x:r,y:n,dx:i,dy:o}}function ua(t){var e=t[0],r=t[t.length-1];return e<r?[e,r]:[r,e]}function ha(t){return t.rangeExtent?t.rangeExtent():ua(t.range())}function fa(t,e,r,n){var i=r(t[0],t[1]),o=n(e[0],e[1]);return function(t){return o(i(t))}}function da(t,e){var r,n=0,i=t.length-1,o=t[n],a=t[i];return a<o&&(r=n,n=i,i=r,r=o,o=a,a=r),t[n]=e.floor(o),t[i]=e.ceil(a),t}function pa(t){return t?{floor:function(e){return Math.floor(e/t)*t},ceil:function(e){return Math.ceil(e/t)*t}}:va}o.layout.histogram=function(){var t=!0,e=Number,r=Xo,n=Go;function i(i,a){for(var s,l,c=[],u=i.map(e,this),h=r.call(this,u,a),f=n.call(this,h,u,a),d=(a=-1,u.length),p=f.length-1,v=t?1:1/d;++a<p;)(s=c[a]=[]).dx=f[a+1]-(s.x=f[a]),s.y=0;if(p>0)for(a=-1;++a<d;)(l=u[a])>=h[0]&&l<=h[1]&&((s=c[o.bisect(f,l,1,p)-1]).y+=v,s.push(i[a]));return c}return i.value=function(t){return arguments.length?(e=t,i):e},i.range=function(t){return arguments.length?(r=xe(t),i):r},i.bins=function(t){return arguments.length?(n="number"==typeof t?function(e){return Yo(e,t)}:xe(t),i):n},i.frequency=function(e){return arguments.length?(t=!!e,i):t},i},o.layout.pack=function(){var t,e=o.layout.hierarchy().sort(Zo),r=0,n=[1,1];function i(i,o){var a=e.call(this,i,o),s=a[0],l=n[0],c=n[1],u=null==t?Math.sqrt:"function"==typeof t?t:function(){return t};if(s.x=s.y=0,Lo(s,function(t){t.r=+u(t.value)}),Lo(s,Ko),r){var h=r*(t?1:Math.max(2*s.r/l,2*s.r/c))/2;Lo(s,function(t){t.r+=h}),Lo(s,Ko),Lo(s,function(t){t.r-=h})}return function t(e,r,n,i){var o=e.children;e.x=r+=i*e.x;e.y=n+=i*e.y;e.r*=i;if(o)for(var a=-1,s=o.length;++a<s;)t(o[a],r,n,i)}(s,l/2,c/2,t?1:1/Math.max(2*s.r/l,2*s.r/c)),a}return i.size=function(t){return arguments.length?(n=t,i):n},i.radius=function(e){return arguments.length?(t=null==e||"function"==typeof e?e:+e,i):t},i.padding=function(t){return arguments.length?(r=+t,i):r},Oo(i,e)},o.layout.tree=function(){var t=o.layout.hierarchy().sort(null).value(null),e=na,r=[1,1],n=null;function i(i,o){var c=t.call(this,i,o),u=c[0],h=function(t){var e,r={A:null,children:[t]},n=[r];for(;null!=(e=n.pop());)for(var i,o=e.children,a=0,s=o.length;a<s;++a)n.push((o[a]=i={_:o[a],parent:e,children:(i=o[a].children)&&i.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:a}).a=i);return r.children[0]}(u);if(Lo(h,a),h.parent.m=-h.z,Co(h,s),n)Co(u,l);else{var f=u,d=u,p=u;Co(u,function(t){t.x<f.x&&(f=t),t.x>d.x&&(d=t),t.depth>p.depth&&(p=t)});var v=e(f,d)/2-f.x,y=r[0]/(d.x+e(d,f)/2+v),g=r[1]/(p.depth||1);Co(u,function(t){t.x=(t.x+v)*y,t.y=t.depth*g})}return c}function a(t){var r=t.children,n=t.parent.children,i=t.i?n[t.i-1]:null;if(r.length){!function(t){var e,r=0,n=0,i=t.children,o=i.length;for(;--o>=0;)(e=i[o]).z+=r,e.m+=r,r+=e.s+(n+=e.c)}(t);var o=(r[0].z+r[r.length-1].z)/2;i?(t.z=i.z+e(t._,i._),t.m=t.z-o):t.z=o}else i&&(t.z=i.z+e(t._,i._));t.parent.A=function(t,r,n){if(r){for(var i,o=t,a=t,s=r,l=o.parent.children[0],c=o.m,u=a.m,h=s.m,f=l.m;s=oa(s),o=ia(o),s&&o;)l=ia(l),(a=oa(a)).a=t,(i=s.z+h-o.z-c+e(s._,o._))>0&&(aa(sa(s,t,n),t,i),c+=i,u+=i),h+=s.m,c+=o.m,f+=l.m,u+=a.m;s&&!oa(a)&&(a.t=s,a.m+=h-u),o&&!ia(l)&&(l.t=o,l.m+=c-f,n=t)}return n}(t,i,t.parent.A||n[0])}function s(t){t._.x=t.z+t.parent.m,t.m+=t.parent.m}function l(t){t.x*=r[0],t.y=t.depth*r[1]}return i.separation=function(t){return arguments.length?(e=t,i):e},i.size=function(t){return arguments.length?(n=null==(r=t)?l:null,i):n?null:r},i.nodeSize=function(t){return arguments.length?(n=null==(r=t)?null:l,i):n?r:null},Oo(i,t)},o.layout.cluster=function(){var t=o.layout.hierarchy().sort(null).value(null),e=na,r=[1,1],n=!1;function i(i,a){var s,l=t.call(this,i,a),c=l[0],u=0;Lo(c,function(t){var r=t.children;r&&r.length?(t.x=function(t){return t.reduce(function(t,e){return t+e.x},0)/t.length}(r),t.y=function(t){return 1+o.max(t,function(t){return t.y})}(r)):(t.x=s?u+=e(t,s):0,t.y=0,s=t)});var h=function t(e){var r=e.children;return r&&r.length?t(r[0]):e}(c),f=function t(e){var r,n=e.children;return n&&(r=n.length)?t(n[r-1]):e}(c),d=h.x-e(h,f)/2,p=f.x+e(f,h)/2;return Lo(c,n?function(t){t.x=(t.x-c.x)*r[0],t.y=(c.y-t.y)*r[1]}:function(t){t.x=(t.x-d)/(p-d)*r[0],t.y=(1-(c.y?t.y/c.y:1))*r[1]}),l}return i.separation=function(t){return arguments.length?(e=t,i):e},i.size=function(t){return arguments.length?(n=null==(r=t),i):n?null:r},i.nodeSize=function(t){return arguments.length?(n=null!=(r=t),i):n?r:null},Oo(i,t)},o.layout.treemap=function(){var t,e=o.layout.hierarchy(),r=Math.round,n=[1,1],i=null,a=la,s=!1,l="squarify",c=.5*(1+Math.sqrt(5));function u(t,e){for(var r,n,i=-1,o=t.length;++i<o;)n=(r=t[i]).value*(e<0?0:e),r.area=isNaN(n)||n<=0?0:n}function h(t){var e=t.children;if(e&&e.length){var r,n,i,o=a(t),s=[],c=e.slice(),f=1/0,v="slice"===l?o.dx:"dice"===l?o.dy:"slice-dice"===l?1&t.depth?o.dy:o.dx:Math.min(o.dx,o.dy);for(u(c,o.dx*o.dy/t.value),s.area=0;(i=c.length)>0;)s.push(r=c[i-1]),s.area+=r.area,"squarify"!==l||(n=d(s,v))<=f?(c.pop(),f=n):(s.area-=s.pop().area,p(s,v,o,!1),v=Math.min(o.dx,o.dy),s.length=s.area=0,f=1/0);s.length&&(p(s,v,o,!0),s.length=s.area=0),e.forEach(h)}}function f(t){var e=t.children;if(e&&e.length){var r,n=a(t),i=e.slice(),o=[];for(u(i,n.dx*n.dy/t.value),o.area=0;r=i.pop();)o.push(r),o.area+=r.area,null!=r.z&&(p(o,r.z?n.dx:n.dy,n,!i.length),o.length=o.area=0);e.forEach(f)}}function d(t,e){for(var r,n=t.area,i=0,o=1/0,a=-1,s=t.length;++a<s;)(r=t[a].area)&&(r<o&&(o=r),r>i&&(i=r));return e*=e,(n*=n)?Math.max(e*i*c/n,n/(e*o*c)):1/0}function p(t,e,n,i){var o,a=-1,s=t.length,l=n.x,c=n.y,u=e?r(t.area/e):0;if(e==n.dx){for((i||u>n.dy)&&(u=n.dy);++a<s;)(o=t[a]).x=l,o.y=c,o.dy=u,l+=o.dx=Math.min(n.x+n.dx-l,u?r(o.area/u):0);o.z=!0,o.dx+=n.x+n.dx-l,n.y+=u,n.dy-=u}else{for((i||u>n.dx)&&(u=n.dx);++a<s;)(o=t[a]).x=l,o.y=c,o.dx=u,c+=o.dy=Math.min(n.y+n.dy-c,u?r(o.area/u):0);o.z=!1,o.dy+=n.y+n.dy-c,n.x+=u,n.dx-=u}}function v(r){var i=t||e(r),o=i[0];return o.x=o.y=0,o.value?(o.dx=n[0],o.dy=n[1]):o.dx=o.dy=0,t&&e.revalue(o),u([o],o.dx*o.dy/o.value),(t?f:h)(o),s&&(t=i),i}return v.size=function(t){return arguments.length?(n=t,v):n},v.padding=function(t){if(!arguments.length)return i;function e(e){return ca(e,t)}var r;return a=null==(i=t)?la:"function"==(r=typeof t)?function(e){var r=t.call(v,e,e.depth);return null==r?la(e):ca(e,"number"==typeof r?[r,r,r,r]:r)}:"number"===r?(t=[t,t,t,t],e):e,v},v.round=function(t){return arguments.length?(r=t?Math.round:Number,v):r!=Number},v.sticky=function(e){return arguments.length?(s=e,t=null,v):s},v.ratio=function(t){return arguments.length?(c=t,v):c},v.mode=function(t){return arguments.length?(l=t+"",v):l},Oo(v,e)},o.random={normal:function(t,e){var r=arguments.length;return r<2&&(e=1),r<1&&(t=0),function(){var r,n,i;do{i=(r=2*Math.random()-1)*r+(n=2*Math.random()-1)*n}while(!i||i>1);return t+e*r*Math.sqrt(-2*Math.log(i)/i)}},logNormal:function(){var t=o.random.normal.apply(o,arguments);return function(){return Math.exp(t())}},bates:function(t){var e=o.random.irwinHall(t);return function(){return e()/t}},irwinHall:function(t){return function(){for(var e=0,r=0;r<t;r++)e+=Math.random();return e}}},o.scale={};var va={floor:z,ceil:z};function ya(t,e,r,n){var i=[],a=[],s=0,l=Math.min(t.length,e.length)-1;for(t[l]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<=l;)i.push(r(t[s-1],t[s])),a.push(n(e[s-1],e[s]));return function(e){var r=o.bisect(t,e,1,l)-1;return a[r](i[r](e))}}function ga(t,e){return o.rebind(t,e,"range","rangeRound","interpolate","clamp")}function ma(t,e){return da(t,pa(ba(t,e)[2])),da(t,pa(ba(t,e)[2])),t}function ba(t,e){null==e&&(e=10);var r=ua(t),n=r[1]-r[0],i=Math.pow(10,Math.floor(Math.log(n/e)/Math.LN10)),o=e/n*i;return o<=.15?i*=10:o<=.35?i*=5:o<=.75&&(i*=2),r[0]=Math.ceil(r[0]/i)*i,r[1]=Math.floor(r[1]/i)*i+.5*i,r[2]=i,r}function xa(t,e){return o.range.apply(o,ba(t,e))}function wa(t,e,r){var n=ba(t,e);if(r){var i=Ee.exec(r);if(i.shift(),"s"===i[8]){var a=o.formatPrefix(Math.max(_(n[0]),_(n[1])));return i[7]||(i[7]="."+ka(a.scale(n[2]))),i[8]="f",r=o.format(i.join("")),function(t){return r(a.scale(t))+a.symbol}}i[7]||(i[7]="."+function(t,e){var r=ka(e[2]);return t in _a?Math.abs(r-ka(Math.max(_(e[0]),_(e[1]))))+ +("e"!==t):r-2*("%"===t)}(i[8],n)),r=i.join("")}else r=",."+ka(n[2])+"f";return o.format(r)}o.scale.linear=function(){return function t(e,r,n,i){var o,a;function s(){var t=Math.min(e.length,r.length)>2?ya:fa,s=i?mo:go;return o=t(e,r,s,n),a=t(r,e,s,Zi),l}function l(t){return o(t)}l.invert=function(t){return a(t)};l.domain=function(t){return arguments.length?(e=t.map(Number),s()):e};l.range=function(t){return arguments.length?(r=t,s()):r};l.rangeRound=function(t){return l.range(t).interpolate(co)};l.clamp=function(t){return arguments.length?(i=t,s()):i};l.interpolate=function(t){return arguments.length?(n=t,s()):n};l.ticks=function(t){return xa(e,t)};l.tickFormat=function(t,r){return wa(e,t,r)};l.nice=function(t){return ma(e,t),s()};l.copy=function(){return t(e,r,n,i)};return s()}([0,1],[0,1],Zi,!1)};var _a={s:1,g:1,p:1,r:1,e:1};function ka(t){return-Math.floor(Math.log(t)/Math.LN10+.01)}o.scale.log=function(){return function t(e,r,n,i){function a(t){return(n?Math.log(t<0?0:t):-Math.log(t>0?0:-t))/Math.log(r)}function s(t){return n?Math.pow(r,t):-Math.pow(r,-t)}function l(t){return e(a(t))}l.invert=function(t){return s(e.invert(t))};l.domain=function(t){return arguments.length?(n=t[0]>=0,e.domain((i=t.map(Number)).map(a)),l):i};l.base=function(t){return arguments.length?(r=+t,e.domain(i.map(a)),l):r};l.nice=function(){var t=da(i.map(a),n?Math:Aa);return e.domain(t),i=t.map(s),l};l.ticks=function(){var t=ua(i),e=[],o=t[0],l=t[1],c=Math.floor(a(o)),u=Math.ceil(a(l)),h=r%1?2:r;if(isFinite(u-c)){if(n){for(;c<u;c++)for(var f=1;f<h;f++)e.push(s(c)*f);e.push(s(c))}else for(e.push(s(c));c++<u;)for(var f=h-1;f>0;f--)e.push(s(c)*f);for(c=0;e[c]<o;c++);for(u=e.length;e[u-1]>l;u--);e=e.slice(c,u)}return e};l.tickFormat=function(t,e){if(!arguments.length)return Ta;arguments.length<2?e=Ta:"function"!=typeof e&&(e=o.format(e));var n=Math.max(1,r*t/l.ticks().length);return function(t){var i=t/s(Math.round(a(t)));return i*r<r-.5&&(i*=r),i<=n?e(t):""}};l.copy=function(){return t(e.copy(),r,n,i)};return ga(l,e)}(o.scale.linear().domain([0,1]),10,!0,[1,10])};var Ta=o.format(".0e"),Aa={floor:function(t){return-Math.ceil(-t)},ceil:function(t){return-Math.floor(-t)}};function Ma(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}o.scale.pow=function(){return function t(e,r,n){var i=Ma(r),o=Ma(1/r);function a(t){return e(i(t))}a.invert=function(t){return o(e.invert(t))};a.domain=function(t){return arguments.length?(e.domain((n=t.map(Number)).map(i)),a):n};a.ticks=function(t){return xa(n,t)};a.tickFormat=function(t,e){return wa(n,t,e)};a.nice=function(t){return a.domain(ma(n,t))};a.exponent=function(t){return arguments.length?(i=Ma(r=t),o=Ma(1/r),e.domain(n.map(i)),a):r};a.copy=function(){return t(e.copy(),r,n)};return ga(a,e)}(o.scale.linear(),1,[0,1])},o.scale.sqrt=function(){return o.scale.pow().exponent(.5)},o.scale.ordinal=function(){return function t(e,r){var n,i,a;function s(t){return i[((n.get(t)||("range"===r.t?n.set(t,e.push(t)):NaN))-1)%i.length]}function l(t,r){return o.range(e.length).map(function(e){return t+r*e})}s.domain=function(t){if(!arguments.length)return e;e=[],n=new T;for(var i,o=-1,a=t.length;++o<a;)n.has(i=t[o])||n.set(i,e.push(i));return s[r.t].apply(s,r.a)};s.range=function(t){return arguments.length?(i=t,a=0,r={t:"range",a:arguments},s):i};s.rangePoints=function(t,n){arguments.length<2&&(n=0);var o=t[0],c=t[1],u=e.length<2?(o=(o+c)/2,0):(c-o)/(e.length-1+n);return i=l(o+u*n/2,u),a=0,r={t:"rangePoints",a:arguments},s};s.rangeRoundPoints=function(t,n){arguments.length<2&&(n=0);var o=t[0],c=t[1],u=e.length<2?(o=c=Math.round((o+c)/2),0):(c-o)/(e.length-1+n)|0;return i=l(o+Math.round(u*n/2+(c-o-(e.length-1+n)*u)/2),u),a=0,r={t:"rangeRoundPoints",a:arguments},s};s.rangeBands=function(t,n,o){arguments.length<2&&(n=0),arguments.length<3&&(o=n);var c=t[1]<t[0],u=t[c-0],h=t[1-c],f=(h-u)/(e.length-n+2*o);return i=l(u+f*o,f),c&&i.reverse(),a=f*(1-n),r={t:"rangeBands",a:arguments},s};s.rangeRoundBands=function(t,n,o){arguments.length<2&&(n=0),arguments.length<3&&(o=n);var c=t[1]<t[0],u=t[c-0],h=t[1-c],f=Math.floor((h-u)/(e.length-n+2*o));return i=l(u+Math.round((h-u-(e.length-n)*f)/2),f),c&&i.reverse(),a=Math.round(f*(1-n)),r={t:"rangeRoundBands",a:arguments},s};s.rangeBand=function(){return a};s.rangeExtent=function(){return ua(r.a[0])};s.copy=function(){return t(e,r)};return s.domain(e)}([],{t:"range",a:[[]]})},o.scale.category10=function(){return o.scale.ordinal().range(Sa)},o.scale.category20=function(){return o.scale.ordinal().range(Oa)},o.scale.category20b=function(){return o.scale.ordinal().range(Ca)},o.scale.category20c=function(){return o.scale.ordinal().range(La)};var Sa=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(he),Oa=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(he),Ca=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(he),La=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(he);function ja(){return 0}o.scale.quantile=function(){return function t(e,r){var n;function i(){var t=0,i=r.length;for(n=[];++t<i;)n[t-1]=o.quantile(e,t/i);return a}function a(t){if(!isNaN(t=+t))return r[o.bisect(n,t)]}a.domain=function(t){return arguments.length?(e=t.map(g).filter(m).sort(y),i()):e};a.range=function(t){return arguments.length?(r=t,i()):r};a.quantiles=function(){return n};a.invertExtent=function(t){return(t=r.indexOf(t))<0?[NaN,NaN]:[t>0?n[t-1]:e[0],t<n.length?n[t]:e[e.length-1]]};a.copy=function(){return t(e,r)};return i()}([],[])},o.scale.quantize=function(){return function t(e,r,n){var i,o;function a(t){return n[Math.max(0,Math.min(o,Math.floor(i*(t-e))))]}function s(){return i=n.length/(r-e),o=n.length-1,a}a.domain=function(t){return arguments.length?(e=+t[0],r=+t[t.length-1],s()):[e,r]};a.range=function(t){return arguments.length?(n=t,s()):n};a.invertExtent=function(t){return[t=(t=n.indexOf(t))<0?NaN:t/i+e,t+1/i]};a.copy=function(){return t(e,r,n)};return s()}(0,1,[0,1])},o.scale.threshold=function(){return function t(e,r){function n(t){if(t<=t)return r[o.bisect(e,t)]}n.domain=function(t){return arguments.length?(e=t,n):e};n.range=function(t){return arguments.length?(r=t,n):r};n.invertExtent=function(t){return t=r.indexOf(t),[e[t-1],e[t]]};n.copy=function(){return t(e,r)};return n}([.5],[0,1])},o.scale.identity=function(){return function t(e){function r(t){return+t}r.invert=r;r.domain=r.range=function(t){return arguments.length?(e=t.map(r),r):e};r.ticks=function(t){return xa(e,t)};r.tickFormat=function(t,r){return wa(e,t,r)};r.copy=function(){return t(e)};return r}([0,1])},o.svg={},o.svg.arc=function(){var t=Pa,e=Ea,r=ja,n=Ia,i=za,o=Na,a=Da;function s(){var s=Math.max(0,+t.apply(this,arguments)),c=Math.max(0,+e.apply(this,arguments)),u=i.apply(this,arguments)-It,h=o.apply(this,arguments)-It,f=Math.abs(h-u),d=u>h?0:1;if(c<s&&(p=c,c=s,s=p),f>=jt)return l(c,d)+(s?l(s,1-d):"")+"Z";var p,v,y,g,m,b,x,w,_,k,T,A,M=0,S=0,O=[];if((g=(+a.apply(this,arguments)||0)/2)&&(y=n===Ia?Math.sqrt(s*s+c*c):+n.apply(this,arguments),d||(S*=-1),c&&(S=Rt(y/c*Math.sin(g))),s&&(M=Rt(y/s*Math.sin(g)))),c){m=c*Math.cos(u+S),b=c*Math.sin(u+S),x=c*Math.cos(h-S),w=c*Math.sin(h-S);var C=Math.abs(h-u-2*S)<=Ct?0:1;if(S&&Ra(m,b,x,w)===d^C){var L=(u+h)/2;m=c*Math.cos(L),b=c*Math.sin(L),x=w=null}}else m=b=0;if(s){_=s*Math.cos(h-M),k=s*Math.sin(h-M),T=s*Math.cos(u+M),A=s*Math.sin(u+M);var j=Math.abs(u-h+2*M)<=Ct?0:1;if(M&&Ra(_,k,T,A)===1-d^j){var I=(u+h)/2;_=s*Math.cos(I),k=s*Math.sin(I),T=A=null}}else _=k=0;if(f>St&&(p=Math.min(Math.abs(c-s)/2,+r.apply(this,arguments)))>.001){v=s<c^d?0:1;var P=p,E=p;if(f<Ct){var z=null==T?[_,k]:null==x?[m,b]:ci([m,b],[T,A],[x,w],[_,k]),N=m-z[0],D=b-z[1],R=x-z[0],F=w-z[1],B=1/Math.sin(Math.acos((N*R+D*F)/(Math.sqrt(N*N+D*D)*Math.sqrt(R*R+F*F)))/2),V=Math.sqrt(z[0]*z[0]+z[1]*z[1]);E=Math.min(p,(s-V)/(B-1)),P=Math.min(p,(c-V)/(B+1))}if(null!=x){var q=Fa(null==T?[_,k]:[T,A],[m,b],c,P,d),H=Fa([x,w],[_,k],c,P,d);p===P?O.push("M",q[0],"A",P,",",P," 0 0,",v," ",q[1],"A",c,",",c," 0 ",1-d^Ra(q[1][0],q[1][1],H[1][0],H[1][1]),",",d," ",H[1],"A",P,",",P," 0 0,",v," ",H[0]):O.push("M",q[0],"A",P,",",P," 0 1,",v," ",H[0])}else O.push("M",m,",",b);if(null!=T){var U=Fa([m,b],[T,A],s,-E,d),W=Fa([_,k],null==x?[m,b]:[x,w],s,-E,d);p===E?O.push("L",W[0],"A",E,",",E," 0 0,",v," ",W[1],"A",s,",",s," 0 ",d^Ra(W[1][0],W[1][1],U[1][0],U[1][1]),",",1-d," ",U[1],"A",E,",",E," 0 0,",v," ",U[0]):O.push("L",W[0],"A",E,",",E," 0 0,",v," ",U[0])}else O.push("L",_,",",k)}else O.push("M",m,",",b),null!=x&&O.push("A",c,",",c," 0 ",C,",",d," ",x,",",w),O.push("L",_,",",k),null!=T&&O.push("A",s,",",s," 0 ",j,",",1-d," ",T,",",A);return O.push("Z"),O.join("")}function l(t,e){return"M0,"+t+"A"+t+","+t+" 0 1,"+e+" 0,"+-t+"A"+t+","+t+" 0 1,"+e+" 0,"+t}return s.innerRadius=function(e){return arguments.length?(t=xe(e),s):t},s.outerRadius=function(t){return arguments.length?(e=xe(t),s):e},s.cornerRadius=function(t){return arguments.length?(r=xe(t),s):r},s.padRadius=function(t){return arguments.length?(n=t==Ia?Ia:xe(t),s):n},s.startAngle=function(t){return arguments.length?(i=xe(t),s):i},s.endAngle=function(t){return arguments.length?(o=xe(t),s):o},s.padAngle=function(t){return arguments.length?(a=xe(t),s):a},s.centroid=function(){var r=(+t.apply(this,arguments)+ +e.apply(this,arguments))/2,n=(+i.apply(this,arguments)+ +o.apply(this,arguments))/2-It;return[Math.cos(n)*r,Math.sin(n)*r]},s};var Ia="auto";function Pa(t){return t.innerRadius}function Ea(t){return t.outerRadius}function za(t){return t.startAngle}function Na(t){return t.endAngle}function Da(t){return t&&t.padAngle}function Ra(t,e,r,n){return(t-r)*e-(e-n)*t>0?0:1}function Fa(t,e,r,n,i){var o=t[0]-e[0],a=t[1]-e[1],s=(i?n:-n)/Math.sqrt(o*o+a*a),l=s*a,c=-s*o,u=t[0]+l,h=t[1]+c,f=e[0]+l,d=e[1]+c,p=(u+f)/2,v=(h+d)/2,y=f-u,g=d-h,m=y*y+g*g,b=r-n,x=u*d-f*h,w=(g<0?-1:1)*Math.sqrt(Math.max(0,b*b*m-x*x)),_=(x*g-y*w)/m,k=(-x*y-g*w)/m,T=(x*g+y*w)/m,A=(-x*y+g*w)/m,M=_-p,S=k-v,O=T-p,C=A-v;return M*M+S*S>O*O+C*C&&(_=T,k=A),[[_-l,k-c],[_*r/b,k*r/b]]}function Ba(t){var e=ni,r=ii,n=Jr,i=qa,o=i.key,a=.7;function s(o){var s,l=[],c=[],u=-1,h=o.length,f=xe(e),d=xe(r);function p(){l.push("M",i(t(c),a))}for(;++u<h;)n.call(this,s=o[u],u)?c.push([+f.call(this,s,u),+d.call(this,s,u)]):c.length&&(p(),c=[]);return c.length&&p(),l.length?l.join(""):null}return s.x=function(t){return arguments.length?(e=t,s):e},s.y=function(t){return arguments.length?(r=t,s):r},s.defined=function(t){return arguments.length?(n=t,s):n},s.interpolate=function(t){return arguments.length?(o="function"==typeof t?i=t:(i=Va.get(t)||qa).key,s):o},s.tension=function(t){return arguments.length?(a=t,s):a},s}o.svg.line=function(){return Ba(z)};var Va=o.map({linear:qa,"linear-closed":Ha,step:function(t){var e=0,r=t.length,n=t[0],i=[n[0],",",n[1]];for(;++e<r;)i.push("H",(n[0]+(n=t[e])[0])/2,"V",n[1]);r>1&&i.push("H",n[0]);return i.join("")},"step-before":Ua,"step-after":Wa,basis:Xa,"basis-open":function(t){if(t.length<4)return qa(t);var e,r=[],n=-1,i=t.length,o=[0],a=[0];for(;++n<3;)e=t[n],o.push(e[0]),a.push(e[1]);r.push(Za(Qa,o)+","+Za(Qa,a)),--n;for(;++n<i;)e=t[n],o.shift(),o.push(e[0]),a.shift(),a.push(e[1]),Ka(r,o,a);return r.join("")},"basis-closed":function(t){var e,r,n=-1,i=t.length,o=i+4,a=[],s=[];for(;++n<4;)r=t[n%i],a.push(r[0]),s.push(r[1]);e=[Za(Qa,a),",",Za(Qa,s)],--n;for(;++n<o;)r=t[n%i],a.shift(),a.push(r[0]),s.shift(),s.push(r[1]),Ka(e,a,s);return e.join("")},bundle:function(t,e){var r=t.length-1;if(r)for(var n,i,o=t[0][0],a=t[0][1],s=t[r][0]-o,l=t[r][1]-a,c=-1;++c<=r;)n=t[c],i=c/r,n[0]=e*n[0]+(1-e)*(o+i*s),n[1]=e*n[1]+(1-e)*(a+i*l);return Xa(t)},cardinal:function(t,e){return t.length<3?qa(t):t[0]+Ga(t,Ya(t,e))},"cardinal-open":function(t,e){return t.length<4?qa(t):t[1]+Ga(t.slice(1,-1),Ya(t,e))},"cardinal-closed":function(t,e){return t.length<3?Ha(t):t[0]+Ga((t.push(t[0]),t),Ya([t[t.length-2]].concat(t,[t[1]]),e))},monotone:function(t){return t.length<3?qa(t):t[0]+Ga(t,function(t){var e,r,n,i,o=[],a=function(t){var e=0,r=t.length-1,n=[],i=t[0],o=t[1],a=n[0]=ts(i,o);for(;++e<r;)n[e]=(a+(a=ts(i=o,o=t[e+1])))/2;return n[e]=a,n}(t),s=-1,l=t.length-1;for(;++s<l;)e=ts(t[s],t[s+1]),_(e)<St?a[s]=a[s+1]=0:(r=a[s]/e,n=a[s+1]/e,(i=r*r+n*n)>9&&(i=3*e/Math.sqrt(i),a[s]=i*r,a[s+1]=i*n));s=-1;for(;++s<=l;)i=(t[Math.min(l,s+1)][0]-t[Math.max(0,s-1)][0])/(6*(1+a[s]*a[s])),o.push([i||0,a[s]*i||0]);return o}(t))}});function qa(t){return t.length>1?t.join("L"):t+"Z"}function Ha(t){return t.join("L")+"Z"}function Ua(t){for(var e=0,r=t.length,n=t[0],i=[n[0],",",n[1]];++e<r;)i.push("V",(n=t[e])[1],"H",n[0]);return i.join("")}function Wa(t){for(var e=0,r=t.length,n=t[0],i=[n[0],",",n[1]];++e<r;)i.push("H",(n=t[e])[0],"V",n[1]);return i.join("")}function Ga(t,e){if(e.length<1||t.length!=e.length&&t.length!=e.length+2)return qa(t);var r=t.length!=e.length,n="",i=t[0],o=t[1],a=e[0],s=a,l=1;if(r&&(n+="Q"+(o[0]-2*a[0]/3)+","+(o[1]-2*a[1]/3)+","+o[0]+","+o[1],i=t[1],l=2),e.length>1){s=e[1],o=t[l],l++,n+="C"+(i[0]+a[0])+","+(i[1]+a[1])+","+(o[0]-s[0])+","+(o[1]-s[1])+","+o[0]+","+o[1];for(var c=2;c<e.length;c++,l++)o=t[l],s=e[c],n+="S"+(o[0]-s[0])+","+(o[1]-s[1])+","+o[0]+","+o[1]}if(r){var u=t[l];n+="Q"+(o[0]+2*s[0]/3)+","+(o[1]+2*s[1]/3)+","+u[0]+","+u[1]}return n}function Ya(t,e){for(var r,n=[],i=(1-e)/2,o=t[0],a=t[1],s=1,l=t.length;++s<l;)r=o,o=a,a=t[s],n.push([i*(a[0]-r[0]),i*(a[1]-r[1])]);return n}function Xa(t){if(t.length<3)return qa(t);var e=1,r=t.length,n=t[0],i=n[0],o=n[1],a=[i,i,i,(n=t[1])[0]],s=[o,o,o,n[1]],l=[i,",",o,"L",Za(Qa,a),",",Za(Qa,s)];for(t.push(t[r-1]);++e<=r;)n=t[e],a.shift(),a.push(n[0]),s.shift(),s.push(n[1]),Ka(l,a,s);return t.pop(),l.push("L",n),l.join("")}function Za(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]}Va.forEach(function(t,e){e.key=t,e.closed=/-closed$/.test(t)});var Ja=[0,2/3,1/3,0],$a=[0,1/3,2/3,0],Qa=[0,1/6,2/3,1/6];function Ka(t,e,r){t.push("C",Za(Ja,e),",",Za(Ja,r),",",Za($a,e),",",Za($a,r),",",Za(Qa,e),",",Za(Qa,r))}function ts(t,e){return(e[1]-t[1])/(e[0]-t[0])}function es(t){for(var e,r,n,i=-1,o=t.length;++i<o;)r=(e=t[i])[0],n=e[1]-It,e[0]=r*Math.cos(n),e[1]=r*Math.sin(n);return t}function rs(t){var e=ni,r=ni,n=0,i=ii,o=Jr,a=qa,s=a.key,l=a,c="L",u=.7;function h(s){var h,f,d,p=[],v=[],y=[],g=-1,m=s.length,b=xe(e),x=xe(n),w=e===r?function(){return f}:xe(r),_=n===i?function(){return d}:xe(i);function k(){p.push("M",a(t(y),u),c,l(t(v.reverse()),u),"Z")}for(;++g<m;)o.call(this,h=s[g],g)?(v.push([f=+b.call(this,h,g),d=+x.call(this,h,g)]),y.push([+w.call(this,h,g),+_.call(this,h,g)])):v.length&&(k(),v=[],y=[]);return v.length&&k(),p.length?p.join(""):null}return h.x=function(t){return arguments.length?(e=r=t,h):r},h.x0=function(t){return arguments.length?(e=t,h):e},h.x1=function(t){return arguments.length?(r=t,h):r},h.y=function(t){return arguments.length?(n=i=t,h):i},h.y0=function(t){return arguments.length?(n=t,h):n},h.y1=function(t){return arguments.length?(i=t,h):i},h.defined=function(t){return arguments.length?(o=t,h):o},h.interpolate=function(t){return arguments.length?(s="function"==typeof t?a=t:(a=Va.get(t)||qa).key,l=a.reverse||a,c=a.closed?"M":"L",h):s},h.tension=function(t){return arguments.length?(u=t,h):u},h}function ns(t){return t.radius}function is(t){return[t.x,t.y]}function os(){return 64}function as(){return"circle"}function ss(t){var e=Math.sqrt(t/Ct);return"M0,"+e+"A"+e+","+e+" 0 1,1 0,"+-e+"A"+e+","+e+" 0 1,1 0,"+e+"Z"}o.svg.line.radial=function(){var t=Ba(es);return t.radius=t.x,delete t.x,t.angle=t.y,delete t.y,t},Ua.reverse=Wa,Wa.reverse=Ua,o.svg.area=function(){return rs(z)},o.svg.area.radial=function(){var t=rs(es);return t.radius=t.x,delete t.x,t.innerRadius=t.x0,delete t.x0,t.outerRadius=t.x1,delete t.x1,t.angle=t.y,delete t.y,t.startAngle=t.y0,delete t.y0,t.endAngle=t.y1,delete t.y1,t},o.svg.chord=function(){var t=Hn,e=Un,r=ns,n=za,i=Na;function o(r,n){var i,o,c=a(this,t,r,n),u=a(this,e,r,n);return"M"+c.p0+s(c.r,c.p1,c.a1-c.a0)+(o=u,(i=c).a0==o.a0&&i.a1==o.a1?l(c.r,c.p1,c.r,c.p0):l(c.r,c.p1,u.r,u.p0)+s(u.r,u.p1,u.a1-u.a0)+l(u.r,u.p1,c.r,c.p0))+"Z"}function a(t,e,o,a){var s=e.call(t,o,a),l=r.call(t,s,a),c=n.call(t,s,a)-It,u=i.call(t,s,a)-It;return{r:l,a0:c,a1:u,p0:[l*Math.cos(c),l*Math.sin(c)],p1:[l*Math.cos(u),l*Math.sin(u)]}}function s(t,e,r){return"A"+t+","+t+" 0 "+ +(r>Ct)+",1 "+e}function l(t,e,r,n){return"Q 0,0 "+n}return o.radius=function(t){return arguments.length?(r=xe(t),o):r},o.source=function(e){return arguments.length?(t=xe(e),o):t},o.target=function(t){return arguments.length?(e=xe(t),o):e},o.startAngle=function(t){return arguments.length?(n=xe(t),o):n},o.endAngle=function(t){return arguments.length?(i=xe(t),o):i},o},o.svg.diagonal=function(){var t=Hn,e=Un,r=is;function n(n,i){var o=t.call(this,n,i),a=e.call(this,n,i),s=(o.y+a.y)/2,l=[o,{x:o.x,y:s},{x:a.x,y:s},a];return"M"+(l=l.map(r))[0]+"C"+l[1]+" "+l[2]+" "+l[3]}return n.source=function(e){return arguments.length?(t=xe(e),n):t},n.target=function(t){return arguments.length?(e=xe(t),n):e},n.projection=function(t){return arguments.length?(r=t,n):r},n},o.svg.diagonal.radial=function(){var t=o.svg.diagonal(),e=is,r=t.projection;return t.projection=function(t){return arguments.length?r(function(t){return function(){var e=t.apply(this,arguments),r=e[0],n=e[1]-It;return[r*Math.cos(n),r*Math.sin(n)]}}(e=t)):e},t},o.svg.symbol=function(){var t=as,e=os;function r(r,n){return(ls.get(t.call(this,r,n))||ss)(e.call(this,r,n))}return r.type=function(e){return arguments.length?(t=xe(e),r):t},r.size=function(t){return arguments.length?(e=xe(t),r):e},r};var ls=o.map({circle:ss,cross:function(t){var e=Math.sqrt(t/5)/2;return"M"+-3*e+","+-e+"H"+-e+"V"+-3*e+"H"+e+"V"+-e+"H"+3*e+"V"+e+"H"+e+"V"+3*e+"H"+-e+"V"+e+"H"+-3*e+"Z"},diamond:function(t){var e=Math.sqrt(t/(2*us)),r=e*us;return"M0,"+-e+"L"+r+",0 0,"+e+" "+-r+",0Z"},square:function(t){var e=Math.sqrt(t)/2;return"M"+-e+","+-e+"L"+e+","+-e+" "+e+","+e+" "+-e+","+e+"Z"},"triangle-down":function(t){var e=Math.sqrt(t/cs),r=e*cs/2;return"M0,"+r+"L"+e+","+-r+" "+-e+","+-r+"Z"},"triangle-up":function(t){var e=Math.sqrt(t/cs),r=e*cs/2;return"M0,"+-r+"L"+e+","+r+" "+-e+","+r+"Z"}});o.svg.symbolTypes=ls.keys();var cs=Math.sqrt(3),us=Math.tan(30*Pt);$.transition=function(t){for(var e,r,n=ps||++gs,i=xs(t),o=[],a=vs||{time:Date.now(),ease:io,delay:0,duration:250},s=-1,l=this.length;++s<l;){o.push(e=[]);for(var c=this[s],u=-1,h=c.length;++u<h;)(r=c[u])&&ws(r,u,i,n,a),e.push(r)}return ds(o,i,n)},$.interrupt=function(t){return this.each(null==t?hs:fs(xs(t)))};var hs=fs(xs());function fs(t){return function(){var e,r,n;(e=this[t])&&(n=e[r=e.active])&&(n.timer.c=null,n.timer.t=NaN,--e.count?delete e[r]:delete this[t],e.active+=.5,n.event&&n.event.interrupt.call(this,this.__data__,n.index))}}function ds(t,e,r){return G(t,ys),t.namespace=e,t.id=r,t}var ps,vs,ys=[],gs=0;function ms(t,e,r,n){var i=t.id,o=t.namespace;return pt(t,"function"==typeof r?function(t,a,s){t[o][i].tween.set(e,n(r.call(t,t.__data__,a,s)))}:(r=n(r),function(t){t[o][i].tween.set(e,r)}))}function bs(t){return null==t&&(t=""),function(){this.textContent=t}}function xs(t){return null==t?"__transition__":"__transition_"+t+"__"}function ws(t,e,r,n,i){var o,a,s,l,c,u=t[r]||(t[r]={active:0,count:0}),h=u[n];function f(r){var i=u.active,f=u[i];for(var p in f&&(f.timer.c=null,f.timer.t=NaN,--u.count,delete u[i],f.event&&f.event.interrupt.call(t,t.__data__,f.index)),u)if(+p<n){var v=u[p];v.timer.c=null,v.timer.t=NaN,--u.count,delete u[p]}a.c=d,Oe(function(){return a.c&&d(r||1)&&(a.c=null,a.t=NaN),1},0,o),u.active=n,h.event&&h.event.start.call(t,t.__data__,e),c=[],h.tween.forEach(function(r,n){(n=n.call(t,t.__data__,e))&&c.push(n)}),l=h.ease,s=h.duration}function d(i){for(var o=i/s,a=l(o),f=c.length;f>0;)c[--f].call(t,a);if(o>=1)return h.event&&h.event.end.call(t,t.__data__,e),--u.count?delete u[n]:delete t[r],1}h||(o=i.time,a=Oe(function(t){var e=h.delay;if(a.t=e+o,e<=t)return f(t-e);a.c=f},0,o),h=u[n]={tween:new T,time:o,timer:a,delay:i.delay,duration:i.duration,ease:i.ease,index:e},i=null,++u.count)}ys.call=$.call,ys.empty=$.empty,ys.node=$.node,ys.size=$.size,o.transition=function(t,e){return t&&t.transition?ps?t.transition(e):t:o.selection().transition(t)},o.transition.prototype=ys,ys.select=function(t){var e,r,n,i=this.id,o=this.namespace,a=[];t=Q(t);for(var s=-1,l=this.length;++s<l;){a.push(e=[]);for(var c=this[s],u=-1,h=c.length;++u<h;)(n=c[u])&&(r=t.call(n,n.__data__,u,s))?("__data__"in n&&(r.__data__=n.__data__),ws(r,u,o,i,n[o][i]),e.push(r)):e.push(null)}return ds(a,o,i)},ys.selectAll=function(t){var e,r,n,i,o,a=this.id,s=this.namespace,l=[];t=K(t);for(var c=-1,u=this.length;++c<u;)for(var h=this[c],f=-1,d=h.length;++f<d;)if(n=h[f]){o=n[s][a],r=t.call(n,n.__data__,f,c),l.push(e=[]);for(var p=-1,v=r.length;++p<v;)(i=r[p])&&ws(i,p,s,a,o),e.push(i)}return ds(l,s,a)},ys.filter=function(t){var e,r,n=[];"function"!=typeof t&&(t=dt(t));for(var i=0,o=this.length;i<o;i++){n.push(e=[]);for(var a,s=0,l=(a=this[i]).length;s<l;s++)(r=a[s])&&t.call(r,r.__data__,s,i)&&e.push(r)}return ds(n,this.namespace,this.id)},ys.tween=function(t,e){var r=this.id,n=this.namespace;return arguments.length<2?this.node()[n][r].tween.get(t):pt(this,null==e?function(e){e[n][r].tween.remove(t)}:function(i){i[n][r].tween.set(t,e)})},ys.attr=function(t,e){if(arguments.length<2){for(e in t)this.attr(e,t[e]);return this}var r="transform"==t?yo:Zi,n=o.ns.qualify(t);function i(){this.removeAttribute(n)}function a(){this.removeAttributeNS(n.space,n.local)}return ms(this,"attr."+t,e,n.local?function(t){return null==t?a:(t+="",function(){var e,i=this.getAttributeNS(n.space,n.local);return i!==t&&(e=r(i,t),function(t){this.setAttributeNS(n.space,n.local,e(t))})})}:function(t){return null==t?i:(t+="",function(){var e,i=this.getAttribute(n);return i!==t&&(e=r(i,t),function(t){this.setAttribute(n,e(t))})})})},ys.attrTween=function(t,e){var r=o.ns.qualify(t);return this.tween("attr."+t,r.local?function(t,n){var i=e.call(this,t,n,this.getAttributeNS(r.space,r.local));return i&&function(t){this.setAttributeNS(r.space,r.local,i(t))}}:function(t,n){var i=e.call(this,t,n,this.getAttribute(r));return i&&function(t){this.setAttribute(r,i(t))}})},ys.style=function(t,e,r){var n=arguments.length;if(n<3){if("string"!=typeof t){for(r in n<2&&(e=""),t)this.style(r,t[r],e);return this}r=""}function i(){this.style.removeProperty(t)}return ms(this,"style."+t,e,function(e){return null==e?i:(e+="",function(){var n,i=u(this).getComputedStyle(this,null).getPropertyValue(t);return i!==e&&(n=Zi(i,e),function(e){this.style.setProperty(t,n(e),r)})})})},ys.styleTween=function(t,e,r){return arguments.length<3&&(r=""),this.tween("style."+t,function(n,i){var o=e.call(this,n,i,u(this).getComputedStyle(this,null).getPropertyValue(t));return o&&function(e){this.style.setProperty(t,o(e),r)}})},ys.text=function(t){return ms(this,"text",t,bs)},ys.remove=function(){var t=this.namespace;return this.each("end.transition",function(){var e;this[t].count<2&&(e=this.parentNode)&&e.removeChild(this)})},ys.ease=function(t){var e=this.id,r=this.namespace;return arguments.length<1?this.node()[r][e].ease:("function"!=typeof t&&(t=o.ease.apply(o,arguments)),pt(this,function(n){n[r][e].ease=t}))},ys.delay=function(t){var e=this.id,r=this.namespace;return arguments.length<1?this.node()[r][e].delay:pt(this,"function"==typeof t?function(n,i,o){n[r][e].delay=+t.call(n,n.__data__,i,o)}:(t=+t,function(n){n[r][e].delay=t}))},ys.duration=function(t){var e=this.id,r=this.namespace;return arguments.length<1?this.node()[r][e].duration:pt(this,"function"==typeof t?function(n,i,o){n[r][e].duration=Math.max(1,t.call(n,n.__data__,i,o))}:(t=Math.max(1,t),function(n){n[r][e].duration=t}))},ys.each=function(t,e){var r=this.id,n=this.namespace;if(arguments.length<2){var i=vs,a=ps;try{ps=r,pt(this,function(e,i,o){vs=e[n][r],t.call(e,e.__data__,i,o)})}finally{vs=i,ps=a}}else pt(this,function(i){var a=i[n][r];(a.event||(a.event=o.dispatch("start","end","interrupt"))).on(t,e)});return this},ys.transition=function(){for(var t,e,r,n=this.id,i=++gs,o=this.namespace,a=[],s=0,l=this.length;s<l;s++){a.push(t=[]);for(var c,u=0,h=(c=this[s]).length;u<h;u++)(e=c[u])&&ws(e,u,o,i,{time:(r=e[o][n]).time,ease:r.ease,delay:r.delay+r.duration,duration:r.duration}),t.push(e)}return ds(a,o,i)},o.svg.axis=function(){var t,e=o.scale.linear(),r=_s,n=6,i=6,a=3,l=[10],c=null;function u(s){s.each(function(){var s,u=o.select(this),h=this.__chart__||e,f=this.__chart__=e.copy(),d=null==c?f.ticks?f.ticks.apply(f,l):f.domain():c,p=null==t?f.tickFormat?f.tickFormat.apply(f,l):z:t,v=u.selectAll(".tick").data(d,f),y=v.enter().insert("g",".domain").attr("class","tick").style("opacity",St),g=o.transition(v.exit()).style("opacity",St).remove(),m=o.transition(v.order()).style("opacity",1),b=Math.max(n,0)+a,x=ha(f),w=u.selectAll(".domain").data([0]),_=(w.enter().append("path").attr("class","domain"),o.transition(w));y.append("line"),y.append("text");var k,T,A,M,S=y.select("line"),O=m.select("line"),C=v.select("text").text(p),L=y.select("text"),j=m.select("text"),I="top"===r||"left"===r?-1:1;if("bottom"===r||"top"===r?(s=Ts,k="x",A="y",T="x2",M="y2",C.attr("dy",I<0?"0em":".71em").style("text-anchor","middle"),_.attr("d","M"+x[0]+","+I*i+"V0H"+x[1]+"V"+I*i)):(s=As,k="y",A="x",T="y2",M="x2",C.attr("dy",".32em").style("text-anchor",I<0?"end":"start"),_.attr("d","M"+I*i+","+x[0]+"H0V"+x[1]+"H"+I*i)),S.attr(M,I*n),L.attr(A,I*b),O.attr(T,0).attr(M,I*n),j.attr(k,0).attr(A,I*b),f.rangeBand){var P=f,E=P.rangeBand()/2;h=f=function(t){return P(t)+E}}else h.rangeBand?h=f:g.call(s,f,h);y.call(s,h,f),m.call(s,f,f)})}return u.scale=function(t){return arguments.length?(e=t,u):e},u.orient=function(t){return arguments.length?(r=t in ks?t+"":_s,u):r},u.ticks=function(){return arguments.length?(l=s(arguments),u):l},u.tickValues=function(t){return arguments.length?(c=t,u):c},u.tickFormat=function(e){return arguments.length?(t=e,u):t},u.tickSize=function(t){var e=arguments.length;return e?(n=+t,i=+arguments[e-1],u):n},u.innerTickSize=function(t){return arguments.length?(n=+t,u):n},u.outerTickSize=function(t){return arguments.length?(i=+t,u):i},u.tickPadding=function(t){return arguments.length?(a=+t,u):a},u.tickSubdivide=function(){return arguments.length&&u},u};var _s="bottom",ks={top:1,right:1,bottom:1,left:1};function Ts(t,e,r){t.attr("transform",function(t){var n=e(t);return"translate("+(isFinite(n)?n:r(t))+",0)"})}function As(t,e,r){t.attr("transform",function(t){var n=e(t);return"translate(0,"+(isFinite(n)?n:r(t))+")"})}o.svg.brush=function(){var t,e,r=U(f,"brushstart","brush","brushend"),n=null,i=null,a=[0,0],s=[0,0],l=!0,c=!0,h=Ss[0];function f(t){t.each(function(){var t=o.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",y).on("touchstart.brush",y),e=t.selectAll(".background").data([0]);e.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),t.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var r=t.selectAll(".resize").data(h,z);r.exit().remove(),r.enter().append("g").attr("class",function(t){return"resize "+t}).style("cursor",function(t){return Ms[t]}).append("rect").attr("x",function(t){return/[ew]$/.test(t)?-3:null}).attr("y",function(t){return/^[ns]/.test(t)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),r.style("display",f.empty()?"none":null);var a,s=o.transition(t),l=o.transition(e);n&&(a=ha(n),l.attr("x",a[0]).attr("width",a[1]-a[0]),p(s)),i&&(a=ha(i),l.attr("y",a[0]).attr("height",a[1]-a[0]),v(s)),d(s)})}function d(t){t.selectAll(".resize").attr("transform",function(t){return"translate("+a[+/e$/.test(t)]+","+s[+/^s/.test(t)]+")"})}function p(t){t.select(".extent").attr("x",a[0]),t.selectAll(".extent,.n>rect,.s>rect").attr("width",a[1]-a[0])}function v(t){t.select(".extent").attr("y",s[0]),t.selectAll(".extent,.e>rect,.w>rect").attr("height",s[1]-s[0])}function y(){var h,y,g=this,m=o.select(o.event.target),b=r.of(g,arguments),x=o.select(g),w=m.datum(),_=!/^(n|s)$/.test(w)&&n,k=!/^(e|w)$/.test(w)&&i,T=m.classed("extent"),A=kt(g),M=o.mouse(g),S=o.select(u(g)).on("keydown.brush",function(){32==o.event.keyCode&&(T||(h=null,M[0]-=a[1],M[1]-=s[1],T=2),q())}).on("keyup.brush",function(){32==o.event.keyCode&&2==T&&(M[0]+=a[1],M[1]+=s[1],T=0,q())});if(o.event.changedTouches?S.on("touchmove.brush",L).on("touchend.brush",I):S.on("mousemove.brush",L).on("mouseup.brush",I),x.interrupt().selectAll("*").interrupt(),T)M[0]=a[0]-M[0],M[1]=s[0]-M[1];else if(w){var O=+/w$/.test(w),C=+/^n/.test(w);y=[a[1-O]-M[0],s[1-C]-M[1]],M[0]=a[O],M[1]=s[C]}else o.event.altKey&&(h=M.slice());function L(){var t=o.mouse(g),e=!1;y&&(t[0]+=y[0],t[1]+=y[1]),T||(o.event.altKey?(h||(h=[(a[0]+a[1])/2,(s[0]+s[1])/2]),M[0]=a[+(t[0]<h[0])],M[1]=s[+(t[1]<h[1])]):h=null),_&&j(t,n,0)&&(p(x),e=!0),k&&j(t,i,1)&&(v(x),e=!0),e&&(d(x),b({type:"brush",mode:T?"move":"resize"}))}function j(r,n,i){var o,u,f=ha(n),d=f[0],p=f[1],v=M[i],y=i?s:a,g=y[1]-y[0];if(T&&(d-=v,p-=g+v),o=(i?c:l)?Math.max(d,Math.min(p,r[i])):r[i],T?u=(o+=v)+g:(h&&(v=Math.max(d,Math.min(p,2*h[i]-o))),v<o?(u=o,o=v):u=v),y[0]!=o||y[1]!=u)return i?e=null:t=null,y[0]=o,y[1]=u,!0}function I(){L(),x.style("pointer-events","all").selectAll(".resize").style("display",f.empty()?"none":null),o.select("body").style("cursor",null),S.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),A(),b({type:"brushend"})}x.style("pointer-events","none").selectAll(".resize").style("display",null),o.select("body").style("cursor",m.style("cursor")),b({type:"brushstart"}),L()}return f.event=function(n){n.each(function(){var n=r.of(this,arguments),i={x:a,y:s,i:t,j:e},l=this.__chart__||i;this.__chart__=i,ps?o.select(this).transition().each("start.brush",function(){t=l.i,e=l.j,a=l.x,s=l.y,n({type:"brushstart"})}).tween("brush:brush",function(){var r=Ji(a,i.x),o=Ji(s,i.y);return t=e=null,function(t){a=i.x=r(t),s=i.y=o(t),n({type:"brush",mode:"resize"})}}).each("end.brush",function(){t=i.i,e=i.j,n({type:"brush",mode:"resize"}),n({type:"brushend"})}):(n({type:"brushstart"}),n({type:"brush",mode:"resize"}),n({type:"brushend"}))})},f.x=function(t){return arguments.length?(h=Ss[!(n=t)<<1|!i],f):n},f.y=function(t){return arguments.length?(h=Ss[!n<<1|!(i=t)],f):i},f.clamp=function(t){return arguments.length?(n&&i?(l=!!t[0],c=!!t[1]):n?l=!!t:i&&(c=!!t),f):n&&i?[l,c]:n?l:i?c:null},f.extent=function(r){var o,l,c,u,h;return arguments.length?(n&&(o=r[0],l=r[1],i&&(o=o[0],l=l[0]),t=[o,l],n.invert&&(o=n(o),l=n(l)),l<o&&(h=o,o=l,l=h),o==a[0]&&l==a[1]||(a=[o,l])),i&&(c=r[0],u=r[1],n&&(c=c[1],u=u[1]),e=[c,u],i.invert&&(c=i(c),u=i(u)),u<c&&(h=c,c=u,u=h),c==s[0]&&u==s[1]||(s=[c,u])),f):(n&&(t?(o=t[0],l=t[1]):(o=a[0],l=a[1],n.invert&&(o=n.invert(o),l=n.invert(l)),l<o&&(h=o,o=l,l=h))),i&&(e?(c=e[0],u=e[1]):(c=s[0],u=s[1],i.invert&&(c=i.invert(c),u=i.invert(u)),u<c&&(h=c,c=u,u=h))),n&&i?[[o,c],[l,u]]:n?[o,l]:i&&[c,u])},f.clear=function(){return f.empty()||(a=[0,0],s=[0,0],t=e=null),f},f.empty=function(){return!!n&&a[0]==a[1]||!!i&&s[0]==s[1]},o.rebind(f,r,"on")};var Ms={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Ss=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]],Os=De.format=hr.timeFormat,Cs=Os.utc,Ls=Cs("%Y-%m-%dT%H:%M:%S.%LZ");function js(t){return t.toISOString()}function Is(t,e,r){function n(e){return t(e)}function i(t,r){var n=(t[1]-t[0])/r,i=o.bisect(Es,n);return i==Es.length?[e.year,ba(t.map(function(t){return t/31536e6}),r)[2]]:i?e[n/Es[i-1]<Es[i]/n?i-1:i]:[Ds,ba(t,r)[2]]}return n.invert=function(e){return Ps(t.invert(e))},n.domain=function(e){return arguments.length?(t.domain(e),n):t.domain().map(Ps)},n.nice=function(t,e){var r=n.domain(),o=ua(r),a=null==t?i(o,10):"number"==typeof t&&i(o,t);function s(r){return!isNaN(r)&&!t.range(r,Ps(+r+1),e).length}return a&&(t=a[0],e=a[1]),n.domain(da(r,e>1?{floor:function(e){for(;s(e=t.floor(e));)e=Ps(e-1);return e},ceil:function(e){for(;s(e=t.ceil(e));)e=Ps(+e+1);return e}}:t))},n.ticks=function(t,e){var r=ua(n.domain()),o=null==t?i(r,10):"number"==typeof t?i(r,t):!t.range&&[{range:t},e];return o&&(t=o[0],e=o[1]),t.range(r[0],Ps(+r[1]+1),e<1?1:e)},n.tickFormat=function(){return r},n.copy=function(){return Is(t.copy(),e,r)},ga(n,t)}function Ps(t){return new Date(t)}Os.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?js:Ls,js.parse=function(t){var e=new Date(t);return isNaN(e)?null:e},js.toString=Ls.toString,De.second=Ve(function(t){return new Re(1e3*Math.floor(t/1e3))},function(t,e){t.setTime(t.getTime()+1e3*Math.floor(e))},function(t){return t.getSeconds()}),De.seconds=De.second.range,De.seconds.utc=De.second.utc.range,De.minute=Ve(function(t){return new Re(6e4*Math.floor(t/6e4))},function(t,e){t.setTime(t.getTime()+6e4*Math.floor(e))},function(t){return t.getMinutes()}),De.minutes=De.minute.range,De.minutes.utc=De.minute.utc.range,De.hour=Ve(function(t){var e=t.getTimezoneOffset()/60;return new Re(36e5*(Math.floor(t/36e5-e)+e))},function(t,e){t.setTime(t.getTime()+36e5*Math.floor(e))},function(t){return t.getHours()}),De.hours=De.hour.range,De.hours.utc=De.hour.utc.range,De.month=Ve(function(t){return(t=De.day(t)).setDate(1),t},function(t,e){t.setMonth(t.getMonth()+e)},function(t){return t.getMonth()}),De.months=De.month.range,De.months.utc=De.month.utc.range;var Es=[1e3,5e3,15e3,3e4,6e4,3e5,9e5,18e5,36e5,108e5,216e5,432e5,864e5,1728e5,6048e5,2592e6,7776e6,31536e6],zs=[[De.second,1],[De.second,5],[De.second,15],[De.second,30],[De.minute,1],[De.minute,5],[De.minute,15],[De.minute,30],[De.hour,1],[De.hour,3],[De.hour,6],[De.hour,12],[De.day,1],[De.day,2],[De.week,1],[De.month,1],[De.month,3],[De.year,1]],Ns=Os.multi([[".%L",function(t){return t.getMilliseconds()}],[":%S",function(t){return t.getSeconds()}],["%I:%M",function(t){return t.getMinutes()}],["%I %p",function(t){return t.getHours()}],["%a %d",function(t){return t.getDay()&&1!=t.getDate()}],["%b %d",function(t){return 1!=t.getDate()}],["%B",function(t){return t.getMonth()}],["%Y",Jr]]),Ds={range:function(t,e,r){return o.range(Math.ceil(t/r)*r,+e,r).map(Ps)},floor:z,ceil:z};zs.year=De.year,De.scale=function(){return Is(o.scale.linear(),zs,Ns)};var Rs=zs.map(function(t){return[t[0].utc,t[1]]}),Fs=Cs.multi([[".%L",function(t){return t.getUTCMilliseconds()}],[":%S",function(t){return t.getUTCSeconds()}],["%I:%M",function(t){return t.getUTCMinutes()}],["%I %p",function(t){return t.getUTCHours()}],["%a %d",function(t){return t.getUTCDay()&&1!=t.getUTCDate()}],["%b %d",function(t){return 1!=t.getUTCDate()}],["%B",function(t){return t.getUTCMonth()}],["%Y",Jr]]);function Bs(t){return JSON.parse(t.responseText)}function Vs(t){var e=l.createRange();return e.selectNode(l.body),e.createContextualFragment(t.responseText)}Rs.year=De.year.utc,De.scale.utc=function(){return Is(o.scale.linear(),Rs,Fs)},o.text=we(function(t){return t.responseText}),o.json=function(t,e){return _e(t,"application/json",Bs,e)},o.html=function(t,e){return _e(t,"text/html",Vs,e)},o.xml=we(function(t){return t.responseXML}),this.d3=o,void 0===(i="function"==typeof(n=o)?n.call(e,r,e,t):n)||(t.exports=i)}()},function(t,e,r){"use strict";var n=r(28),i=r(6),o=t.exports={},a=r(31);o.defaults=a.defaults;var s=o.defaultLine=a.defaultLine;o.lightLine=a.lightLine;var l=o.background=a.background;function c(t){if(i(t)||"string"!=typeof t)return t;var e=t.trim();if("rgb"!==e.substr(0,3))return t;var r=e.match(/^rgba?\s*\(([^()]*)\)$/);if(!r)return t;var n=r[1].trim().split(/\s*[\s,]\s*/),o="a"===e.charAt(3)&&4===n.length;if(!o&&3!==n.length)return t;for(var a=0;a<n.length;a++){if(!n[a].length)return t;if(n[a]=Number(n[a]),!(n[a]>=0))return t;if(3===a)n[a]>1&&(n[a]=1);else if(n[a]>=1)return t}var s=Math.round(255*n[0])+", "+Math.round(255*n[1])+", "+Math.round(255*n[2]);return o?"rgba("+s+", "+n[3]+")":"rgb("+s+")"}o.tinyRGB=function(t){var e=t.toRgb();return"rgb("+Math.round(e.r)+", "+Math.round(e.g)+", "+Math.round(e.b)+")"},o.rgb=function(t){return o.tinyRGB(n(t))},o.opacity=function(t){return t?n(t).getAlpha():0},o.addOpacity=function(t,e){var r=n(t).toRgb();return"rgba("+Math.round(r.r)+", "+Math.round(r.g)+", "+Math.round(r.b)+", "+e+")"},o.combine=function(t,e){var r=n(t).toRgb();if(1===r.a)return n(t).toRgbString();var i=n(e||l).toRgb(),o=1===i.a?i:{r:255*(1-i.a)+i.r*i.a,g:255*(1-i.a)+i.g*i.a,b:255*(1-i.a)+i.b*i.a},a={r:o.r*(1-r.a)+r.r*r.a,g:o.g*(1-r.a)+r.g*r.a,b:o.b*(1-r.a)+r.b*r.a};return n(a).toRgbString()},o.contrast=function(t,e,r){var i=n(t);return 1!==i.getAlpha()&&(i=n(o.combine(t,l))),(i.isDark()?e?i.lighten(e):l:r?i.darken(r):s).toString()},o.stroke=function(t,e){var r=n(e);t.style({stroke:o.tinyRGB(r),"stroke-opacity":r.getAlpha()})},o.fill=function(t,e){var r=n(e);t.style({fill:o.tinyRGB(r),"fill-opacity":r.getAlpha()})},o.clean=function(t){if(t&&"object"==typeof t){var e,r,n,i,a=Object.keys(t);for(e=0;e<a.length;e++)if(i=t[n=a[e]],"color"===n.substr(n.length-5))if(Array.isArray(i))for(r=0;r<i.length;r++)i[r]=c(i[r]);else t[n]=c(i);else if("colorscale"===n.substr(n.length-10)&&Array.isArray(i))for(r=0;r<i.length;r++)Array.isArray(i[r])&&(i[r][1]=c(i[r][1]));else if(Array.isArray(i)){var s=i[0];if(!Array.isArray(s)&&s&&"object"==typeof s)for(r=0;r<i.length;r++)o.clean(i[r])}else i&&"object"==typeof i&&o.clean(i)}}},function(t,e,r){"use strict";var n=r(45),i=r(89),o=r(141),a=r(18),s=a.extendFlat,l=a.extendDeepAll,c=r(47),u=r(48);function h(t){if(t.layoutAttributes){var r=t.layoutAttributes._arrayAttrRegexps;if(r)for(var n=0;n<r.length;n++)o(e.layoutArrayRegexes,r[n])}}function f(t,r){var n=e.componentsRegistry[t].schema;if(n&&n.traces){var i=n.traces[r];i&&l(e.modules[r]._module.attributes,i)}}function d(t,r){var n=e.componentsRegistry[t].schema;if(n&&n.transforms){var i=n.transforms[r];i&&l(e.transformsRegistry[r].attributes,i)}}function p(t,r){var n=e.componentsRegistry[t].schema;if(n&&n.subplots){var i=e.subplotsRegistry[r],o=i.layoutAttributes,a="subplot"===i.attr?i.name:i.attr;Array.isArray(a)&&(a=a[0]);var s=n.subplots[a];o&&s&&l(o,s)}}function v(t){return"object"==typeof t&&(t=t.type),t}e.modules={},e.allCategories={},e.allTypes=[],e.subplotsRegistry={},e.transformsRegistry={},e.componentsRegistry={},e.layoutArrayContainers=[],e.layoutArrayRegexes=[],e.traceLayoutAttributes={},e.localeRegistry={},e.register=function(t,r,i,o){if(e.modules[r])n.log("Type "+r+" already registered");else{for(var a={},l=0;l<i.length;l++)a[i[l]]=!0,e.allCategories[i[l]]=!0;for(var c in e.modules[r]={_module:t,categories:a},o&&Object.keys(o).length&&(e.modules[r].meta=o),e.allTypes.push(r),e.componentsRegistry)f(c,r);t.layoutAttributes&&s(e.traceLayoutAttributes,t.layoutAttributes)}},e.registerSubplot=function(t){var r=t.name;if(e.subplotsRegistry[r])n.log("Plot type "+r+" already registered.");else for(var i in h(t),e.subplotsRegistry[r]=t,e.componentsRegistry)p(i,t.name)},e.registerComponent=function(t){var r=t.name;for(var n in e.componentsRegistry[r]=t,t.layoutAttributes&&(t.layoutAttributes._isLinkedToArray&&o(e.layoutArrayContainers,r),h(t)),e.modules)f(r,n);for(var i in e.subplotsRegistry)p(r,i);for(var a in e.transformsRegistry)d(r,a);t.schema&&t.schema.layout&&l(u,t.schema.layout)},e.registerTransform=function(t){for(var r in e.transformsRegistry[t.name]=t,e.componentsRegistry)d(r,t.name)},e.getModule=function(t){var r=e.modules[v(t)];return!!r&&r._module},e.traceIs=function(t,r){if("various"===(t=v(t)))return!1;var i=e.modules[t];return i||(t&&"area"!==t&&n.log("Unrecognized trace type "+t+"."),i=e.modules[c.type.dflt]),!!i.categories[r]},e.getTransformIndices=function(t,e){for(var r=[],n=t.transforms||[],i=0;i<n.length;i++)n[i].type===e&&r.push(i);return r},e.hasTransform=function(t,e){for(var r=t.transforms||[],n=0;n<r.length;n++)if(r[n].type===e)return!0;return!1},e.getComponentMethod=function(t,r){var n=e.componentsRegistry[t];return n&&n[r]||i},e.registerLocale=function(t){var r=t.name,n=r.split("-")[0],i=t.dictionary,o=t.format,a=i&&Object.keys(i).length,s=o&&Object.keys(o).length,l=e.localeRegistry,c=l[r];if(c||(l[r]=c={}),n!==r){var u=l[n];u||(l[n]=u={}),a&&u.dictionary===c.dictionary&&(u.dictionary=i),s&&u.format===c.format&&(u.format=o)}a&&(c.dictionary=i),s&&(c.format=o)}},function(t,e,r){"use strict";t.exports=function(t){var e=typeof t;if("string"===e){var r=t;if(0===(t=+t)&&function(t){for(var e,r=t.length,n=0;n<r;n++)if(((e=t.charCodeAt(n))<9||e>13)&&32!==e&&133!==e&&160!==e&&5760!==e&&6158!==e&&(e<8192||e>8205)&&8232!==e&&8233!==e&&8239!==e&&8287!==e&&8288!==e&&12288!==e&&65279!==e)return!1;return!0}(r))return!1}else if("number"!==e)return!1;return t-t<1}},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function n(){this.constructor=t}t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=function(t){function e(){t.apply(this,arguments)}return n(e,t),e.prototype.notifyNext=function(t,e,r,n,i){this.destination.next(e)},e.prototype.notifyError=function(t,e){this.destination.error(t)},e.prototype.notifyComplete=function(t){this.destination.complete()},e}(r(2).Subscriber);e.OuterSubscriber=i},function(t,e,r){"use strict";var n=r(19),i=r(202),o=r(203),a=r(198),s=r(0),l=r(53),c=r(500),u=r(77);e.subscribeToResult=function(t,e,r,h){var f=new c.InnerSubscriber(t,r,h);if(f.closed)return null;if(e instanceof s.Observable)return e._isScalar?(f.next(e.value),f.complete(),null):(f.syncErrorThrowable=!0,e.subscribe(f));if(i.isArrayLike(e)){for(var d=0,p=e.length;d<p&&!f.closed;d++)f.next(e[d]);f.closed||f.complete()}else{if(o.isPromise(e))return e.then(function(t){f.closed||(f.next(t),f.complete())},function(t){return f.error(t)}).then(null,function(t){n.root.setTimeout(function(){throw t})}),f;if(e&&"function"==typeof e[l.iterator])for(var v=e[l.iterator]();;){var y=v.next();if(y.done){f.complete();break}if(f.next(y.value),f.closed)break}else if(e&&"function"==typeof e[u.observable]){var g=e[u.observable]();if("function"==typeof g.subscribe)return g.subscribe(new c.InnerSubscriber(t,r,h));f.error(new TypeError("Provided object does not correctly implement Symbol.observable"))}else{var m="You provided "+(a.isObject(e)?"an invalid object":"'"+e+"'")+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.";f.error(new TypeError(m))}}return null}},function(t,e,r){"use strict";var n=r(3),i=r(6),o=r(28),a=r(5),s=r(4),l=r(154),c=r(1),u=r(23),h=r(42),f=r(25).LINE_SPACING,d=r(49).DESELECTDIM,p=r(26),v=r(323),y=t.exports={};y.font=function(t,e,r,n){c.isPlainObject(e)&&(n=e.color,r=e.size,e=e.family),e&&t.style("font-family",e),r+1&&t.style("font-size",r+"px"),n&&t.call(s.fill,n)},y.setPosition=function(t,e,r){t.attr("x",e).attr("y",r)},y.setSize=function(t,e,r){t.attr("width",e).attr("height",r)},y.setRect=function(t,e,r,n,i){t.call(y.setPosition,e,r).call(y.setSize,n,i)},y.translatePoint=function(t,e,r,n){var o=r.c2p(t.x),a=n.c2p(t.y);return!!(i(o)&&i(a)&&e.node())&&("text"===e.node().nodeName?e.attr("x",o).attr("y",a):e.attr("transform","translate("+o+","+a+")"),!0)},y.translatePoints=function(t,e,r){t.each(function(t){var i=n.select(this);y.translatePoint(t,i,e,r)})},y.hideOutsideRangePoint=function(t,e,r,n,i,o){e.attr("display",r.isPtWithinRange(t,i)&&n.isPtWithinRange(t,o)?null:"none")},y.hideOutsideRangePoints=function(t,e){if(e._hasClipOnAxisFalse){var r=e.xaxis,i=e.yaxis;t.each(function(e){var o=e[0].trace,a=o.xcalendar,s=o.ycalendar;t.selectAll(".point,.textpoint").each(function(t){y.hideOutsideRangePoint(t,n.select(this),r,i,a,s)})})}},y.crispRound=function(t,e,r){return e&&i(e)?t._context.staticPlot?e:e<1?1:Math.round(e):r||0},y.singleLineStyle=function(t,e,r,n,i){e.style("fill","none");var o=(((t||[])[0]||{}).trace||{}).line||{},a=r||o.width||0,l=i||o.dash||"";s.stroke(e,n||o.color),y.dashLine(e,l,a)},y.lineGroupStyle=function(t,e,r,i){t.style("fill","none").each(function(t){var o=(((t||[])[0]||{}).trace||{}).line||{},a=e||o.width||0,l=i||o.dash||"";n.select(this).call(s.stroke,r||o.color).call(y.dashLine,l,a)})},y.dashLine=function(t,e,r){r=+r||0,e=y.dashStyle(e,r),t.style({"stroke-dasharray":e,"stroke-width":r+"px"})},y.dashStyle=function(t,e){e=+e||1;var r=Math.max(e,3);return"solid"===t?t="":"dot"===t?t=r+"px,"+r+"px":"dash"===t?t=3*r+"px,"+3*r+"px":"longdash"===t?t=5*r+"px,"+5*r+"px":"dashdot"===t?t=3*r+"px,"+r+"px,"+r+"px,"+r+"px":"longdashdot"===t&&(t=5*r+"px,"+2*r+"px,"+r+"px,"+2*r+"px"),t},y.singleFillStyle=function(t){var e=(((n.select(t.node()).data()[0]||[])[0]||{}).trace||{}).fillcolor;e&&t.call(s.fill,e)},y.fillGroupStyle=function(t){t.style("stroke-width",0).each(function(e){var r=n.select(this);try{r.call(s.fill,e[0].trace.fillcolor)}catch(e){c.error(e,t),r.remove()}})};var g=r(324);y.symbolNames=[],y.symbolFuncs=[],y.symbolNeedLines={},y.symbolNoDot={},y.symbolNoFill={},y.symbolList=[],Object.keys(g).forEach(function(t){var e=g[t];y.symbolList=y.symbolList.concat([e.n,t,e.n+100,t+"-open"]),y.symbolNames[e.n]=t,y.symbolFuncs[e.n]=e.f,e.needLine&&(y.symbolNeedLines[e.n]=!0),e.noDot?y.symbolNoDot[e.n]=!0:y.symbolList=y.symbolList.concat([e.n+200,t+"-dot",e.n+300,t+"-open-dot"]),e.noFill&&(y.symbolNoFill[e.n]=!0)});var m=y.symbolNames.length,b="M0,0.5L0.5,0L0,-0.5L-0.5,0Z";function x(t,e){var r=t%100;return y.symbolFuncs[r](e)+(t>=200?b:"")}y.symbolNumber=function(t){if("string"==typeof t){var e=0;t.indexOf("-open")>0&&(e=100,t=t.replace("-open","")),t.indexOf("-dot")>0&&(e+=200,t=t.replace("-dot","")),(t=y.symbolNames.indexOf(t))>=0&&(t+=e)}return t%100>=m||t>=400?0:Math.floor(Math.max(t,0))};var w={x1:1,x2:0,y1:0,y2:0},_={x1:0,x2:0,y1:1,y2:0};y.gradient=function(t,e,r,i,a,l){var u=e._fullLayout._defs.select(".gradients").selectAll("#"+r).data([i+a+l],c.identity);u.exit().remove(),u.enter().append("radial"===i?"radialGradient":"linearGradient").each(function(){var t=n.select(this);"horizontal"===i?t.attr(w):"vertical"===i&&t.attr(_),t.attr("id",r);var e=o(a),c=o(l);t.append("stop").attr({offset:"0%","stop-color":s.tinyRGB(c),"stop-opacity":c.getAlpha()}),t.append("stop").attr({offset:"100%","stop-color":s.tinyRGB(e),"stop-opacity":e.getAlpha()})}),t.style({fill:"url(#"+r+")","fill-opacity":null})},y.initGradients=function(t){var e=t._fullLayout._defs.selectAll(".gradients").data([0]);e.enter().append("g").classed("gradients",!0),e.selectAll("linearGradient,radialGradient").remove()},y.singlePointStyle=function(t,e,r,n,i,o){var l=r.marker;!function(t,e,r,n,i,o,l,c){if(a.traceIs(r,"symbols")){var u=v(r);e.attr("d",function(t){var e;e="various"===t.ms||"various"===o.size?3:p.isBubble(r)?u(t.ms):(o.size||6)/2,t.mrc=e;var n=y.symbolNumber(t.mx||o.symbol)||0;return t.om=n%200>=100,x(n,e)})}e.style("opacity",function(t){return(t.mo+1||o.opacity+1)-1});var h,f,d,g=!1;if(t.so?(d=l.outlierwidth,f=l.outliercolor,h=o.outliercolor):(d=(t.mlw+1||l.width+1||(t.trace?t.trace.marker.line.width:0)+1)-1,f="mlc"in t?t.mlcc=i(t.mlc):Array.isArray(l.color)?s.defaultLine:l.color,Array.isArray(o.color)&&(h=s.defaultLine,g=!0),h="mc"in t?t.mcc=n(t.mc):o.color||"rgba(0,0,0,0)"),t.om)e.call(s.stroke,h).style({"stroke-width":(d||1)+"px",fill:"none"});else{e.style("stroke-width",d+"px");var m=o.gradient,b=t.mgt;if(b?g=!0:b=m&&m.type,b&&"none"!==b){var w=t.mgc;w?g=!0:w=m.color;var _="g"+c._fullLayout._uid+"-"+r.uid;g&&(_+="-"+t.i),e.call(y.gradient,c,_,b,h,w)}else e.call(s.fill,h);d&&e.call(s.stroke,f)}}(t,e,r,n,i,l,l.line,o)},y.pointStyle=function(t,e,r){if(t.size()){var i=e.marker,o=y.tryColorscale(i,""),a=y.tryColorscale(i,"line");t.each(function(t){y.singlePointStyle(t,n.select(this),e,o,a,r)})}},y.selectedPointStyle=function(t,e){if(t.size()&&e.selectedpoints){var r=e.selected||{},i=e.unselected||{},o=e.marker||{},l=r.marker||{},c=i.marker||{},u=o.opacity,h=l.opacity,f=c.opacity,p=void 0!==h,v=void 0!==f;t.each(function(t){var e,r=n.select(this),i=t.mo,o=void 0!==i;(o||p||v)&&(t.selected?p&&(e=h):e=v?f:d*(o?i:u)),void 0!==e&&r.style("opacity",e)});var g=l.color,m=c.color;(g||m)&&t.each(function(t){var e,r=n.select(this);t.selected?g&&(e=g):m&&(e=m),e&&s.fill(r,e)});var b=l.size,w=c.size,_=void 0!==b,k=void 0!==w;a.traceIs(e,"symbols")&&(_||k)&&t.each(function(t){var e,r=n.select(this),i=t.mrc,a=t.mx||o.symbol||0;e=t.selected?_?b/2:i:k?w/2:i,r.attr("d",x(y.symbolNumber(a),e)),t.mrc2=e})}},y.tryColorscale=function(t,e){var r=e?c.nestedProperty(t,e).get():t,n=r.colorscale,i=r.color;return n&&Array.isArray(i)?l.makeColorScaleFunc(l.extractScale(n,r.cmin,r.cmax)):c.identity};var k={start:1,end:-1,middle:0,bottom:1,top:-1};function T(t,e,r,i){var o=n.select(t.node().parentNode),a=-1!==e.indexOf("top")?"top":-1!==e.indexOf("bottom")?"bottom":"middle",s=-1!==e.indexOf("left")?"end":-1!==e.indexOf("right")?"start":"middle",l=i?i/.8+1:0,c=(u.lineCount(t)-1)*f+1,h=k[s]*l,d=.75*r+k[a]*l+(k[a]-1)*c*r/2;t.attr("text-anchor",s),o.attr("transform","translate("+h+","+d+")")}function A(t,e){var r=t.ts||e.textfont.size;return i(r)&&r>0?r:0}y.textPointStyle=function(t,e,r){t.each(function(t){var i=n.select(this),o=c.extractOption(t,e,"tx","text");if(o){var a=t.tp||e.textposition,s=A(t,e);i.call(y.font,t.tf||e.textfont.family,s,t.tc||e.textfont.color).text(o).call(u.convertToTspans,r).call(T,a,s,t.mrc)}else i.remove()})},y.selectedTextStyle=function(t,e){if(t.size()&&e.selectedpoints){var r=e.selected||{},i=e.unselected||{};t.each(function(t){var o,a=n.select(this),l=t.tc||e.textfont.color,c=t.tp||e.textposition,u=A(t,e),h=(r.textfont||{}).color,f=(i.textfont||{}).color;t.selected?h&&(o=h):f?o=f:h||(o=s.addOpacity(l,d)),o&&s.fill(a,o),T(a,c,u,t.mrc2||t.mrc)})}};var M=.5;function S(t,e,r,i){var o=t[0]-e[0],a=t[1]-e[1],s=r[0]-e[0],l=r[1]-e[1],c=Math.pow(o*o+a*a,M/2),u=Math.pow(s*s+l*l,M/2),h=(u*u*o-c*c*s)*i,f=(u*u*a-c*c*l)*i,d=3*u*(c+u),p=3*c*(c+u);return[[n.round(e[0]+(d&&h/d),2),n.round(e[1]+(d&&f/d),2)],[n.round(e[0]-(p&&h/p),2),n.round(e[1]-(p&&f/p),2)]]}y.smoothopen=function(t,e){if(t.length<3)return"M"+t.join("L");var r,n="M"+t[0],i=[];for(r=1;r<t.length-1;r++)i.push(S(t[r-1],t[r],t[r+1],e));for(n+="Q"+i[0][0]+" "+t[1],r=2;r<t.length-1;r++)n+="C"+i[r-2][1]+" "+i[r-1][0]+" "+t[r];return n+="Q"+i[t.length-3][1]+" "+t[t.length-1]},y.smoothclosed=function(t,e){if(t.length<3)return"M"+t.join("L")+"Z";var r,n="M"+t[0],i=t.length-1,o=[S(t[i],t[0],t[1],e)];for(r=1;r<i;r++)o.push(S(t[r-1],t[r],t[r+1],e));for(o.push(S(t[i-1],t[i],t[0],e)),r=1;r<=i;r++)n+="C"+o[r-1][1]+" "+o[r][0]+" "+t[r];return n+="C"+o[i][1]+" "+o[0][0]+" "+t[0]+"Z"};var O={hv:function(t,e){return"H"+n.round(e[0],2)+"V"+n.round(e[1],2)},vh:function(t,e){return"V"+n.round(e[1],2)+"H"+n.round(e[0],2)},hvh:function(t,e){return"H"+n.round((t[0]+e[0])/2,2)+"V"+n.round(e[1],2)+"H"+n.round(e[0],2)},vhv:function(t,e){return"V"+n.round((t[1]+e[1])/2,2)+"H"+n.round(e[0],2)+"V"+n.round(e[1],2)}},C=function(t,e){return"L"+n.round(e[0],2)+","+n.round(e[1],2)};y.steps=function(t){var e=O[t]||C;return function(t){for(var r="M"+n.round(t[0][0],2)+","+n.round(t[0][1],2),i=1;i<t.length;i++)r+=e(t[i-1],t[i]);return r}},y.makeTester=function(){var t=n.select("body").selectAll("#js-plotly-tester").data([0]);t.enter().append("svg").attr("id","js-plotly-tester").attr(h.svgAttrs).style({position:"absolute",left:"-10000px",top:"-10000px",width:"9000px",height:"9000px","z-index":"1"});var e=t.selectAll(".js-reference-point").data([0]);e.enter().append("path").classed("js-reference-point",!0).attr("d","M0,0H1V1H0Z").style({"stroke-width":0,fill:"black"}),y.tester=t,y.testref=e},y.savedBBoxes={};var L=0;function j(t){var e=t.getAttribute("data-unformatted");if(null!==e)return e+t.getAttribute("data-math")+t.getAttribute("text-anchor")+t.getAttribute("style")}y.bBox=function(t,e,r){var i,o,a;if(r||(r=j(t)),r){if(i=y.savedBBoxes[r])return c.extendFlat({},i)}else if(1===t.childNodes.length){var s=t.childNodes[0];if(r=j(s)){var l=+s.getAttribute("x")||0,h=+s.getAttribute("y")||0,f=s.getAttribute("transform");if(!f){var d=y.bBox(s,!1,r);return l&&(d.left+=l,d.right+=l),h&&(d.top+=h,d.bottom+=h),d}if(r+="~"+l+"~"+h+"~"+f,i=y.savedBBoxes[r])return c.extendFlat({},i)}}e?o=t:(a=y.tester.node(),o=t.cloneNode(!0),a.appendChild(o)),n.select(o).attr("transform",null).call(u.positionText,0,0);var p=o.getBoundingClientRect(),v=y.testref.node().getBoundingClientRect();e||a.removeChild(o);var g={height:p.height,width:p.width,left:p.left-v.left,top:p.top-v.top,right:p.right-v.left,bottom:p.bottom-v.top};return L>=1e4&&(y.savedBBoxes={},L=0),r&&(y.savedBBoxes[r]=g),L++,c.extendFlat({},g)},y.setClipUrl=function(t,e){if(e){var r="#"+e,i=n.select("base");i.size()&&i.attr("href")&&(r=window.location.href.split("#")[0]+r),t.attr("clip-path","url("+r+")")}else t.attr("clip-path",null)},y.getTranslate=function(t){var e=(t[t.attr?"attr":"getAttribute"]("transform")||"").replace(/.*\btranslate\((-?\d*\.?\d*)[^-\d]*(-?\d*\.?\d*)[^\d].*/,function(t,e,r){return[e,r].join(" ")}).split(" ");return{x:+e[0]||0,y:+e[1]||0}},y.setTranslate=function(t,e,r){var n=t.attr?"attr":"getAttribute",i=t.attr?"attr":"setAttribute",o=t[n]("transform")||"";return e=e||0,r=r||0,o=o.replace(/(\btranslate\(.*?\);?)/,"").trim(),o=(o+=" translate("+e+", "+r+")").trim(),t[i]("transform",o),o},y.getScale=function(t){var e=(t[t.attr?"attr":"getAttribute"]("transform")||"").replace(/.*\bscale\((\d*\.?\d*)[^\d]*(\d*\.?\d*)[^\d].*/,function(t,e,r){return[e,r].join(" ")}).split(" ");return{x:+e[0]||1,y:+e[1]||1}},y.setScale=function(t,e,r){var n=t.attr?"attr":"getAttribute",i=t.attr?"attr":"setAttribute",o=t[n]("transform")||"";return e=e||1,r=r||1,o=o.replace(/(\bscale\(.*?\);?)/,"").trim(),o=(o+=" scale("+e+", "+r+")").trim(),t[i]("transform",o),o},y.setPointGroupScale=function(t,e,r){var n,i,o;return e=e||1,r=r||1,i=1===e&&1===r?"":" scale("+e+","+r+")",o=/\s*sc.*/,t.each(function(){n=(this.getAttribute("transform")||"").replace(o,""),n=(n+=i).trim(),this.setAttribute("transform",n)}),i};var I=/translate\([^)]*\)\s*$/;y.setTextPointsScale=function(t,e,r){t.each(function(){var t,i=n.select(this),o=i.select("text");if(o.node()){var a=parseFloat(o.attr("x")||0),s=parseFloat(o.attr("y")||0),l=(i.attr("transform")||"").match(I);t=1===e&&1===r?[]:["translate("+a+","+s+")","scale("+e+","+r+")","translate("+-a+","+-s+")"],l&&t.push(l),i.attr("transform",t.join(" "))}})}},function(t,e,r){"use strict";var n=r(58),i=r(59);e.async=new i.AsyncScheduler(n.AsyncAction)},function(t,e,r){"use strict";var n=r(3),i=r(6),o=r(5),a=r(1),s=r(23),l=r(102),c=r(4),u=r(9),h=r(21),f=h.FP_SAFE,d=h.ONEAVGYEAR,p=h.ONEAVGMONTH,v=h.ONEDAY,y=h.ONEHOUR,g=h.ONEMIN,m=h.ONESEC,b=h.MINUS_SIGN,x=h.BADNUM,w=r(25).MID_SHIFT,_=t.exports={};_.setConvert=r(158);var k=r(159),T=r(24);_.id2name=T.id2name,_.cleanId=T.cleanId,_.list=T.list,_.listIds=T.listIds,_.getFromId=T.getFromId,_.getFromTrace=T.getFromTrace,_.coerceRef=function(t,e,r,n,i,o){var s=n.charAt(n.length-1),l=r._fullLayout._subplots[s+"axis"],c=n+"ref",u={};return i||(i=l[0]||o),o||(o=i),u[c]={valType:"enumerated",values:l.concat(o?[o]:[]),dflt:i},a.coerce(t,e,u,c)},_.coercePosition=function(t,e,r,n,i,o){var s,l;if("paper"===n||"pixel"===n)s=a.ensureNumber,l=r(i,o);else{var c=_.getFromId(e,n);l=r(i,o=c.fraction2r(o)),s=c.cleanPos}t[i]=s(l)},_.cleanPosition=function(t,e,r){return("paper"===r||"pixel"===r?a.ensureNumber:_.getFromId(e,r).cleanPos)(t)};var A=_.getDataConversions=function(t,e,r,n){var i,o="x"===r||"y"===r||"z"===r?r:n;if(Array.isArray(o)){if(i={type:k(n),_categories:[]},_.setConvert(i),"category"===i.type)for(var a=0;a<n.length;a++)i.d2c(n[a])}else i=_.getFromTrace(t,e,o);return i?{d2c:i.d2c,c2d:i.c2d}:"ids"===o?{d2c:S,c2d:S}:{d2c:M,c2d:M}};function M(t){return+t}function S(t){return String(t)}_.getDataToCoordFunc=function(t,e,r,n){return A(t,e,r,n).d2c},_.counterLetter=function(t){var e=t.charAt(0);return"x"===e?"y":"y"===e?"x":void 0},_.minDtick=function(t,e,r,n){-1===["log","category"].indexOf(t.type)&&n?void 0===t._minDtick?(t._minDtick=e,t._forceTick0=r):t._minDtick&&((t._minDtick/e+1e-6)%1<2e-6&&((r-t._forceTick0)/e%1+1.000001)%1<2e-6?(t._minDtick=e,t._forceTick0=r):((e/t._minDtick+1e-6)%1>2e-6||((r-t._forceTick0)/t._minDtick%1+1.000001)%1>2e-6)&&(t._minDtick=0)):t._minDtick=0},_.getAutoRange=function(t){var e,r=[],n=t._min[0].val,i=t._max[0].val;for(e=1;e<t._min.length&&n===i;e++)n=Math.min(n,t._min[e].val);for(e=1;e<t._max.length&&n===i;e++)i=Math.max(i,t._max[e].val);var o,s,l,c,u,h,f,d=0,p=!1;if(t.range){var v=a.simpleMap(t.range,t.r2l);p=v[1]<v[0]}for("reversed"===t.autorange&&(p=!0,t.autorange=!0),e=0;e<t._min.length;e++)for(s=t._min[e],o=0;o<t._max.length;o++)f=(l=t._max[o]).val-s.val,h=t._length-s.pad-l.pad,f>0&&h>0&&f/h>d&&(c=s,u=l,d=f/h);if(n===i){var y=n-1,g=n+1;r="tozero"===t.rangemode?n<0?[y,0]:[0,g]:"nonnegative"===t.rangemode?[Math.max(0,y),Math.max(0,g)]:[y,g]}else d&&("linear"!==t.type&&"-"!==t.type||("tozero"===t.rangemode?(c.val>=0&&(c={val:0,pad:0}),u.val<=0&&(u={val:0,pad:0})):"nonnegative"===t.rangemode&&(c.val-d*c.pad<0&&(c={val:0,pad:0}),u.val<0&&(u={val:1,pad:0})),d=(u.val-c.val)/(t._length-c.pad-u.pad)),r=[c.val-d*c.pad,u.val+d*u.pad]);return r[0]===r[1]&&("tozero"===t.rangemode?r=r[0]<0?[r[0],0]:r[0]>0?[0,r[0]]:[0,1]:(r=[r[0]-1,r[0]+1],"nonnegative"===t.rangemode&&(r[0]=Math.max(0,r[0])))),p&&r.reverse(),a.simpleMap(r,t.l2r||Number)},_.doAutoRange=function(t){t._length||t.setScale();var e=t._min&&t._max&&t._min.length&&t._max.length;if(t.autorange&&e){t.range=_.getAutoRange(t),t._r=t.range.slice(),t._rl=a.simpleMap(t._r,t.r2l);var r=t._input;r.range=t.range.slice(),r.autorange=t.autorange}},_.saveRangeInitial=function(t,e){for(var r=_.list(t,"",!0),n=!1,i=0;i<r.length;i++){var o=r[i],a=void 0===o._rangeInitial,s=a||!(o.range[0]===o._rangeInitial[0]&&o.range[1]===o._rangeInitial[1]);(a&&!1===o.autorange||e&&s)&&(o._rangeInitial=o.range.slice(),n=!0)}return n},_.saveShowSpikeInitial=function(t,e){for(var r=_.list(t,"",!0),n=!1,i="on",o=0;o<r.length;o++){var a=r[o],s=void 0===a._showSpikeInitial,l=s||!(a.showspikes===a._showspikes);(s||e&&l)&&(a._showSpikeInitial=a.showspikes,n=!0),"on"!==i||a.showspikes||(i="off")}return t._fullLayout._cartesianSpikesEnabled=i,n},_.expand=function(t,e,r){if((t.autorange||!!a.nestedProperty(t,"rangeslider.autorange").get())&&e){t._min||(t._min=[]),t._max||(t._max=[]),r||(r={}),t._m||t.setScale();var n,o,s,l,c,u,h,d,p,v,y,g=e.length,m=r.padded?.05*t._length:0,b=r.tozero&&("linear"===t.type||"-"===t.type);m&&"domain"===t.constrain&&t._inputDomain&&(m*=(t._inputDomain[1]-t._inputDomain[0])/(t.domain[1]-t.domain[0]));var x=T((t._m>0?r.ppadplus:r.ppadminus)||r.ppad||0),w=T((t._m>0?r.ppadminus:r.ppadplus)||r.ppad||0),_=T(r.vpadplus||r.vpad),k=T(r.vpadminus||r.vpad);for(n=0;n<6;n++)A(n);for(n=g-1;n>5;n--)A(n)}function T(t){if(Array.isArray(t))return function(e){return Math.max(Number(t[e]||0),0)};var e=Math.max(Number(t||0),0);return function(){return e}}function A(r){if(l=e[r],i(l)){if(h=x(r)+m,d=w(r)+m,v=l-k(r),y=l+_(r),"log"===t.type&&v<y/10&&(v=y/10),c=t.c2l(v),u=t.c2l(y),b&&(c=Math.min(0,c),u=Math.max(0,u)),n(c)){for(p=!0,o=0;o<t._min.length&&p;o++)(s=t._min[o]).val<=c&&s.pad>=d?p=!1:s.val>=c&&s.pad<=d&&(t._min.splice(o,1),o--);p&&t._min.push({val:c,pad:b&&0===c?0:d})}if(n(u)){for(p=!0,o=0;o<t._max.length&&p;o++)(s=t._max[o]).val>=u&&s.pad>=h?p=!1:s.val<=u&&s.pad<=h&&(t._max.splice(o,1),o--);p&&t._max.push({val:u,pad:b&&0===u?0:h})}}function n(t){return i(t)&&Math.abs(t)<f}}},_.autoBin=function(t,e,r,n,o){var s,l,c=a.aggNums(Math.min,null,t),u=a.aggNums(Math.max,null,t);if(o||(o=e.calendar),"category"===e.type)return{start:c-.5,end:u+.5,size:1,_count:u-c+1};if(r)s=(u-c)/r;else{var h=a.distinctVals(t),f=Math.pow(10,Math.floor(Math.log(h.minDiff)/Math.LN10)),d=f*a.roundUp(h.minDiff/f,[.9,1.9,4.9,9.9],!0);s=Math.max(d,2*a.stdev(t)/Math.pow(t.length,n?.25:.4)),i(s)||(s=1)}l="log"===e.type?{type:"linear",range:[c,u]}:{type:e.type,range:a.simpleMap([c,u],e.c2r,0,o),calendar:o},_.setConvert(l),_.autoTicks(l,s);var p,y,g=_.tickIncrement(_.tickFirst(l),l.dtick,"reverse",o);if("number"==typeof l.dtick)p=(g=function(t,e,r,n,o){var a=0,s=0,l=0,c=0;function u(e){return(1+100*(e-t)/r.dtick)%100<2}for(var h=0;h<e.length;h++)e[h]%1==0?l++:i(e[h])||c++,u(e[h])&&a++,u(e[h]+r.dtick/2)&&s++;var f=e.length-c;if(l===f&&"date"!==r.type)r.dtick<1?t=n-.5*r.dtick:(t-=.5)+r.dtick<n&&(t+=r.dtick);else if(s<.1*f&&(a>.3*f||u(n)||u(o))){var d=r.dtick/2;t+=t+d<n?d:-d}return t}(g,t,l,c,u))+(y=1+Math.floor((u-g)/l.dtick))*l.dtick;else for("M"===l.dtick.charAt(0)&&(g=function(t,e,r,n,i){var o=a.findExactDates(e,i);if(o.exactDays>.8){var s=Number(r.substr(1));o.exactYears>.8&&s%12==0?t=_.tickIncrement(t,"M6","reverse")+1.5*v:o.exactMonths>.8?t=_.tickIncrement(t,"M1","reverse")+15.5*v:t-=v/2;var l=_.tickIncrement(t,r);if(l<=n)return l}return t}(g,t,l.dtick,c,o)),p=g,y=0;p<=u;)p=_.tickIncrement(p,l.dtick,!1,o),y++;return{start:e.c2r(g,0,o),end:e.c2r(p,0,o),size:l.dtick,_count:y}},_.calcTicks=function(t){var e=a.simpleMap(t.range,t.r2l);if("auto"===t.tickmode||!t.dtick){var r,n=t.nticks;n||("category"===t.type?(r=t.tickfont?1.2*(t.tickfont.size||12):15,n=t._length/r):(r="y"===t._id.charAt(0)?40:80,n=a.constrain(t._length/r,4,9)+1),"radialaxis"===t._name&&(n*=2)),"array"===t.tickmode&&(n*=100),_.autoTicks(t,Math.abs(e[1]-e[0])/n),t._minDtick>0&&t.dtick<2*t._minDtick&&(t.dtick=t._minDtick,t.tick0=t.l2r(t._forceTick0))}if(t.tick0||(t.tick0="date"===t.type?"2000-01-01":0),N(t),"array"===t.tickmode)return function(t){var e,r,n=t.tickvals,i=t.ticktext,o=new Array(n.length),s=a.simpleMap(t.range,t.r2l),l=1.0001*s[0]-1e-4*s[1],c=1.0001*s[1]-1e-4*s[0],u=Math.min(l,c),h=Math.max(l,c),f=0;Array.isArray(i)||(i=[]);var d="category"===t.type?t.d2l_noadd:t.d2l;"log"===t.type&&"L"!==String(t.dtick).charAt(0)&&(t.dtick="L"+Math.pow(10,Math.floor(Math.min(t.range[0],t.range[1]))-1));for(r=0;r<n.length;r++)(e=d(n[r]))>u&&e<h&&(void 0===i[r]?o[f]=_.tickText(t,e):o[f]=D(t,e,String(i[r])),f++);f<n.length&&o.splice(f,n.length-f);return o}(t);t._tmin=_.tickFirst(t);var i=e[1]<e[0],o=[],s=1.0001*e[1]-1e-4*e[0];"category"===t.type&&(s=i?Math.max(-.5,s):Math.min(t._categories.length-.5,s));for(var l=null,c=Math.max(1e3,t._length||0),u=t._tmin;(i?u>=s:u<=s)&&!(o.length>c||u===l);u=_.tickIncrement(u,t.dtick,i,t.calendar))l=u,o.push(u);"angular"===t._id&&360===Math.abs(e[1]-e[0])&&o.pop(),t._tmax=o[o.length-1],t._prevDateHead="",t._inCalcTicks=!0;for(var h=new Array(o.length),f=0;f<o.length;f++)h[f]=_.tickText(t,o[f]);return t._inCalcTicks=!1,h};var O=[2,5,10],C=[1,2,3,6,12],L=[1,2,5,10,15,30],j=[1,2,3,7,14],I=[-.046,0,.301,.477,.602,.699,.778,.845,.903,.954,1],P=[-.301,0,.301,.699,1],E=[15,30,45,90,180];function z(t,e,r){return e*a.roundUp(t/e,r)}function N(t){var e=t.dtick;if(t._tickexponent=0,i(e)||"string"==typeof e||(e=1),"category"===t.type&&(t._tickround=null),"date"===t.type){var r=t.r2l(t.tick0),n=t.l2r(r).replace(/(^-|i)/g,""),o=n.length;if("M"===String(e).charAt(0))o>10||"01-01"!==n.substr(5)?t._tickround="d":t._tickround=+e.substr(1)%12==0?"y":"m";else if(e>=v&&o<=10||e>=15*v)t._tickround="d";else if(e>=g&&o<=16||e>=y)t._tickround="M";else if(e>=m&&o<=19||e>=g)t._tickround="S";else{var a=t.l2r(r+e).replace(/^-/,"").length;t._tickround=Math.max(o,a)-20}}else if(i(e)||"L"===e.charAt(0)){var s=t.range.map(t.r2d||Number);i(e)||(e=Number(e.substr(1))),t._tickround=2-Math.floor(Math.log(e)/Math.LN10+.01);var l=Math.max(Math.abs(s[0]),Math.abs(s[1])),c=Math.floor(Math.log(l)/Math.LN10+.01);Math.abs(c)>3&&(F(t.exponentformat)&&!B(c)?t._tickexponent=3*Math.round((c-1)/3):t._tickexponent=c)}else t._tickround=null}function D(t,e,r){var n=t.tickfont||{};return{x:e,dx:0,dy:0,text:r||"",fontSize:n.size,font:n.family,fontColor:n.color}}_.autoTicks=function(t,e){var r;function n(t){return Math.pow(t,Math.floor(Math.log(e)/Math.LN10))}if("date"===t.type){t.tick0=a.dateTick0(t.calendar);var o=2*e;o>d?(e/=d,r=n(10),t.dtick="M"+12*z(e,r,O)):o>p?(e/=p,t.dtick="M"+z(e,1,C)):o>v?(t.dtick=z(e,v,j),t.tick0=a.dateTick0(t.calendar,!0)):o>y?t.dtick=z(e,y,C):o>g?t.dtick=z(e,g,L):o>m?t.dtick=z(e,m,L):(r=n(10),t.dtick=z(e,r,O))}else if("log"===t.type){t.tick0=0;var s=a.simpleMap(t.range,t.r2l);if(e>.7)t.dtick=Math.ceil(e);else if(Math.abs(s[1]-s[0])<1){var l=1.5*Math.abs((s[1]-s[0])/e);e=Math.abs(Math.pow(10,s[1])-Math.pow(10,s[0]))/l,r=n(10),t.dtick="L"+z(e,r,O)}else t.dtick=e>.3?"D2":"D1"}else"category"===t.type?(t.tick0=0,t.dtick=Math.ceil(Math.max(e,1))):"angular"===t._id?(t.tick0=0,r=1,t.dtick=z(e,r,E)):(t.tick0=0,r=n(10),t.dtick=z(e,r,O));if(0===t.dtick&&(t.dtick=1),!i(t.dtick)&&"string"!=typeof t.dtick){var c=t.dtick;throw t.dtick=1,"ax.dtick error: "+String(c)}},_.tickIncrement=function(t,e,r,o){var s=r?-1:1;if(i(e))return t+s*e;var l=e.charAt(0),c=s*Number(e.substr(1));if("M"===l)return a.incrementMonth(t,c,o);if("L"===l)return Math.log(Math.pow(10,t)+c)/Math.LN10;if("D"===l){var u="D2"===e?P:I,h=t+.01*s,f=a.roundUp(a.mod(h,1),u,r);return Math.floor(h)+Math.log(n.round(Math.pow(10,f),1))/Math.LN10}throw"unrecognized dtick "+String(e)},_.tickFirst=function(t){var e=t.r2l||Number,r=a.simpleMap(t.range,e),o=r[1]<r[0],s=o?Math.floor:Math.ceil,l=1.0001*r[0]-1e-4*r[1],c=t.dtick,u=e(t.tick0);if(i(c)){var h=s((l-u)/c)*c+u;return"category"===t.type&&(h=a.constrain(h,0,t._categories.length-1)),h}var f=c.charAt(0),d=Number(c.substr(1));if("M"===f){for(var p,v,y,g=0,m=u;g<10;){if(((p=_.tickIncrement(m,c,o,t.calendar))-l)*(m-l)<=0)return o?Math.min(m,p):Math.max(m,p);v=(l-(m+p)/2)/(p-m),y=f+(Math.abs(Math.round(v))||1)*d,m=_.tickIncrement(m,y,v<0?!o:o,t.calendar),g++}return a.error("tickFirst did not converge",t),m}if("L"===f)return Math.log(s((Math.pow(10,l)-u)/d)*d+u)/Math.LN10;if("D"===f){var b="D2"===c?P:I,x=a.roundUp(a.mod(l,1),b,o);return Math.floor(l)+Math.log(n.round(Math.pow(10,x),1))/Math.LN10}throw"unrecognized dtick "+String(c)},_.tickText=function(t,e,r){var n,o,s=D(t,e),l="array"===t.tickmode,c=r||l,u="category"===t.type?t.d2l_noadd:t.d2l;if(l&&Array.isArray(t.ticktext)){var h=a.simpleMap(t.range,t.r2l),f=Math.abs(h[1]-h[0])/1e4;for(o=0;o<t.ticktext.length&&!(Math.abs(e-u(t.tickvals[o]))<f);o++);if(o<t.ticktext.length)return s.text=String(t.ticktext[o]),s}function d(n){var i;return void 0===n||(r?"none"===n:(i={first:t._tmin,last:t._tmax}[n],"all"!==n&&e!==i))}return n=r?"never":"none"!==t.exponentformat&&d(t.showexponent)?"hide":"","date"===t.type?function(t,e,r,n){var o=t._tickround,s=r&&t.hoverformat||_.getTickFormat(t);n&&(o=i(o)?4:{y:"m",m:"d",d:"M",M:"S",S:4}[o]);var l,c=a.formatDate(e.x,s,o,t._dateFormat,t.calendar),u=c.indexOf("\n");-1!==u&&(l=c.substr(u+1),c=c.substr(0,u));n&&("00:00:00"===c||"00:00"===c?(c=l,l=""):8===c.length&&(c=c.replace(/:00$/,"")));l&&(r?"d"===o?c+=", "+l:c=l+(c?", "+c:""):t._inCalcTicks&&l===t._prevDateHead||(c+="<br>"+l,t._prevDateHead=l));e.text=c}(t,s,r,c):"log"===t.type?function(t,e,r,n,o){var s=t.dtick,l=e.x,c=t.tickformat;"never"===o&&(o="");!n||"string"==typeof s&&"L"===s.charAt(0)||(s="L3");if(c||"string"==typeof s&&"L"===s.charAt(0))e.text=V(Math.pow(10,l),t,o,n);else if(i(s)||"D"===s.charAt(0)&&a.mod(l+.01,1)<.1){var u=Math.round(l);-1!==["e","E","power"].indexOf(t.exponentformat)||F(t.exponentformat)&&B(u)?(e.text=0===u?1:1===u?"10":u>1?"10<sup>"+u+"</sup>":"10<sup>"+b+-u+"</sup>",e.fontSize*=1.25):(e.text=V(Math.pow(10,l),t,"","fakehover"),"D1"===s&&"y"===t._id.charAt(0)&&(e.dy-=e.fontSize/6))}else{if("D"!==s.charAt(0))throw"unrecognized dtick "+String(s);e.text=String(Math.round(Math.pow(10,a.mod(l,1)))),e.fontSize*=.75}if("D1"===t.dtick){var h=String(e.text).charAt(0);"0"!==h&&"1"!==h||("y"===t._id.charAt(0)?e.dx-=e.fontSize/4:(e.dy+=e.fontSize/2,e.dx+=(t.range[1]>t.range[0]?1:-1)*e.fontSize*(l<0?.5:.25)))}}(t,s,0,c,n):"category"===t.type?function(t,e){var r=t._categories[Math.round(e.x)];void 0===r&&(r="");e.text=String(r)}(t,s):"angular"===t._id?function(t,e,r,n,i){if("radians"!==t.thetaunit||r)e.text=V(e.x,t,i,n);else{var o=e.x/180;if(0===o)e.text="0";else{var s=function(t){function e(t,e){return Math.abs(t-e)<=1e-6}var r=function(t){var r=1;for(;!e(Math.round(t*r)/r,t);)r*=10;return r}(t),n=t*r,i=Math.abs(function t(r,n){return e(n,0)?r:t(n,r%n)}(n,r));return[Math.round(n/i),Math.round(r/i)]}(o);if(s[1]>=100)e.text=V(a.deg2rad(e.x),t,i,n);else{var l=e.x<0;1===s[1]?1===s[0]?e.text="":e.text=s[0]+"":e.text=["<sup>",s[0],"</sup>","","<sub>",s[1],"</sub>",""].join(""),l&&(e.text=b+e.text)}}}}(t,s,r,c,n):function(t,e,r,n,i){"never"===i?i="":"all"===t.showexponent&&Math.abs(e.x/t.dtick)<1e-6&&(i="hide");e.text=V(e.x,t,i,n)}(t,s,0,c,n),t.tickprefix&&!d(t.showtickprefix)&&(s.text=t.tickprefix+s.text),t.ticksuffix&&!d(t.showticksuffix)&&(s.text+=t.ticksuffix),s},_.hoverLabelText=function(t,e,r){if(r!==x&&r!==e)return _.hoverLabelText(t,e)+" - "+_.hoverLabelText(t,r);var n="log"===t.type&&e<=0,i=_.tickText(t,t.c2l(n?-e:e),"hover").text;return n?0===e?"0":b+i:i};var R=["f","p","n","","m","","k","M","G","T"];function F(t){return"SI"===t||"B"===t}function B(t){return t>14||t<-15}function V(t,e,r,n){var o=t<0,s=e._tickround,l=r||e.exponentformat||"B",c=e._tickexponent,u=_.getTickFormat(e),h=e.separatethousands;if(n){var f={exponentformat:e.exponentformat,dtick:"none"===e.showexponent?e.dtick:i(t)&&Math.abs(t)||1,range:"none"===e.showexponent?e.range.map(e.r2d):[0,t||1]};N(f),s=(Number(f._tickround)||0)+4,c=f._tickexponent,e.hoverformat&&(u=e.hoverformat)}if(u)return e._numFormat(u)(t).replace(/-/g,b);var d,p=Math.pow(10,-s)/2;if("none"===l&&(c=0),(t=Math.abs(t))<p)t="0",o=!1;else{if(t+=p,c&&(t*=Math.pow(10,-c),s+=c),0===s)t=String(Math.floor(t));else if(s<0){t=(t=String(Math.round(t))).substr(0,t.length+s);for(var v=s;v<0;v++)t+="0"}else{var y=(t=String(t)).indexOf(".")+1;y&&(t=t.substr(0,y+s).replace(/\.?0+$/,""))}t=a.numSeparate(t,e._separators,h)}c&&"hide"!==l&&(F(l)&&B(c)&&(l="power"),d=c<0?b+-c:"power"!==l?"+"+c:String(c),"e"===l?t+="e"+d:"E"===l?t+="E"+d:"power"===l?t+="10<sup>"+d+"</sup>":"B"===l&&9===c?t+="B":F(l)&&(t+=R[c/3+5]));return o?b+t:t}function q(t,e){for(var r=0;r<e.length;r++)-1===t.indexOf(e[r])&&t.push(e[r])}function H(t,e,r){var n,i,o=[],s=[],l=t.layout;for(n=0;n<e.length;n++)o.push(_.getFromId(t,e[n]));for(n=0;n<r.length;n++)s.push(_.getFromId(t,r[n]));var c=Object.keys(o[0]),u=["anchor","domain","overlaying","position","side","tickangle"],h=["linear","log"];for(n=0;n<c.length;n++){var f=c[n],d=o[0][f],p=s[0][f],v=!0,y=!1,g=!1;if("_"!==f.charAt(0)&&"function"!=typeof d&&-1===u.indexOf(f)){for(i=1;i<o.length&&v;i++){var m=o[i][f];"type"===f&&-1!==h.indexOf(d)&&-1!==h.indexOf(m)&&d!==m?y=!0:m!==d&&(v=!1)}for(i=1;i<s.length&&v;i++){var b=s[i][f];"type"===f&&-1!==h.indexOf(p)&&-1!==h.indexOf(b)&&p!==b?g=!0:s[i][f]!==p&&(v=!1)}v&&(y&&(l[o[0]._name].type="linear"),g&&(l[s[0]._name].type="linear"),U(l,f,o,s,t._fullLayout._dfltTitle))}}for(n=0;n<t._fullLayout.annotations.length;n++){var x=t._fullLayout.annotations[n];-1!==e.indexOf(x.xref)&&-1!==r.indexOf(x.yref)&&a.swapAttrs(l.annotations[n],["?"])}}function U(t,e,r,n,i){var o,s=a.nestedProperty,l=s(t[r[0]._name],e).get(),c=s(t[n[0]._name],e).get();for("title"===e&&(l===i.x&&(l=i.y),c===i.y&&(c=i.x)),o=0;o<r.length;o++)s(t,r[o]._name+"."+e).set(c);for(o=0;o<n.length;o++)s(t,n[o]._name+"."+e).set(l)}_.getTickFormat=function(t){var e,r,n,i,o,a,s;function l(t){return"string"!=typeof t?t:Number(t.replace("M",""))*p}function c(t,e){var r=["L","D"];if(typeof t==typeof e){if("number"==typeof t)return t-e;var n=r.indexOf(t.charAt(0)),i=r.indexOf(e.charAt(0));return n===i?Number(t.replace(/(L|D)/g,""))-Number(e.replace(/(L|D)/g,"")):n-i}return"number"==typeof t?1:-1}function u(t,e){var r=null===e[0],n=null===e[1],i=c(t,e[0])>=0,o=c(t,e[1])<=0;return(r||i)&&(n||o)}if(t.tickformatstops&&t.tickformatstops.length>0)switch(t.type){case"date":case"linear":for(e=0;e<t.tickformatstops.length;e++)if(n=t.dtick,i=t.tickformatstops[e].dtickrange,o=void 0,void 0,void 0,o=l||function(t){return t},a=i[0],s=i[1],(!a&&"number"!=typeof a||o(a)<=o(n))&&(!s&&"number"!=typeof s||o(s)>=o(n))){r=t.tickformatstops[e];break}break;case"log":for(e=0;e<t.tickformatstops.length;e++)if(u(t.dtick,t.tickformatstops[e].dtickrange)){r=t.tickformatstops[e];break}}return r?r.value:t.tickformat},_.getSubplots=function(t,e){var r=t._fullLayout._subplots,n=r.cartesian.concat(r.gl2d||[]),i=e?_.findSubplotsWithAxis(n,e):n;return i.sort(function(t,e){var r=t.substr(1).split("y"),n=e.substr(1).split("y");return r[0]===n[0]?+r[1]-+n[1]:+r[0]-+n[0]}),i},_.findSubplotsWithAxis=function(t,e){for(var r=new RegExp("x"===e._id.charAt(0)?"^"+e._id+"y":e._id+"$"),n=[],i=0;i<t.length;i++){var o=t[i];r.test(o)&&n.push(o)}return n},_.makeClipPaths=function(t){var e,r,i=t._fullLayout,o={_offset:0,_length:i.width,_id:""},a={_offset:0,_length:i.height,_id:""},s=_.list(t,"x",!0),l=_.list(t,"y",!0),c=[];for(e=0;e<s.length;e++)for(c.push({x:s[e],y:a}),r=0;r<l.length;r++)0===e&&c.push({x:o,y:l[r]}),c.push({x:s[e],y:l[r]});var u=i._clips.selectAll(".axesclip").data(c,function(t){return t.x._id+t.y._id});u.enter().append("clipPath").classed("axesclip",!0).attr("id",function(t){return"clip"+i._uid+t.x._id+t.y._id}).append("rect"),u.exit().remove(),u.each(function(t){n.select(this).select("rect").attr({x:t.x._offset||0,y:t.y._offset||0,width:t.x._length||1,height:t.y._length||1})})},_.doTicks=function(t,e,r){var h,f=t._fullLayout,d=!1;if("object"==typeof e)e=(h=e)._id,d=!0;else if(h=_.getFromId(t,e),"redraw"===e&&f._paper.selectAll("g.subplot").each(function(t){var e=f._plots[t],r=e.xaxis,n=e.yaxis;e.xaxislayer.selectAll("."+r._id+"tick").remove(),e.yaxislayer.selectAll("."+n._id+"tick").remove(),e.gridlayer.selectAll("path").remove(),e.zerolinelayer.selectAll("path").remove(),f._infolayer.select(".g-"+r._id+"title").remove(),f._infolayer.select(".g-"+n._id+"title").remove()}),!e||"redraw"===e)return a.syncOrAsync(_.list(t,"",!0).map(function(r){return function(){if(r._id){var n=_.doTicks(t,r._id);return"redraw"===e&&(r._r=r.range.slice(),r._rl=a.simpleMap(r._r,r.r2l)),n}}}));h.tickformat||(-1===["none","e","E","power","SI","B"].indexOf(h.exponentformat)&&(h.exponentformat="e"),-1===["all","first","last","none"].indexOf(h.showexponent)&&(h.showexponent="all")),h.setScale();var p,v,y,g,m,b=e.charAt(0),x=_.counterLetter(e),k=_.calcTicks(h),A=function(t){return[t.text,t.x,h.mirror,t.font,t.fontSize,t.fontColor].join("_")},M=e+"tick",S=e+"grid",O=e+"zl",C=(h.linewidth||1)/2,L="outside"===h.ticks?h.ticklen:0,j=0,I=u.crispRound(t,h.gridwidth,1),P=u.crispRound(t,h.zerolinewidth,I),E=u.crispRound(t,h.tickwidth,1);if(h._counterangle&&"outside"===h.ticks){var z=h._counterangle*Math.PI/180;L=h.ticklen*Math.cos(z)+1,j=h.ticklen*Math.sin(z)}if(h.showticklabels&&("outside"===h.ticks||h.showline)&&(L+=.2*h.tickfont.size),"x"===b)p=["bottom","top"],v=h._transfn||function(t){return"translate("+(h._offset+h.l2p(t.x))+",0)"},y=function(t,e){if(h._counterangle){var r=h._counterangle*Math.PI/180;return"M0,"+t+"l"+Math.sin(r)*e+","+Math.cos(r)*e}return"M0,"+t+"v"+e};else if("y"===b)p=["left","right"],v=h._transfn||function(t){return"translate(0,"+(h._offset+h.l2p(t.x))+")"},y=function(t,e){if(h._counterangle){var r=h._counterangle*Math.PI/180;return"M"+t+",0l"+Math.cos(r)*e+","+-Math.sin(r)*e}return"M"+t+",0h"+e};else{if("angular"!==e)return void a.warn("Unrecognized doTicks axis:",e);p=["left","right"],v=h._transfn,y=function(t,e){return"M"+t+",0h"+e}}var N=h.side||p[0],D=[-1,1,N===p[1]?1:-1];if("inside"!==h.ticks==("x"===b)&&(D=D.map(function(t){return-t})),h.visible){h._tickFilter&&(k=k.filter(h._tickFilter));var R=k.filter(W);if("angular"===h._id&&(R=k),d){if(G(h._axislayer,y(h._pos+C*D[2],D[2]*h.ticklen)),h._counteraxis)J({gridlayer:h._gridlayer,zerolinelayer:h._zerolinelayer},h._counteraxis);return Y(h._axislayer,h._pos)}if(f._has("cartesian")){var F={};(g=_.getSubplots(t,h)).map(function(t){var e=f._plots[t],r=e[x+"axis"],n=r._mainAxis._id;F[n]||(F[n]=1,J(e,r,t))});var B=h._mainSubplot,V=f._plots[B],q=[];if(h.ticks){var H=D[2],U=y(h._mainLinePosition+C*H,H*h.ticklen);h._anchorAxis&&h.mirror&&!0!==h.mirror&&(U+=y(h._mainMirrorPosition-C*H,-H*h.ticklen)),G(V[b+"axislayer"],U),q=Object.keys(h._linepositions)}return q.map(function(t){var e=f._plots[t][b+"axislayer"],r=h._linepositions[t]||[];function n(t){var e=D[t];return y(r[t]+C*e,e*h.ticklen)}G(e,n(0)+n(1))}),Y(V[b+"axislayer"],h._mainLinePosition)}}function W(t){var e=h.l2p(t.x);return e>1&&e<h._length-1}function G(t,e){var r=t.selectAll("path."+M).data("inside"===h.ticks?R:k,A);e&&h.ticks?(r.enter().append("path").classed(M,1).classed("ticks",1).classed("crisp",1).call(c.stroke,h.tickcolor).style("stroke-width",E+"px").attr("d",e),r.attr("transform",v),r.exit().remove()):r.remove()}function Y(r,o){var l,c,d,p,y,x=r.selectAll("g."+M).data(k,A);if(!i(o))return x.remove(),void X();if(!h.showticklabels)return x.remove(),X(),void I();"x"===b?(l=function(t){return t.dx+j*y},p=o+(L+C)*(y="bottom"===N?1:-1),c=function(t){return t.dy+p+t.fontSize*("bottom"===N?1:-.2)},d=function(t){return i(t)&&0!==t&&180!==t?t*y<0?"end":"start":"middle"}):"y"===b?(y="right"===N?1:-1,c=function(t){return t.dy+t.fontSize*w-j*y},l=function(t){return t.dx+o+(L+C+(90===Math.abs(h.tickangle)?t.fontSize/2:0))*y},d=function(t){return i(t)&&90===Math.abs(t)?"middle":"right"===N?"start":"end"}):"angular"===e&&(h._labelShift=j,h._labelStandoff=L,h._pad=C,l=h._labelx,c=h._labely,d=h._labelanchor);var _=0,T=0,S=[];function O(t,e){t.each(function(t){var r=d(e,t),o=n.select(this),a=o.select(".text-math-group"),s=v(t)+(i(e)&&0!=+e?" rotate("+e+","+l(t)+","+(c(t)-t.fontSize/2)+")":"");if(a.empty())o.select("text").attr({transform:s,"text-anchor":r});else{var h=u.bBox(a.node()).width*{end:-.5,start:.5}[r];a.attr("transform",s+(h?"translate("+h+",0)":""))}})}function I(){if(h.showticklabels){var e=t.getBoundingClientRect(),n=r.node().getBoundingClientRect();h._boundingBox={width:n.width,height:n.height,left:n.left-e.left,right:n.right-e.left,top:n.top-e.top,bottom:n.bottom-e.top}}else{var i,o=f._size;"x"===b?(i="free"===h.anchor?o.t+o.h*(1-h.position):o.t+o.h*(1-h._anchorAxis.domain[{bottom:0,top:1}[h.side]]),h._boundingBox={top:i,bottom:i,left:h._offset,right:h._offset+h._length,width:h._length,height:0}):(i="free"===h.anchor?o.l+o.w*h.position:o.l+o.w*h._anchorAxis.domain[{left:0,right:1}[h.side]],h._boundingBox={left:i,right:i,bottom:h._offset+h._length,top:h._offset,height:h._length,width:0})}if(g){var a=h._counterSpan=[1/0,-1/0];for(m=0;m<g.length;m++){var s=f._plots[g[m]]["x"===b?"yaxis":"xaxis"];l(a,[s._offset,s._offset+s._length])}"free"===h.anchor&&l(a,"x"===b?[h._boundingBox.bottom,h._boundingBox.top]:[h._boundingBox.right,h._boundingBox.left])}function l(t,e){t[0]=Math.min(t[0],e[0]),t[1]=Math.max(t[1],e[1])}}x.enter().append("g").classed(M,1).append("text").attr("text-anchor","middle").each(function(e){var r=n.select(this),i=t._promises.length;r.call(s.positionText,l(e),c(e)).call(u.font,e.font,e.fontSize,e.fontColor).text(e.text).call(s.convertToTspans,t),(i=t._promises[i])?S.push(t._promises.pop().then(function(){O(r,h.tickangle)})):O(r,h.tickangle)}),x.exit().remove(),x.each(function(t){_=Math.max(_,t.fontSize)}),"angular"===e&&x.each(function(t){n.select(this).select("text").call(s.positionText,l(t),c(t))}),O(x,h._lastangle||h.tickangle);var P=a.syncOrAsync([function(){return S.length&&Promise.all(S)},function(){if(O(x,h.tickangle),"x"===b&&!i(h.tickangle)&&("log"!==h.type||"D"!==String(h.dtick).charAt(0))){var t=[];for(x.each(function(e){var r=n.select(this),i=r.select(".text-math-group"),o=h.l2p(e.x);i.empty()&&(i=r.select("text"));var a=u.bBox(i.node());t.push({top:0,bottom:10,height:10,left:o-a.width/2,right:o+a.width/2+2,width:a.width+2})}),m=0;m<t.length-1;m++)if(a.bBoxIntersect(t[m],t[m+1])){T=30;break}T&&(Math.abs((k[k.length-1].x-k[0].x)*h._m)/(k.length-1)<2.5*_&&(T=90),O(x,T)),h._lastangle=T}return X(),e+" done"},I]);return P&&P.then&&t._promises.push(P),P}function X(){if(!r){var i,o,a,s,c=T.getFromId(t,e),h=n.select(t).selectAll("g."+e+"tick"),d={selection:h,side:c.side},p=e.charAt(0),v=t._fullLayout._size,y=c.titlefont.size;if(h.size()){var g=u.getTranslate(h.node().parentNode);d.offsetLeft=g.x,d.offsetTop=g.y}var m=10+1.5*y+(c.linewidth?c.linewidth-1:0);"x"===p?(o="free"===c.anchor?{_offset:v.t+(1-(c.position||0))*v.h,_length:0}:T.getFromId(t,c.anchor),a=c._offset+c._length/2,s="top"===c.side?-m-y*(c.showticklabels?1:0):o._length+m+y*(c.showticklabels?1.5:.5),s+=o._offset,c.rangeslider&&c.rangeslider.visible&&c._boundingBox&&(s+=(f.height-f.margin.b-f.margin.t)*c.rangeslider.thickness+c._boundingBox.height),d.side||(d.side="bottom")):(o="free"===c.anchor?{_offset:v.l+(c.position||0)*v.w,_length:0}:T.getFromId(t,c.anchor),s=c._offset+c._length/2,a="right"===c.side?o._length+m+y*(c.showticklabels?1:.5):-m-y*(c.showticklabels?.5:0),a+=o._offset,i={rotate:"-90",offset:0},d.side||(d.side="left")),l.draw(t,e+"title",{propContainer:c,propName:c._name+".title",placeholder:f._dfltTitle[p],avoid:d,transform:i,attributes:{x:a,y:s,"text-anchor":"middle"}})}}function Z(t,e){return!0===t.visible&&t.xaxis+t.yaxis===e&&(!(!o.traceIs(t,"bar")||t.orientation!=={x:"h",y:"v"}[b])||t.fill&&t.fill.charAt(t.fill.length-1)===b)}function J(r,i,o){var s=r.gridlayer.selectAll("."+e),l=r.zerolinelayer,u=r["hidegrid"+b]?[]:R,f=h._gridpath||("x"===b?"M0,"+i._offset+"v":"M"+i._offset+",0h")+i._length,d=s.selectAll("path."+S).data(!1===h.showgrid?[]:u,A);if(d.enter().append("path").classed(S,1).classed("crisp",1).attr("d",f).each(function(t){h.zeroline&&("linear"===h.type||"-"===h.type)&&Math.abs(t.x)<h.dtick/100&&n.select(this).remove()}),d.attr("transform",v).call(c.stroke,h.gridcolor||"#ddd").style("stroke-width",I+"px"),"function"==typeof f&&d.attr("d",f),d.exit().remove(),l){for(var p=!1,y=0;y<t._fullData.length;y++)if(Z(t._fullData[y],o)){p=!0;break}var g=a.simpleMap(h.range,h.r2l),m=g[0]*g[1]<=0&&h.zeroline&&("linear"===h.type||"-"===h.type)&&u.length&&(p||W({x:0})||!h.showline),x=l.selectAll("path."+O).data(m?[{x:0,id:e}]:[]);x.enter().append("path").classed(O,1).classed("zl",1).classed("crisp",1).attr("d",f).each(function(){l.selectAll("path").sort(function(t,e){return T.idSort(t.id,e.id)})}),x.attr("transform",v).call(c.stroke,h.zerolinecolor||c.defaultLine).style("stroke-width",P+"px"),x.exit().remove()}}},_.swap=function(t,e){for(var r=function(t,e){var r,n,i=[];for(r=0;r<e.length;r++){var o=[],a=t._fullData[e[r]].xaxis,s=t._fullData[e[r]].yaxis;if(a&&s){for(n=0;n<i.length;n++)-1===i[n].x.indexOf(a)&&-1===i[n].y.indexOf(s)||o.push(n);if(o.length){var l,c=i[o[0]];if(o.length>1)for(n=1;n<o.length;n++)l=i[o[n]],q(c.x,l.x),q(c.y,l.y);q(c.x,[a]),q(c.y,[s])}else i.push({x:[a],y:[s]})}}return i}(t,e),n=0;n<r.length;n++)H(t,r[n].x,r[n].y)}},function(t,e,r){"use strict";e.defaultConfig=r(63),e.Plots=r(14),e.Axes=r(11),e.ModeBar=r(160),r(335)},function(t,e,r){"use strict";var n=r(30),i=r(198),o=r(75),a=r(17),s=r(16),l=r(199),c=function(){function t(t){this.closed=!1,this._parent=null,this._parents=null,this._subscriptions=null,t&&(this._unsubscribe=t)}var e;return t.prototype.unsubscribe=function(){var t,e=!1;if(!this.closed){var r=this._parent,c=this._parents,h=this._unsubscribe,f=this._subscriptions;this.closed=!0,this._parent=null,this._parents=null,this._subscriptions=null;for(var d=-1,p=c?c.length:0;r;)r.remove(this),r=++d<p&&c[d]||null;if(o.isFunction(h))a.tryCatch(h).call(this)===s.errorObject&&(e=!0,t=t||(s.errorObject.e instanceof l.UnsubscriptionError?u(s.errorObject.e.errors):[s.errorObject.e]));if(n.isArray(f))for(d=-1,p=f.length;++d<p;){var v=f[d];if(i.isObject(v))if(a.tryCatch(v.unsubscribe).call(v)===s.errorObject){e=!0,t=t||[];var y=s.errorObject.e;y instanceof l.UnsubscriptionError?t=t.concat(u(y.errors)):t.push(y)}}if(e)throw new l.UnsubscriptionError(t)}},t.prototype.add=function(e){if(!e||e===t.EMPTY)return t.EMPTY;if(e===this)return this;var r=e;switch(typeof e){case"function":r=new t(e);case"object":if(r.closed||"function"!=typeof r.unsubscribe)return r;if(this.closed)return r.unsubscribe(),r;if("function"!=typeof r._addParent){var n=r;(r=new t)._subscriptions=[n]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}return(this._subscriptions||(this._subscriptions=[])).push(r),r._addParent(this),r},t.prototype.remove=function(t){var e=this._subscriptions;if(e){var r=e.indexOf(t);-1!==r&&e.splice(r,1)}},t.prototype._addParent=function(t){var e=this._parent,r=this._parents;e&&e!==t?r?-1===r.indexOf(t)&&r.push(t):this._parents=[t]:this._parent=t},t.EMPTY=((e=new t).closed=!0,e),t}();function u(t){return t.reduce(function(t,e){return t.concat(e instanceof l.UnsubscriptionError?e.errors:e)},[])}e.Subscription=c},function(t,e,r){"use strict";var n=r(3),i=r(6),o=r(12),a=r(64),s=r(5),l=r(24),c=r(1),u=c._,h=r(4),f=r(21).BADNUM,d=t.exports={},p=r(95),v=r(151),y=c.relinkPrivateKeys;c.extendFlat(d,s),d.attributes=r(47),d.attributes.type.values=d.allTypes,d.fontAttrs=r(20),d.layoutAttributes=r(48),d.fontWeight="normal";var g,m=d.transformsRegistry,b=r(35),x=r(330);function w(t,e){var r,n,i=t.trace,o=i._arrayAttrs,a={};for(r=0;r<o.length;r++)a[n=o[r]]=c.nestedProperty(i,n).get().slice();for(t.trace=e,r=0;r<o.length;r++)n=o[r],c.nestedProperty(t.trace,n).set(a[n])}d.executeAPICommand=x.executeAPICommand,d.computeAPICommandBindings=x.computeAPICommandBindings,d.manageCommandObserver=x.manageCommandObserver,d.hasSimpleAPICommandBindings=x.hasSimpleAPICommandBindings,d.redrawText=function(t){if(!((t=c.getGraphDiv(t)).data&&t.data[0]&&t.data[0].r))return new Promise(function(e){setTimeout(function(){s.getComponentMethod("annotations","draw")(t),s.getComponentMethod("legend","draw")(t),(t.calcdata||[]).forEach(function(t){t[0]&&t[0].t&&t[0].t.cb&&t[0].t.cb()}),e(d.previousPromises(t))},300)})},d.resize=function(t){return t=c.getGraphDiv(t),new Promise(function(e,r){t&&!function(t){var e=window.getComputedStyle(t).display;return!e||"none"===e}(t)||r(new Error("Resize must be passed a displayed plot div element.")),t._redrawTimer&&clearTimeout(t._redrawTimer),t._redrawTimer=setTimeout(function(){if(t.layout.width&&t.layout.height)e(t);else{delete t.layout.width,delete t.layout.height;var r=t.changed;t.autoplay=!0,o.relayout(t,{autosize:!0}).then(function(){t.changed=r,e(t)})}},100)})},d.previousPromises=function(t){if((t._promises||[]).length)return Promise.all(t._promises).then(function(){t._promises=[]})},d.addLinks=function(t){if(t._context.showLink||t._context.showSources){var e=t._fullLayout,r=e._paper.selectAll("text.js-plot-link-container").data([0]);r.enter().append("text").classed("js-plot-link-container",!0).style({"font-family":'"Open Sans", Arial, sans-serif',"font-size":"12px",fill:h.defaultLine,"pointer-events":"all"}).each(function(){var t=n.select(this);t.append("tspan").classed("js-link-to-tool",!0),t.append("tspan").classed("js-link-spacer",!0),t.append("tspan").classed("js-sourcelinks",!0)});var i=r.node(),o={y:e._paper.attr("height")-9};document.body.contains(i)&&i.getComputedTextLength()>=e.width-20?(o["text-anchor"]="start",o.x=5):(o["text-anchor"]="end",o.x=e._paper.attr("width")-7),r.attr(o);var a=r.select(".js-link-to-tool"),s=r.select(".js-link-spacer"),l=r.select(".js-sourcelinks");t._context.showSources&&t._context.showSources(t),t._context.showLink&&function(t,e){e.text("");var r=e.append("a").attr({"xlink:xlink:href":"#",class:"link--impt link--embedview","font-weight":"bold"}).text(t._context.linkText+" "+String.fromCharCode(187));if(t._context.sendData)r.on("click",function(){d.sendDataToCloud(t)});else{var n=window.location.pathname.split("/"),i=window.location.search;r.attr({"xlink:xlink:show":"new","xlink:xlink:href":"/"+n[2].split(".")[0]+"/"+n[1]+i})}}(t,a),s.text(a.text()&&l.text()?" - ":"")}},d.sendDataToCloud=function(t){t.emit("plotly_beforeexport");var e=window.PLOTLYENV&&window.PLOTLYENV.BASE_URL||"https://plot.ly",r=n.select(t).append("div").attr("id","hiddenform").style("display","none"),i=r.append("form").attr({action:e+"/external",method:"post",target:"_blank"});return i.append("input").attr({type:"text",name:"data"}).node().value=d.graphJson(t,!1,"keepdata"),i.node().submit(),r.remove(),t.emit("plotly_afterexport"),!1},d.supplyDefaults=function(t){var e,r=t._fullLayout||{},i=t._fullLayout={},o=t.layout||{},a=t._fullData||[],h=t._fullData=[],f=t.data||[];t._transitionData||d.createTransitionData(t),i._dfltTitle={plot:u(t,"Click to enter Plot title"),x:u(t,"Click to enter X axis title"),y:u(t,"Click to enter Y axis title"),colorbar:u(t,"Click to enter Colorscale title"),annotation:u(t,"new text")},i._traceWord=u(t,"trace");var p=function(t){var e=t._context.locale;var r=!1,n={};function i(t){for(var e=!0,i=0;i<_.length;i++){var o=_[i];n[o]||(t[o]?n[o]=t[o]:e=!1)}e&&(r=!0)}for(var o=0;o<2;o++){for(var a=t._context.locales,l=0;l<2;l++){var c=(a[e]||{}).format;if(c&&(i(c),r))break;a=s.localeRegistry}var u=e.split("-")[0];if(r||u===e)break;e=u}r||i(s.localeRegistry.en.format);return n}(t);if(r._initialAutoSizeIsDone){var v=r.width,m=r.height;d.supplyLayoutGlobalDefaults(o,i,p),o.width||(i.width=v),o.height||(i.height=m)}else{d.supplyLayoutGlobalDefaults(o,i,p);var b=!o.width||!o.height,x=i.autosize,k=t._context&&t._context.autosizable;b&&(x||k)?d.plotAutoSize(t,o,i):b&&d.sanitizeMargins(t),!x&&b&&(o.width=i.width,o.height=i.height)}i._d3locale=function(t,e){return t.decimal=e.charAt(0),t.thousands=e.charAt(1),n.locale(t)}(p,i.separators),i._initialAutoSizeIsDone=!0,i._dataLength=f.length,i._modules=[],i._basePlotModules=[],i._subplots=function(){var t,e,r={};if(!g){g=[];var n=s.subplotsRegistry;for(var i in n){var o=n[i],a=o.attr;if(a&&(g.push(i),Array.isArray(a)))for(e=0;e<a.length;e++)c.pushUnique(g,a[e])}}for(t=0;t<g.length;t++)r[g[t]]=[];return r}(),i._globalTransforms=(t._context||{}).globalTransforms,d.supplyDataDefaults(f,h,o,i),i._has=d._hasPlotType.bind(i);var T=i._modules;for(e=0;e<T.length;e++){var A=T[e];A.cleanData&&A.cleanData(h)}if(a.length===f.length)for(e=0;e<h.length;e++)y(h[e],a[e]);d.supplyLayoutModuleDefaults(o,i,h,t._transitionData),i._hasCartesian=i._has("cartesian"),i._hasGeo=i._has("geo"),i._hasGL3D=i._has("gl3d"),i._hasGL2D=i._has("gl2d"),i._hasTernary=i._has("ternary"),i._hasPie=i._has("pie"),d.cleanPlot(h,i,a,r),d.linkSubplots(h,i,a,r),y(i,r),d.doAutoMargin(t);var M=l.list(t);for(e=0;e<M.length;e++){M[e].setScale()}if((t.calcdata||[]).length===h.length)for(e=0;e<h.length;e++){var S=h[e],O=t.calcdata[e][0];O&&O.trace&&(O.trace._hasCalcTransform?w(O,S):O.trace=S)}};var _=["days","shortDays","months","shortMonths","periods","dateTime","date","time","decimal","thousands","grouping","currency"];function k(t,e,r,n){for(var i=t.transforms,o=[t],a=0;a<i.length;a++){var s=i[a],l=m[s.type];l&&l.transform&&(o=l.transform(o,{transform:s,fullTrace:t,fullData:e,layout:r,fullLayout:n,transformIndex:a}))}return o}function T(t){for(var e=0;e<t.length;e++){t[e]._categories=t[e]._initialCategories.slice(),t[e]._categoriesMap={};for(var r=0;r<t[e]._categories.length;r++)t[e]._categoriesMap[t[e]._categories[r]]=r}}d.createTransitionData=function(t){t._transitionData||(t._transitionData={}),t._transitionData._frames||(t._transitionData._frames=[]),t._transitionData._frameHash||(t._transitionData._frameHash={}),t._transitionData._counter||(t._transitionData._counter=0),t._transitionData._interruptCallbacks||(t._transitionData._interruptCallbacks=[])},d._hasPlotType=function(t){var e,r=this._basePlotModules||[];for(e=0;e<r.length;e++){if(r[e].name===t)return!0}var n=this._modules||[];for(e=0;e<n.length;e++){var i=n[e];if(i.categories&&i.categories.indexOf(t)>=0)return!0}return!1},d.cleanPlot=function(t,e,r,n){var i,o,a=n._basePlotModules||[];for(i=0;i<a.length;i++){var s=a[i];s.clean&&s.clean(t,e,r,n)}var l=!!n._paper,c=!!n._infolayer,u=n._has&&n._has("gl"),h=e._has&&e._has("gl");u&&!h&&void 0!==n._glcontainer&&(n._glcontainer.selectAll(".gl-canvas").remove(),n._glcanvas=null);t:for(i=0;i<r.length;i++){var f=r[i].uid;for(o=0;o<t.length;o++){if(f===t[o].uid)continue t}var d=".hm"+f+",.contour"+f+",.carpet"+f+",#clip"+f+",.trace"+f;l&&n._paper.selectAll(d).remove(),c&&(n._infolayer.selectAll(".cb"+f).remove(),n._infolayer.selectAll("g.rangeslider-container").selectAll(d).remove())}n._zoomlayer&&n._zoomlayer.selectAll(".select-outline").remove()},d.linkSubplots=function(t,e,r,n){var i,o,a,s,u=n._plots||{},h=e._plots={},f=e._subplots,d={_fullData:t,_fullLayout:e},p=f.cartesian.concat(f.gl2d||[]);for(var v in f)f[v].sort(c.subplotSort);for(i=0;i<p.length;i++){var y,g=u[a=p[i]],m=l.getFromId(d,a,"x"),b=l.getFromId(d,a,"y");for(g?((y=h[a]=g).xaxis.layer!==m.layer&&(y.xlines.attr("d",null),y.xaxislayer.selectAll("*").remove()),y.yaxis.layer!==b.layer&&(y.ylines.attr("d",null),y.yaxislayer.selectAll("*").remove())):(y=h[a]={}).id=a,y.xaxis=m,y.yaxis=b,y._hasClipOnAxisFalse=!1,o=0;o<t.length;o++){var x=t[o];if(x.xaxis===y.xaxis._id&&x.yaxis===y.yaxis._id&&!1===x.cliponaxis){y._hasClipOnAxisFalse=!0;break}}}var w=l.list(d,null,!0);for(i=0;i<w.length;i++){var _=null;(s=w[i]).overlaying&&(_=l.getFromId(d,s.overlaying))&&_.overlaying&&(s.overlaying=!1,_=null),s._mainAxis=_||s,_&&(s.domain=_.domain.slice()),s._anchorAxis="free"===s.anchor?null:l.getFromId(d,s.anchor)}for(i=0;i<w.length;i++){var k="x"===(s=w[i])._id.charAt(0),T=s._mainAxis._anchorAxis,A="",M="",S="";if(T&&(S=T._mainAxis._id,A=k?s._id+S:S+s._id),!A||-1===p.indexOf(A))for(A="",o=0;o<p.length;o++){var O=(a=p[o]).indexOf("y"),C=k?a.substr(0,O):a.substr(O),L=k?a.substr(O):a.substr(0,O);if(C===s._id){M||(M=a);var j=l.getFromId(d,L);if(S&&j.overlaying===S){A=a;break}}}s._mainSubplot=A||M}},d.clearExpandedTraceDefaultColors=function(t){var e,r,n;for(r=[],(e=t._module._colorAttrs)||(t._module._colorAttrs=e=[],a.crawl(t._module.attributes,function(t,n,i,o){r[o]=n,r.length=o+1,"color"===t.valType&&void 0===t.dflt&&e.push(r.join("."))})),n=0;n<e.length;n++){c.nestedProperty(t,"_input."+e[n]).get()||c.nestedProperty(t,e[n]).set(null)}},d.supplyDataDefaults=function(t,e,r,n){var i,o,a,l=n._modules,u=n._basePlotModules,h=0,f=0;function p(t){e.push(t);var r=t._module;r&&(!0===t.visible&&c.pushUnique(l,r),c.pushUnique(u,t._module.basePlotModule),h++,!1!==t._input.visible&&f++)}n._transformModules=[];var v={},g=[];for(i=0;i<t.length;i++){if(a=t[i],(o=d.supplyTraceDefaults(a,f,n,i)).index=i,o._input=a,o._expandedIndex=h,o.transforms&&o.transforms.length)for(var m=k(o,e,r,n),b=0;b<m.length;b++){var x=m[b],w=d.supplyTraceDefaults(x,h,n,i);y(w,x),x.uid=w.uid=o.uid+b,w.index=i,w._input=a,w._fullInput=o,w._expandedIndex=h,w._expandedInput=x,p(w)}else o._fullInput=o,o._expandedInput=o,p(o);s.traceIs(o,"carpetAxis")&&(v[o.carpet]=o),s.traceIs(o,"carpetDependent")&&g.push(i)}for(i=0;i<g.length;i++)if((o=e[g[i]]).visible){var _=v[o.carpet];o._carpet=_,_&&_.visible?(o.xaxis=_.xaxis,o.yaxis=_.yaxis):o.visible=!1}},d.supplyAnimationDefaults=function(t){var e;t=t||{};var r={};function n(e,n){return c.coerce(t||{},r,p,e,n)}if(n("mode"),n("direction"),n("fromcurrent"),Array.isArray(t.frame))for(r.frame=[],e=0;e<t.frame.length;e++)r.frame[e]=d.supplyAnimationFrameDefaults(t.frame[e]||{});else r.frame=d.supplyAnimationFrameDefaults(t.frame||{});if(Array.isArray(t.transition))for(r.transition=[],e=0;e<t.transition.length;e++)r.transition[e]=d.supplyAnimationTransitionDefaults(t.transition[e]||{});else r.transition=d.supplyAnimationTransitionDefaults(t.transition||{});return r},d.supplyAnimationFrameDefaults=function(t){var e={};function r(r,n){return c.coerce(t||{},e,p.frame,r,n)}return r("duration"),r("redraw"),e},d.supplyAnimationTransitionDefaults=function(t){var e={};function r(r,n){return c.coerce(t||{},e,p.transition,r,n)}return r("duration"),r("easing"),e},d.supplyFrameDefaults=function(t){var e={};function r(r,n){return c.coerce(t,e,v,r,n)}return r("group"),r("name"),r("traces"),r("baseframe"),r("data"),r("layout"),e},d.supplyTraceDefaults=function(t,e,r,n){var i,o=r.colorway||h.defaults,a={},l=o[e%o.length];function u(e,r){return c.coerce(t,a,d.attributes,e,r)}var f=u("visible");u("type"),u("uid"),u("name",r._traceWord+" "+n);var p=d.getModule(a);if(a._module=p,p){var v=p.basePlotModule,y=v.attr;if(y){var g=r._subplots,m=v.attributes,b="";if("gl2d"!==v.name||f){if(Array.isArray(y))for(i=0;i<y.length;i++){var x=y[i],w=c.coerce(t,a,m,x);g[x]&&c.pushUnique(g[x],w),b+=w}else b=c.coerce(t,a,m,y);g[v.name]&&c.pushUnique(g[v.name],b)}}}return f&&(u("customdata"),u("ids"),d.traceIs(a,"showLegend")&&(u("showlegend"),u("legendgroup")),s.getComponentMethod("fx","supplyDefaults")(t,a,l,r),p&&(p.supplyDefaults(t,a,l,r),c.coerceHoverinfo(t,a,r)),d.traceIs(a,"noOpacity")||u("opacity"),d.traceIs(a,"notLegendIsolatable")&&(a.visible=!!a.visible),p&&p.selectPoints&&u("selectedpoints"),d.supplyTransformDefaults(t,a,r)),a},d.supplyTransformDefaults=function(t,e,r){var n=r._globalTransforms||[],i=r._transformModules||[];if(Array.isArray(t.transforms)||0!==n.length)for(var o=t.transforms||[],a=n.concat(o),s=e.transforms=[],l=0;l<a.length;l++){var u,h=a[l],f=h.type,d=m[f],p=!(h._module&&h._module===d),v=d&&"function"==typeof d.transform;d||c.warn("Unrecognized transform type "+f+"."),d&&d.supplyDefaults&&(p||v)?((u=d.supplyDefaults(h,e,r,t)).type=f,u._module=d,c.pushUnique(i,d)):u=c.extendFlat({},h),s.push(u)}},d.supplyLayoutGlobalDefaults=function(t,e,r){function n(r,n){return c.coerce(t,e,d.layoutAttributes,r,n)}var i=c.coerceFont(n,"font");n("title",e._dfltTitle.plot),c.coerceFont(n,"titlefont",{family:i.family,size:Math.round(1.4*i.size),color:i.color}),n("autosize",!(t.width&&t.height)),n("width"),n("height"),n("margin.l"),n("margin.r"),n("margin.t"),n("margin.b"),n("margin.pad"),n("margin.autoexpand"),t.width&&t.height&&d.sanitizeMargins(e),n("paper_bgcolor"),n("separators",r.decimal+r.thousands),n("hidesources"),n("colorway"),s.getComponentMethod("calendars","handleDefaults")(t,e,"calendar"),s.getComponentMethod("fx","supplyLayoutGlobalDefaults")(t,e,n)},d.plotAutoSize=function(t,e,r){var n,o,a=t._context||{},s=a.frameMargins,l=c.isPlotDiv(t);if(l&&t.emit("plotly_autosize"),a.fillFrame)n=window.innerWidth,o=window.innerHeight,document.body.style.overflow="hidden";else if(i(s)&&s>0){var u=function(t){var e,r={left:0,right:0,bottom:0,top:0};if(t)for(e in t)t.hasOwnProperty(e)&&(r.left+=t[e].left||0,r.right+=t[e].right||0,r.bottom+=t[e].bottom||0,r.top+=t[e].top||0);return r}(t._boundingBoxMargins),h=u.left+u.right,f=u.bottom+u.top,p=1-2*s,v=r._container&&r._container.node?r._container.node().getBoundingClientRect():{width:r.width,height:r.height};n=Math.round(p*(v.width-h)),o=Math.round(p*(v.height-f))}else{var y=l?window.getComputedStyle(t):{};n=parseFloat(y.width)||r.width,o=parseFloat(y.height)||r.height}var g=d.layoutAttributes.width.min,m=d.layoutAttributes.height.min;n<g&&(n=g),o<m&&(o=m);var b=!e.width&&Math.abs(r.width-n)>1,x=!e.height&&Math.abs(r.height-o)>1;(x||b)&&(b&&(r.width=n),x&&(r.height=o)),t._initialAutoSize||(t._initialAutoSize={width:n,height:o}),d.sanitizeMargins(r)},d.supplyLayoutModuleDefaults=function(t,e,r,n){var i,o,a,l=s.componentsRegistry,c=e._basePlotModules,u=s.subplotsRegistry.cartesian;for(i in l)(a=l[i]).includeBasePlot&&a.includeBasePlot(t,e);for(c.length||c.push(u),e._has("cartesian")&&u.finalizeSubplots(t,e),o=0;o<c.length;o++)(a=c[o]).supplyLayoutDefaults&&a.supplyLayoutDefaults(t,e,r);var h=e._modules;for(o=0;o<h.length;o++)(a=h[o]).supplyLayoutDefaults&&a.supplyLayoutDefaults(t,e,r);var f=e._transformModules;for(o=0;o<f.length;o++)(a=f[o]).supplyLayoutDefaults&&a.supplyLayoutDefaults(t,e,r,n);for(i in l)(a=l[i]).supplyLayoutDefaults&&a.supplyLayoutDefaults(t,e,r)},d.purge=function(t){var e=t._fullLayout||{};void 0!==e._glcontainer&&(e._glcontainer.selectAll(".gl-canvas").remove(),e._glcontainer.remove(),e._glcanvas=null),void 0!==e._geocontainer&&e._geocontainer.remove(),e._modeBar&&e._modeBar.destroy(),t._transitionData&&(t._transitionData._interruptCallbacks&&(t._transitionData._interruptCallbacks.length=0),t._transitionData._animationRaf&&window.cancelAnimationFrame(t._transitionData._animationRaf)),c.clearThrottle(),delete t.data,delete t.layout,delete t._fullData,delete t._fullLayout,delete t.calcdata,delete t.framework,delete t.empty,delete t.fid,delete t.undoqueue,delete t.undonum,delete t.autoplay,delete t.changed,delete t._promises,delete t._redrawTimer,delete t.firstscatter,delete t._hmlumcount,delete t._hmpixcount,delete t._transitionData,delete t._transitioning,delete t._initialAutoSize,delete t._transitioningWithDuration,delete t._dragging,delete t._dragged,delete t._hoverdata,delete t._snapshotInProgress,delete t._editing,delete t._replotPending,delete t._mouseDownTime,delete t._legendMouseDownTime,t.removeAllListeners&&t.removeAllListeners()},d.style=function(t){var e,r=t._fullLayout._modules,n=[];for(e=0;e<r.length;e++){var i=r[e];i.style&&c.pushUnique(n,i.style)}for(e=0;e<n.length;e++)n[e](t)},d.sanitizeMargins=function(t){if(t&&t.margin){var e,r=t.width,n=t.height,i=t.margin,o=r-(i.l+i.r),a=n-(i.t+i.b);o<0&&(e=(r-1)/(i.l+i.r),i.l=Math.floor(e*i.l),i.r=Math.floor(e*i.r)),a<0&&(e=(n-1)/(i.t+i.b),i.t=Math.floor(e*i.t),i.b=Math.floor(e*i.b))}},d.autoMargin=function(t,e,r){var n=t._fullLayout;if(n._pushmargin||(n._pushmargin={}),!1!==n.margin.autoexpand){if(r){var i=void 0===r.pad?12:r.pad;r.l+r.r>.5*n.width&&(r.l=r.r=0),r.b+r.t>.5*n.height&&(r.b=r.t=0),n._pushmargin[e]={l:{val:r.x,size:r.l+i},r:{val:r.x,size:r.r+i},b:{val:r.y,size:r.b+i},t:{val:r.y,size:r.t+i}}}else delete n._pushmargin[e];n._replotting||d.doAutoMargin(t)}},d.doAutoMargin=function(t){var e=t._fullLayout;e._size||(e._size={}),e._pushmargin||(e._pushmargin={});var r=e._size,n=JSON.stringify(r),a=Math.max(e.margin.l||0,0),s=Math.max(e.margin.r||0,0),l=Math.max(e.margin.t||0,0),c=Math.max(e.margin.b||0,0),u=e._pushmargin;if(!1!==e.margin.autoexpand)for(var h in u.base={l:{val:0,size:a},r:{val:1,size:s},t:{val:1,size:l},b:{val:0,size:c}},u){var f=u[h].l||{},d=u[h].b||{},p=f.val,v=f.size,y=d.val,g=d.size;for(var m in u){if(i(v)&&u[m].r){var b=u[m].r.val,x=u[m].r.size;if(b>p){var w=(v*b+(x-e.width)*p)/(b-p),_=(x*(1-p)+(v-e.width)*(1-b))/(b-p);w>=0&&_>=0&&w+_>a+s&&(a=w,s=_)}}if(i(g)&&u[m].t){var k=u[m].t.val,T=u[m].t.size;if(k>y){var A=(g*k+(T-e.height)*y)/(k-y),M=(T*(1-y)+(g-e.height)*(1-k))/(k-y);A>=0&&M>=0&&A+M>c+l&&(c=A,l=M)}}}}if(r.l=Math.round(a),r.r=Math.round(s),r.t=Math.round(l),r.b=Math.round(c),r.p=Math.round(e.margin.pad),r.w=Math.round(e.width)-r.l-r.r,r.h=Math.round(e.height)-r.t-r.b,!e._replotting&&"{}"!==n&&n!==JSON.stringify(e._size))return o.plot(t)},d.graphJson=function(t,e,r,n,i){(i&&e&&!t._fullData||i&&!e&&!t._fullLayout)&&d.supplyDefaults(t);var o=i?t._fullData:t.data,a=i?t._fullLayout:t.layout,s=(t._transitionData||{})._frames;function l(t){if("function"==typeof t)return null;if(c.isPlainObject(t)){var e,n,i={};for(e in t)if("function"!=typeof t[e]&&-1===["_","["].indexOf(e.charAt(0))){if("keepdata"===r){if("src"===e.substr(e.length-3))continue}else if("keepstream"===r){if("string"==typeof(n=t[e+"src"])&&n.indexOf(":")>0&&!c.isPlainObject(t.stream))continue}else if("keepall"!==r&&"string"==typeof(n=t[e+"src"])&&n.indexOf(":")>0)continue;i[e]=l(t[e])}return i}return Array.isArray(t)?t.map(l):c.isJSDate(t)?c.ms2DateTimeLocal(+t):t}var u={data:(o||[]).map(function(t){var r=l(t);return e&&delete r.fit,r})};return e||(u.layout=l(a)),t.framework&&t.framework.isPolar&&(u=t.framework.getConfig()),s&&(u.frames=l(s)),"object"===n?u:JSON.stringify(u)},d.modifyFrames=function(t,e){var r,n,i,o=t._transitionData._frames,a=t._transitionData._frameHash;for(r=0;r<e.length;r++)switch((n=e[r]).type){case"replace":i=n.value;var s=(o[n.index]||{}).name,l=i.name;o[n.index]=a[l]=i,l!==s&&(delete a[s],a[l]=i);break;case"insert":a[(i=n.value).name]=i,o.splice(n.index,0,i);break;case"delete":delete a[(i=o[n.index]).name],o.splice(n.index,1)}return Promise.resolve()},d.computeFrame=function(t,e){var r,n,i,o,a=t._transitionData._frameHash;if(!e)throw new Error("computeFrame must be given a string frame name");var s=a[e.toString()];if(!s)return!1;for(var l=[s],c=[s.name];s.baseframe&&(s=a[s.baseframe.toString()])&&-1===c.indexOf(s.name);)l.push(s),c.push(s.name);for(var u={};s=l.pop();)if(s.layout&&(u.layout=d.extendLayout(u.layout,s.layout)),s.data){if(u.data||(u.data=[]),!(n=s.traces))for(n=[],r=0;r<s.data.length;r++)n[r]=r;for(u.traces||(u.traces=[]),r=0;r<s.data.length;r++)void 0!==(i=n[r])&&null!==i&&(-1===(o=u.traces.indexOf(i))&&(o=u.data.length,u.traces[o]=i),u.data[o]=d.extendTrace(u.data[o],s.data[r]))}return u},d.recomputeFrameHash=function(t){for(var e=t._transitionData._frameHash={},r=t._transitionData._frames,n=0;n<r.length;n++){var i=r[n];i&&i.name&&(e[i.name]=i)}},d.extendObjectWithContainers=function(t,e,r){var n,i,o,a,s,l,u,h=c.extendDeepNoArrays({},e||{}),f=c.expandObjectPaths(h),p={};if(r&&r.length)for(o=0;o<r.length;o++)void 0===(i=(n=c.nestedProperty(f,r[o])).get())?c.nestedProperty(p,r[o]).set(null):(n.set(null),c.nestedProperty(p,r[o]).set(i));if(t=c.extendDeepNoArrays(t||{},f),r&&r.length)for(o=0;o<r.length;o++)if(l=c.nestedProperty(p,r[o]).get()){for(u=(s=c.nestedProperty(t,r[o])).get(),Array.isArray(u)||(u=[],s.set(u)),a=0;a<l.length;a++){var v=l[a];u[a]=null===v?null:d.extendObjectWithContainers(u[a],v)}s.set(u)}return t},d.dataArrayContainers=["transforms"],d.layoutArrayContainers=s.layoutArrayContainers,d.extendTrace=function(t,e){return d.extendObjectWithContainers(t,e,d.dataArrayContainers)},d.extendLayout=function(t,e){return d.extendObjectWithContainers(t,e,d.layoutArrayContainers)},d.transition=function(t,e,r,n,i,a){var s,l,u=Array.isArray(e)?e.length:0,h=n.slice(0,u),f=[];var p=!1;for(s=0;s<h.length;s++){l=h[s];var v=t._fullData[l]._module;if(v&&!v.animatable){var y={};for(var g in e[s])y[g]=[e[s][g]]}}var m=[d.previousPromises,function(){if(t._transitionData)return t._transitioning=!1,function(t){var e=Promise.resolve();if(!t)return e;for(;t.length;)e=e.then(t.shift());return e}(t._transitionData._interruptCallbacks)},function(){var n;for(n=0;n<h.length;n++){var i=h[n],o=t._fullData[i]._module;o&&(o.animatable&&f.push(i),t.data[h[n]]=d.extendTrace(t.data[h[n]],e[n]))}var a=c.expandObjectPaths(c.extendDeepNoArrays({},r)),s=/^[xy]axis[0-9]*$/;for(var l in a)s.test(l)&&delete a[l].range;return d.extendLayout(t.layout,a),delete t.calcdata,d.supplyDefaults(t),d.doCalcdata(t),b.calc(t),Promise.resolve()},d.rehover,function(){return t.emit("plotly_transitioning",[]),new Promise(function(e){t._transitioning=!0,a.duration>0&&(t._transitioningWithDuration=!0),t._transitionData._interruptCallbacks.push(function(){p=!0}),i.redraw&&t._transitionData._interruptCallbacks.push(function(){return o.redraw(t)}),t._transitionData._interruptCallbacks.push(function(){t.emit("plotly_transitioninterrupted",[])});var n,s,l=0,u=0;function h(){return l++,function(){var r;p||++u!==l||(r=e,t._transitionData&&(function(t){if(t)for(;t.length;)t.shift()}(t._transitionData._interruptCallbacks),Promise.resolve().then(function(){if(i.redraw)return o.redraw(t)}).then(function(){t._transitioning=!1,t._transitioningWithDuration=!1,t.emit("plotly_transitioned",[])}).then(r)))}}var d=t._fullLayout._basePlotModules,v=!1;if(r)for(s=0;s<d.length;s++)if(d[s].transitionAxes){var y=c.expandObjectPaths(r);v=d[s].transitionAxes(t,y,a,h)||v}for(v?(n=c.extendFlat({},a)).duration=0:n=a,s=0;s<d.length;s++)d[s].plot(t,f,n,h);setTimeout(h())})}],x=c.syncOrAsync(m,t);return x&&x.then||(x=Promise.resolve()),x.then(function(){return t})},d.doCalcdata=function(t,e){var r,n,i,o,c=l.list(t),u=t._fullData,h=t._fullLayout,d=new Array(u.length),p=(t.calcdata||[]).slice(0);for(t.calcdata=d,t.firstscatter=!0,h._numBoxes=0,h._numViolins=0,h._violinScaleGroupStats={},t._hmpixcount=0,t._hmlumcount=0,h._piecolormap={},h._piecolorway=null,h._piedefaultcolorcount=0,i=0;i<u.length;i++)Array.isArray(e)&&-1===e.indexOf(i)&&(d[i]=p[i]);for(i=0;i<u.length;i++)(r=u[i])._arrayAttrs=a.findArrayAttributes(r);var v=h._subplots.polar||[];for(i=0;i<v.length;i++)c.push(h[v[i]].radialaxis,h[v[i]].angularaxis);T(c);var y=!1;for(i=0;i<u.length;i++)if(!0===(r=u[i]).visible&&r.transforms)for((n=r._module)&&n.calc&&n.calc(t,r),o=0;o<r.transforms.length;o++){var g=r.transforms[o];(n=m[g.type])&&n.calcTransform&&(r._hasCalcTransform=!0,y=!0,n.calcTransform(t,r,g))}if(y){for(i=0;i<c.length;i++)c[i]._min=[],c[i]._max=[],c[i]._categories=[],c[i]._categoriesMap={};T(c)}for(i=0;i<u.length;i++){var b=[];if(!0===(r=u[i]).visible){n=r._module;var x=r.transforms||[];for(o=x.length-1;o>=0;o--)if(x[o].enabled){r._indexToPoints=x[o]._indexToPoints;break}n&&n.calc&&(b=n.calc(t,r))}Array.isArray(b)&&b[0]||(b=[{x:f,y:f}]),b[0].t||(b[0].t={}),b[0].trace=r,d[i]=b}s.getComponentMethod("fx","calc")(t)},d.rehover=function(t){t._fullLayout._rehover&&t._fullLayout._rehover()},d.generalUpdatePerTraceModule=function(t,e,r,n){var i,o=e.traceHash,a={};for(i=0;i<r.length;i++){var s=r[i],l=s[0].trace;l.visible&&(a[l.type]=a[l.type]||[],a[l.type].push(s))}for(var u in o)if(!a[u]){var h=o[u][0];h[0].trace.visible=!1,a[u]=[h]}for(var f in a){var d=a[f];d[0][0].trace._module.plot(t,e,c.filterVisible(d),n)}e.traceHash=a}},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function n(){this.constructor=t}t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=r(0),o=r(2),a=r(13),s=r(78),l=r(201),c=r(76),u=function(t){function e(e){t.call(this,e),this.destination=e}return n(e,t),e}(o.Subscriber);e.SubjectSubscriber=u;var h=function(t){function e(){t.call(this),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}return n(e,t),e.prototype[c.rxSubscriber]=function(){return new u(this)},e.prototype.lift=function(t){var e=new f(this,this);return e.operator=t,e},e.prototype.next=function(t){if(this.closed)throw new s.ObjectUnsubscribedError;if(!this.isStopped)for(var e=this.observers,r=e.length,n=e.slice(),i=0;i<r;i++)n[i].next(t)},e.prototype.error=function(t){if(this.closed)throw new s.ObjectUnsubscribedError;this.hasError=!0,this.thrownError=t,this.isStopped=!0;for(var e=this.observers,r=e.length,n=e.slice(),i=0;i<r;i++)n[i].error(t);this.observers.length=0},e.prototype.complete=function(){if(this.closed)throw new s.ObjectUnsubscribedError;this.isStopped=!0;for(var t=this.observers,e=t.length,r=t.slice(),n=0;n<e;n++)r[n].complete();this.observers.length=0},e.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},e.prototype._trySubscribe=function(e){if(this.closed)throw new s.ObjectUnsubscribedError;return t.prototype._trySubscribe.call(this,e)},e.prototype._subscribe=function(t){if(this.closed)throw new s.ObjectUnsubscribedError;return this.hasError?(t.error(this.thrownError),a.Subscription.EMPTY):this.isStopped?(t.complete(),a.Subscription.EMPTY):(this.observers.push(t),new l.SubjectSubscription(this,t))},e.prototype.asObservable=function(){var t=new i.Observable;return t.source=this,t},e.create=function(t,e){return new f(t,e)},e}(i.Observable);e.Subject=h;var f=function(t){function e(e,r){t.call(this),this.destination=e,this.source=r}return n(e,t),e.prototype.next=function(t){var e=this.destination;e&&e.next&&e.next(t)},e.prototype.error=function(t){var e=this.destination;e&&e.error&&this.destination.error(t)},e.prototype.complete=function(){var t=this.destination;t&&t.complete&&this.destination.complete()},e.prototype._subscribe=function(t){return this.source?this.source.subscribe(t):a.Subscription.EMPTY},e}(h);e.AnonymousSubject=f},function(t,e,r){"use strict";e.errorObject={e:{}}},function(t,e,r){"use strict";var n,i=r(16);function o(){try{return n.apply(this,arguments)}catch(t){return i.errorObject.e=t,i.errorObject}}e.tryCatch=function(t){return n=t,o}},function(t,e,r){"use strict";var n=r(46),i=Array.isArray;function o(t,e,r,a){var s,l,c,u,h,f,d=t[0],p=t.length;if(2===p&&i(d)&&i(t[1])&&0===d.length){if(function(t,e){var r,n;for(r=0;r<t.length;r++){if(null!==(n=t[r])&&"object"==typeof n)return!1;void 0!==n&&(e[r]=n)}return!0}(t[1],d))return d;d.splice(0,d.length)}for(var v=1;v<p;v++)for(l in s=t[v])c=d[l],u=s[l],a&&i(u)?d[l]=u:e&&u&&(n(u)||(h=i(u)))?(h?(h=!1,f=c&&i(c)?c:[]):f=c&&n(c)?c:{},d[l]=o([f,u],e,r,a)):(void 0!==u||r)&&(d[l]=u);return d}e.extendFlat=function(){return o(arguments,!1,!1,!1)},e.extendDeep=function(){return o(arguments,!0,!1,!1)},e.extendDeepAll=function(){return o(arguments,!0,!0,!1)},e.extendDeepNoArrays=function(){return o(arguments,!0,!1,!0)}},function(t,e,r){"use strict";(function(t){var r="undefined"!=typeof window&&window,n="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,i=r||void 0!==t&&t||n;e.root=i,function(){if(!i)throw new Error("RxJS could not find any global context (window, self, global)")}()}).call(e,r(51))},function(t,e,r){"use strict";t.exports=function(t){var e=t.editType,r=t.colorEditType;void 0===r&&(r=e);var n={family:{valType:"string",role:"style",noBlank:!0,strict:!0,editType:e,description:["HTML font family - the typeface that will be applied by the web browser.","The web browser will only be able to apply a font if it is available on the system","which it operates. Provide multiple font families, separated by commas, to indicate","the preference in which to apply fonts if they aren't available on the system.","The plotly service (at https://plot.ly or on-premise) generates images on a server,","where only a select number of","fonts are installed and supported.","These include *Arial*, *Balto*, *Courier New*, *Droid Sans*,, *Droid Serif*,","*Droid Sans Mono*, *Gravitas One*, *Old Standard TT*, *Open Sans*, *Overpass*,","*PT Sans Narrow*, *Raleway*, *Times New Roman*."].join(" ")},size:{valType:"number",role:"style",min:1,editType:e},color:{valType:"color",role:"style",editType:r},editType:e,description:""+(t.description||"")};return t.arrayOk&&(n.family.arrayOk=!0,n.size.arrayOk=!0,n.color.arrayOk=!0),n}},function(t,e,r){"use strict";t.exports={BADNUM:void 0,FP_SAFE:Number.MAX_VALUE/1e4,ONEAVGYEAR:315576e5,ONEAVGMONTH:26298e5,ONEDAY:864e5,ONEHOUR:36e5,ONEMIN:6e4,ONESEC:1e3,EPOCHJD:2440587.5,ALMOST_EQUAL:1-1e-6,MINUS_SIGN:""}},function(t,e,r){"use strict";var n=r(1).counterRegex;t.exports={idRegex:{x:n("x"),y:n("y")},attrRegex:n("[xy]axis"),xAxisMatch:n("xaxis"),yAxisMatch:n("yaxis"),AX_ID_PATTERN:/^[xyz][0-9]*$/,AX_NAME_PATTERN:/^[xyz]axis[0-9]*$/,SUBPLOT_PATTERN:/^x([0-9]*)y([0-9]*)$/,MINDRAG:8,MINSELECT:12,MINZOOM:20,DRAGGERSIZE:20,BENDPX:1.5,REDRAWDELAY:50,SELECTDELAY:100,SELECTID:"-select",DFLTRANGEX:[-1,6],DFLTRANGEY:[-1,4],traceLayerClasses:["imagelayer","maplayer","barlayer","carpetlayer","violinlayer","boxlayer","scatterlayer"],layerValue2layerClass:{"above traces":"above","below traces":"below"}}},function(t,e,r){"use strict";var n=r(3),i=r(1),o=r(42),a=r(322),s=r(25).LINE_SPACING;function l(t,e){return t.node().getBoundingClientRect()[e]}var c=/([^$]*)([$]+[^$]*[$]+)([^$]*)/;e.convertToTspans=function(t,r,a){var g=t.text(),C=!t.attr("data-notex")&&"undefined"!=typeof MathJax&&g.match(c),L=n.select(t.node().parentNode);if(!L.empty()){var j=t.attr("class")?t.attr("class").split(" ")[0]:"text";return j+="-math",L.selectAll("svg."+j).remove(),L.selectAll("g."+j+"-group").remove(),t.style("display",null).attr({"data-unformatted":g,"data-math":"N"}),C?(r&&r._promises||[]).push(new Promise(function(e){t.style("display","none");var r=parseInt(t.node().style.fontSize,10),o={fontSize:r};!function(t,e,r){var o="math-output-"+i.randstr([],64),a=n.select("body").append("div").attr({id:o}).style({visibility:"hidden",position:"absolute"}).style({"font-size":e.fontSize+"px"}).text((s=t,s.replace(u,"\\lt ").replace(h,"\\gt ")));var s;MathJax.Hub.Queue(["Typeset",MathJax.Hub,a.node()],function(){var e=n.select("body").select("#MathJax_SVG_glyphs");if(a.select(".MathJax_SVG").empty()||!a.select("svg").node())i.log("There was an error in the tex syntax.",t),r();else{var o=a.select("svg").node().getBoundingClientRect();r(a.select(".MathJax_SVG"),e,o)}a.remove()})}(C[2],o,function(n,i,o){L.selectAll("svg."+j).remove(),L.selectAll("g."+j+"-group").remove();var s=n&&n.select("svg");if(!s||!s.node())return I(),void e();var c=L.append("g").classed(j+"-group",!0).attr({"pointer-events":"none","data-unformatted":g,"data-math":"Y"});c.node().appendChild(s.node()),i&&i.node()&&s.node().insertBefore(i.node().cloneNode(!0),s.node().firstChild),s.attr({class:j,height:o.height,preserveAspectRatio:"xMinYMin meet"}).style({overflow:"visible","pointer-events":"none"});var u=t.node().style.fill||"black";s.select("g").attr({fill:u,stroke:u});var h=l(s,"width"),f=l(s,"height"),d=+t.attr("x")-h*{start:0,middle:.5,end:1}[t.attr("text-anchor")||"start"],p=-(r||l(t,"height"))/4;"y"===j[0]?(c.attr({transform:"rotate("+[-90,+t.attr("x"),+t.attr("y")]+") translate("+[-h/2,p-f/2]+")"}),s.attr({x:+t.attr("x"),y:+t.attr("y")})):"l"===j[0]?s.attr({x:t.attr("x"),y:p-f/2}):"a"===j[0]?s.attr({x:0,y:p}):s.attr({x:d,y:+t.attr("y")+p-f/2}),a&&a.call(t,c),e(c)})})):I(),t}function I(){L.empty()||(j=t.attr("class")+"-math",L.select("svg."+j).remove()),t.text("").style("white-space","pre"),function(t,e){e=(r=e,function(t,e){if(!t)return"";for(var r=0;r<e.length;r++){var n=e[r];t=t.replace(n.regExp,n.sub)}return t}(r,m)).replace(b," ");var r;var a,l=!1,c=[],u=-1;function h(){u++;var e=document.createElementNS(o.svg,"tspan");n.select(e).attr({class:"line",dy:u*s+"em"}),t.appendChild(e),a=e;var r=c;if(c=[{node:e}],r.length>1)for(var i=1;i<r.length;i++)g(r[i])}function g(t){var e,r=t.type,i={};if("a"===r){e="a";var s=t.target,l=t.href,u=t.popup;l&&(i={"xlink:xlink:show":"_blank"===s||"_"!==s.charAt(0)?"new":"replace",target:s,"xlink:xlink:href":l},u&&(i.onclick='window.open(this.href.baseVal,this.target.baseVal,"'+u+'");return false;'))}else e="tspan";t.style&&(i.style=t.style);var h=document.createElementNS(o.svg,e);if("sup"===r||"sub"===r){C(a,v),a.appendChild(h);var f=document.createElementNS(o.svg,"tspan");C(f,v),n.select(f).attr("dy",p[r]),i.dy=d[r],a.appendChild(h),a.appendChild(f)}else a.appendChild(h);n.select(h).attr(i),a=t.node=h,c.push(t)}function C(t,e){t.appendChild(document.createTextNode(e))}function L(t){if(1!==c.length){var r=c.pop();t!==r.type&&i.log("Start tag <"+r.type+"> doesnt match end tag <"+t+">. Pretending it did match.",e),a=c[c.length-1].node}else i.log("Ignoring unexpected end tag </"+t+">.",e)}_.test(e)?h():(a=t,c=[{node:t}]);for(var j=e.split(x),I=0;I<j.length;I++){var P=j[I],E=P.match(w),z=E&&E[2].toLowerCase(),N=f[z];if("br"===z)h();else if(void 0===N)C(a,P);else if(E[1])L(z);else{var D=E[4],R={type:z},F=S(D,k);if(F?(F=F.replace(O,"$1 fill:"),N&&(F+=";"+N)):N&&(F=N),F&&(R.style=F),"a"===z){l=!0;var B=S(D,T);if(B){var V=document.createElement("a");V.href=B,-1!==y.indexOf(V.protocol)&&(R.href=encodeURI(B),R.target=S(D,A)||"_blank",R.popup=S(D,M))}}g(R)}}return l}(t.node(),g)&&t.style("pointer-events","all"),e.positionText(t),a&&a.call(t)}};var u=/(<|&lt;|&#60;)/g,h=/(>|&gt;|&#62;)/g;var f={sup:"font-size:70%",sub:"font-size:70%",b:"font-weight:bold",i:"font-style:italic",a:"cursor:pointer",span:"",em:"font-style:italic;font-weight:bold"},d={sub:"0.3em",sup:"-0.6em"},p={sub:"-0.21em",sup:"0.42em"},v="",y=["http:","https:","mailto:","",void 0,":"],g=new RegExp("</?("+Object.keys(f).join("|")+")( [^>]*)?/?>","g"),m=Object.keys(a.entityToUnicode).map(function(t){return{regExp:new RegExp("&"+t+";","g"),sub:a.entityToUnicode[t]}}),b=/(\r\n?|\n)/g,x=/(<[^<>]*>)/,w=/<(\/?)([^ >]*)(\s+(.*))?>/i,_=/<br(\s+.*)?>/i,k=/(^|[\s"'])style\s*=\s*("([^"]*);?"|'([^']*);?')/i,T=/(^|[\s"'])href\s*=\s*("([^"]*)"|'([^']*)')/i,A=/(^|[\s"'])target\s*=\s*("([^"\s]*)"|'([^'\s]*)')/i,M=/(^|[\s"'])popup\s*=\s*("([\w=,]*)"|'([\w=,]*)')/i;function S(t,e){if(!t)return null;var r=t.match(e);return r&&(r[3]||r[4])}var O=/(^|;)\s*color:/;function C(t,e,r){var n,i,o,a=r.horizontalAlign,s=r.verticalAlign||"top",l=t.node().getBoundingClientRect(),c=e.node().getBoundingClientRect();return i="bottom"===s?function(){return l.bottom-n.height}:"middle"===s?function(){return l.top+(l.height-n.height)/2}:function(){return l.top},o="right"===a?function(){return l.right-n.width}:"center"===a?function(){return l.left+(l.width-n.width)/2}:function(){return l.left},function(){return n=this.node().getBoundingClientRect(),this.style({top:i()-c.top+"px",left:o()-c.left+"px","z-index":1e3}),this}}e.plainText=function(t){return(t||"").replace(g," ")},e.lineCount=function(t){return t.selectAll("tspan.line").size()||1},e.positionText=function(t,e,r){return t.each(function(){var t=n.select(this);function i(e,r){return void 0===r?null===(r=t.attr(e))&&(t.attr(e,0),r=0):t.attr(e,r),r}var o=i("x",e),a=i("y",r);"text"===this.nodeName&&t.selectAll("tspan.line").attr({x:o,y:a})})},e.makeEditable=function(t,e){var r=e.gd,i=e.delegate,o=n.dispatch("edit","input","cancel"),a=i||t;if(t.style({"pointer-events":i?"none":"all"}),1!==t.size())throw new Error("boo");function s(){var i,s,c,u;i=n.select(r).select(".svg-container"),s=i.append("div"),c=t.node().style,u=parseFloat(c.fontSize||12),s.classed("plugin-editable editable",!0).style({position:"absolute","font-family":c.fontFamily||"Arial","font-size":u,color:e.fill||c.fill||"black",opacity:1,"background-color":e.background||"transparent",outline:"#ffffff33 1px solid",margin:[-u/8+1,0,0,-1].join("px ")+"px",padding:"0","box-sizing":"border-box"}).attr({contenteditable:!0}).text(e.text||t.attr("data-unformatted")).call(C(t,i,e)).on("blur",function(){r._editing=!1,t.text(this.textContent).style({opacity:1});var e,i=n.select(this).attr("class");(e=i?"."+i.split(" ")[0]+"-math-group":"[class*=-math-group]")&&n.select(t.node().parentNode).select(e).style({opacity:0});var a=this.textContent;n.select(this).transition().duration(0).remove(),n.select(document).on("mouseup",null),o.edit.call(t,a)}).on("focus",function(){var t=this;r._editing=!0,n.select(document).on("mouseup",function(){if(n.event.target===t)return!1;document.activeElement===s.node()&&s.node().blur()})}).on("keyup",function(){27===n.event.which?(r._editing=!1,t.style({opacity:1}),n.select(this).style({opacity:0}).on("blur",function(){return!1}).transition().remove(),o.cancel.call(t,this.textContent)):(o.input.call(t,this.textContent),n.select(this).call(C(t,i,e)))}).on("keydown",function(){13===n.event.which&&this.blur()}).call(l),t.style({opacity:0});var h,f=a.attr("class");(h=f?"."+f.split(" ")[0]+"-math-group":"[class*=-math-group]")&&n.select(t.node().parentNode).select(h).style({opacity:0})}function l(t){var e=t.node(),r=document.createRange();r.selectNodeContents(e);var n=window.getSelection();n.removeAllRanges(),n.addRange(r),e.focus()}return e.immediate?s():a.on("click",s),n.rebind(t,o,"on")}},function(t,e,r){"use strict";var n=r(5),i=r(22);e.id2name=function(t){if("string"==typeof t&&t.match(i.AX_ID_PATTERN)){var e=t.substr(1);return"1"===e&&(e=""),t.charAt(0)+"axis"+e}},e.name2id=function(t){if(t.match(i.AX_NAME_PATTERN)){var e=t.substr(5);return"1"===e&&(e=""),t.charAt(0)+e}},e.cleanId=function(t,e){if(t.match(i.AX_ID_PATTERN)&&(!e||t.charAt(0)===e)){var r=t.substr(1).replace(/^0+/,"");return"1"===r&&(r=""),t.charAt(0)+r}},e.list=function(t,r,n){var i=t._fullLayout;if(!i)return[];var o,a=e.listIds(t,r),s=new Array(a.length);for(o=0;o<a.length;o++){var l=a[o];s[o]=i[l.charAt(0)+"axis"+l.substr(1)]}if(!n){var c=i._subplots.gl3d||[];for(o=0;o<c.length;o++){var u=i[c[o]];r?s.push(u[r+"axis"]):s.push(u.xaxis,u.yaxis,u.zaxis)}}return s},e.listIds=function(t,e){var r=t._fullLayout;if(!r)return[];var n=r._subplots;return e?n[e+"axis"]:n.xaxis.concat(n.yaxis)},e.getFromId=function(t,r,n){var i=t._fullLayout;return"x"===n?r=r.replace(/y[0-9]*/,""):"y"===n&&(r=r.replace(/x[0-9]*/,"")),i[e.id2name(r)]},e.getFromTrace=function(t,r,i){var o=t._fullLayout,a=null;if(n.traceIs(r,"gl3d")){var s=r.scene;"scene"===s.substr(0,5)&&(a=o[s][i+"axis"])}else a=e.getFromId(t,r[i+"axis"]||i);return a},e.idSort=function(t,e){var r=t.charAt(0),n=e.charAt(0);return r!==n?r>n?1:-1:+(t.substr(1)||1)-+(e.substr(1)||1)}},function(t,e,r){"use strict";t.exports={FROM_BL:{left:0,center:.5,right:1,bottom:0,middle:.5,top:1},FROM_TL:{left:0,center:.5,right:1,bottom:1,middle:.5,top:0},LINE_SPACING:1.3,MID_SHIFT:.35,OPPOSITE_SIDE:{left:"right",right:"left",top:"bottom",bottom:"top"}}},function(t,e,r){"use strict";var n=r(1);t.exports={hasLines:function(t){return t.visible&&t.mode&&-1!==t.mode.indexOf("lines")},hasMarkers:function(t){return t.visible&&t.mode&&-1!==t.mode.indexOf("markers")},hasText:function(t){return t.visible&&t.mode&&-1!==t.mode.indexOf("text")},isBubble:function(t){return n.isPlainObject(t.marker)&&Array.isArray(t.marker.size)}}},function(t,e,r){"use strict";t.exports=r(302)},function(t,e,r){var n;!function(i){var o=/^\s+/,a=/\s+$/,s=0,l=i.round,c=i.min,u=i.max,h=i.random;function f(t,e){if(t=t||"",e=e||{},t instanceof f)return t;if(!(this instanceof f))return new f(t,e);var r=function(t){var e={r:0,g:0,b:0},r=1,n=null,s=null,l=null,h=!1,f=!1;"string"==typeof t&&(t=function(t){t=t.replace(o,"").replace(a,"").toLowerCase();var e,r=!1;if(L[t])t=L[t],r=!0;else if("transparent"==t)return{r:0,g:0,b:0,a:0,format:"name"};if(e=H.rgb.exec(t))return{r:e[1],g:e[2],b:e[3]};if(e=H.rgba.exec(t))return{r:e[1],g:e[2],b:e[3],a:e[4]};if(e=H.hsl.exec(t))return{h:e[1],s:e[2],l:e[3]};if(e=H.hsla.exec(t))return{h:e[1],s:e[2],l:e[3],a:e[4]};if(e=H.hsv.exec(t))return{h:e[1],s:e[2],v:e[3]};if(e=H.hsva.exec(t))return{h:e[1],s:e[2],v:e[3],a:e[4]};if(e=H.hex8.exec(t))return{r:z(e[1]),g:z(e[2]),b:z(e[3]),a:F(e[4]),format:r?"name":"hex8"};if(e=H.hex6.exec(t))return{r:z(e[1]),g:z(e[2]),b:z(e[3]),format:r?"name":"hex"};if(e=H.hex4.exec(t))return{r:z(e[1]+""+e[1]),g:z(e[2]+""+e[2]),b:z(e[3]+""+e[3]),a:F(e[4]+""+e[4]),format:r?"name":"hex8"};if(e=H.hex3.exec(t))return{r:z(e[1]+""+e[1]),g:z(e[2]+""+e[2]),b:z(e[3]+""+e[3]),format:r?"name":"hex"};return!1}(t));"object"==typeof t&&(U(t.r)&&U(t.g)&&U(t.b)?(d=t.r,p=t.g,v=t.b,e={r:255*P(d,255),g:255*P(p,255),b:255*P(v,255)},h=!0,f="%"===String(t.r).substr(-1)?"prgb":"rgb"):U(t.h)&&U(t.s)&&U(t.v)?(n=D(t.s),s=D(t.v),e=function(t,e,r){t=6*P(t,360),e=P(e,100),r=P(r,100);var n=i.floor(t),o=t-n,a=r*(1-e),s=r*(1-o*e),l=r*(1-(1-o)*e),c=n%6;return{r:255*[r,s,a,a,l,r][c],g:255*[l,r,r,s,a,a][c],b:255*[a,a,l,r,r,s][c]}}(t.h,n,s),h=!0,f="hsv"):U(t.h)&&U(t.s)&&U(t.l)&&(n=D(t.s),l=D(t.l),e=function(t,e,r){var n,i,o;function a(t,e,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+6*(e-t)*r:r<.5?e:r<2/3?t+(e-t)*(2/3-r)*6:t}if(t=P(t,360),e=P(e,100),r=P(r,100),0===e)n=i=o=r;else{var s=r<.5?r*(1+e):r+e-r*e,l=2*r-s;n=a(l,s,t+1/3),i=a(l,s,t),o=a(l,s,t-1/3)}return{r:255*n,g:255*i,b:255*o}}(t.h,n,l),h=!0,f="hsl"),t.hasOwnProperty("a")&&(r=t.a));var d,p,v;return r=I(r),{ok:h,format:t.format||f,r:c(255,u(e.r,0)),g:c(255,u(e.g,0)),b:c(255,u(e.b,0)),a:r}}(t);this._originalInput=t,this._r=r.r,this._g=r.g,this._b=r.b,this._a=r.a,this._roundA=l(100*this._a)/100,this._format=e.format||r.format,this._gradientType=e.gradientType,this._r<1&&(this._r=l(this._r)),this._g<1&&(this._g=l(this._g)),this._b<1&&(this._b=l(this._b)),this._ok=r.ok,this._tc_id=s++}function d(t,e,r){t=P(t,255),e=P(e,255),r=P(r,255);var n,i,o=u(t,e,r),a=c(t,e,r),s=(o+a)/2;if(o==a)n=i=0;else{var l=o-a;switch(i=s>.5?l/(2-o-a):l/(o+a),o){case t:n=(e-r)/l+(e<r?6:0);break;case e:n=(r-t)/l+2;break;case r:n=(t-e)/l+4}n/=6}return{h:n,s:i,l:s}}function p(t,e,r){t=P(t,255),e=P(e,255),r=P(r,255);var n,i,o=u(t,e,r),a=c(t,e,r),s=o,l=o-a;if(i=0===o?0:l/o,o==a)n=0;else{switch(o){case t:n=(e-r)/l+(e<r?6:0);break;case e:n=(r-t)/l+2;break;case r:n=(t-e)/l+4}n/=6}return{h:n,s:i,v:s}}function v(t,e,r,n){var i=[N(l(t).toString(16)),N(l(e).toString(16)),N(l(r).toString(16))];return n&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function y(t,e,r,n){return[N(R(n)),N(l(t).toString(16)),N(l(e).toString(16)),N(l(r).toString(16))].join("")}function g(t,e){e=0===e?0:e||10;var r=f(t).toHsl();return r.s-=e/100,r.s=E(r.s),f(r)}function m(t,e){e=0===e?0:e||10;var r=f(t).toHsl();return r.s+=e/100,r.s=E(r.s),f(r)}function b(t){return f(t).desaturate(100)}function x(t,e){e=0===e?0:e||10;var r=f(t).toHsl();return r.l+=e/100,r.l=E(r.l),f(r)}function w(t,e){e=0===e?0:e||10;var r=f(t).toRgb();return r.r=u(0,c(255,r.r-l(-e/100*255))),r.g=u(0,c(255,r.g-l(-e/100*255))),r.b=u(0,c(255,r.b-l(-e/100*255))),f(r)}function _(t,e){e=0===e?0:e||10;var r=f(t).toHsl();return r.l-=e/100,r.l=E(r.l),f(r)}function k(t,e){var r=f(t).toHsl(),n=(r.h+e)%360;return r.h=n<0?360+n:n,f(r)}function T(t){var e=f(t).toHsl();return e.h=(e.h+180)%360,f(e)}function A(t){var e=f(t).toHsl(),r=e.h;return[f(t),f({h:(r+120)%360,s:e.s,l:e.l}),f({h:(r+240)%360,s:e.s,l:e.l})]}function M(t){var e=f(t).toHsl(),r=e.h;return[f(t),f({h:(r+90)%360,s:e.s,l:e.l}),f({h:(r+180)%360,s:e.s,l:e.l}),f({h:(r+270)%360,s:e.s,l:e.l})]}function S(t){var e=f(t).toHsl(),r=e.h;return[f(t),f({h:(r+72)%360,s:e.s,l:e.l}),f({h:(r+216)%360,s:e.s,l:e.l})]}function O(t,e,r){e=e||6,r=r||30;var n=f(t).toHsl(),i=360/r,o=[f(t)];for(n.h=(n.h-(i*e>>1)+720)%360;--e;)n.h=(n.h+i)%360,o.push(f(n));return o}function C(t,e){e=e||6;for(var r=f(t).toHsv(),n=r.h,i=r.s,o=r.v,a=[],s=1/e;e--;)a.push(f({h:n,s:i,v:o})),o=(o+s)%1;return a}f.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var t=this.toRgb();return(299*t.r+587*t.g+114*t.b)/1e3},getLuminance:function(){var t,e,r,n=this.toRgb();return t=n.r/255,e=n.g/255,r=n.b/255,.2126*(t<=.03928?t/12.92:i.pow((t+.055)/1.055,2.4))+.7152*(e<=.03928?e/12.92:i.pow((e+.055)/1.055,2.4))+.0722*(r<=.03928?r/12.92:i.pow((r+.055)/1.055,2.4))},setAlpha:function(t){return this._a=I(t),this._roundA=l(100*this._a)/100,this},toHsv:function(){var t=p(this._r,this._g,this._b);return{h:360*t.h,s:t.s,v:t.v,a:this._a}},toHsvString:function(){var t=p(this._r,this._g,this._b),e=l(360*t.h),r=l(100*t.s),n=l(100*t.v);return 1==this._a?"hsv("+e+", "+r+"%, "+n+"%)":"hsva("+e+", "+r+"%, "+n+"%, "+this._roundA+")"},toHsl:function(){var t=d(this._r,this._g,this._b);return{h:360*t.h,s:t.s,l:t.l,a:this._a}},toHslString:function(){var t=d(this._r,this._g,this._b),e=l(360*t.h),r=l(100*t.s),n=l(100*t.l);return 1==this._a?"hsl("+e+", "+r+"%, "+n+"%)":"hsla("+e+", "+r+"%, "+n+"%, "+this._roundA+")"},toHex:function(t){return v(this._r,this._g,this._b,t)},toHexString:function(t){return"#"+this.toHex(t)},toHex8:function(t){return function(t,e,r,n,i){var o=[N(l(t).toString(16)),N(l(e).toString(16)),N(l(r).toString(16)),N(R(n))];if(i&&o[0].charAt(0)==o[0].charAt(1)&&o[1].charAt(0)==o[1].charAt(1)&&o[2].charAt(0)==o[2].charAt(1)&&o[3].charAt(0)==o[3].charAt(1))return o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0)+o[3].charAt(0);return o.join("")}(this._r,this._g,this._b,this._a,t)},toHex8String:function(t){return"#"+this.toHex8(t)},toRgb:function(){return{r:l(this._r),g:l(this._g),b:l(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+l(this._r)+", "+l(this._g)+", "+l(this._b)+")":"rgba("+l(this._r)+", "+l(this._g)+", "+l(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:l(100*P(this._r,255))+"%",g:l(100*P(this._g,255))+"%",b:l(100*P(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+l(100*P(this._r,255))+"%, "+l(100*P(this._g,255))+"%, "+l(100*P(this._b,255))+"%)":"rgba("+l(100*P(this._r,255))+"%, "+l(100*P(this._g,255))+"%, "+l(100*P(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(j[v(this._r,this._g,this._b,!0)]||!1)},toFilter:function(t){var e="#"+y(this._r,this._g,this._b,this._a),r=e,n=this._gradientType?"GradientType = 1, ":"";if(t){var i=f(t);r="#"+y(i._r,i._g,i._b,i._a)}return"progid:DXImageTransform.Microsoft.gradient("+n+"startColorstr="+e+",endColorstr="+r+")"},toString:function(t){var e=!!t;t=t||this._format;var r=!1,n=this._a<1&&this._a>=0;return e||!n||"hex"!==t&&"hex6"!==t&&"hex3"!==t&&"hex4"!==t&&"hex8"!==t&&"name"!==t?("rgb"===t&&(r=this.toRgbString()),"prgb"===t&&(r=this.toPercentageRgbString()),"hex"!==t&&"hex6"!==t||(r=this.toHexString()),"hex3"===t&&(r=this.toHexString(!0)),"hex4"===t&&(r=this.toHex8String(!0)),"hex8"===t&&(r=this.toHex8String()),"name"===t&&(r=this.toName()),"hsl"===t&&(r=this.toHslString()),"hsv"===t&&(r=this.toHsvString()),r||this.toHexString()):"name"===t&&0===this._a?this.toName():this.toRgbString()},clone:function(){return f(this.toString())},_applyModification:function(t,e){var r=t.apply(null,[this].concat([].slice.call(e)));return this._r=r._r,this._g=r._g,this._b=r._b,this.setAlpha(r._a),this},lighten:function(){return this._applyModification(x,arguments)},brighten:function(){return this._applyModification(w,arguments)},darken:function(){return this._applyModification(_,arguments)},desaturate:function(){return this._applyModification(g,arguments)},saturate:function(){return this._applyModification(m,arguments)},greyscale:function(){return this._applyModification(b,arguments)},spin:function(){return this._applyModification(k,arguments)},_applyCombination:function(t,e){return t.apply(null,[this].concat([].slice.call(e)))},analogous:function(){return this._applyCombination(O,arguments)},complement:function(){return this._applyCombination(T,arguments)},monochromatic:function(){return this._applyCombination(C,arguments)},splitcomplement:function(){return this._applyCombination(S,arguments)},triad:function(){return this._applyCombination(A,arguments)},tetrad:function(){return this._applyCombination(M,arguments)}},f.fromRatio=function(t,e){if("object"==typeof t){var r={};for(var n in t)t.hasOwnProperty(n)&&(r[n]="a"===n?t[n]:D(t[n]));t=r}return f(t,e)},f.equals=function(t,e){return!(!t||!e)&&f(t).toRgbString()==f(e).toRgbString()},f.random=function(){return f.fromRatio({r:h(),g:h(),b:h()})},f.mix=function(t,e,r){r=0===r?0:r||50;var n=f(t).toRgb(),i=f(e).toRgb(),o=r/100;return f({r:(i.r-n.r)*o+n.r,g:(i.g-n.g)*o+n.g,b:(i.b-n.b)*o+n.b,a:(i.a-n.a)*o+n.a})},f.readability=function(t,e){var r=f(t),n=f(e);return(i.max(r.getLuminance(),n.getLuminance())+.05)/(i.min(r.getLuminance(),n.getLuminance())+.05)},f.isReadable=function(t,e,r){var n,i,o=f.readability(t,e);switch(i=!1,(n=function(t){var e,r;e=((t=t||{level:"AA",size:"small"}).level||"AA").toUpperCase(),r=(t.size||"small").toLowerCase(),"AA"!==e&&"AAA"!==e&&(e="AA");"small"!==r&&"large"!==r&&(r="small");return{level:e,size:r}}(r)).level+n.size){case"AAsmall":case"AAAlarge":i=o>=4.5;break;case"AAlarge":i=o>=3;break;case"AAAsmall":i=o>=7}return i},f.mostReadable=function(t,e,r){var n,i,o,a,s=null,l=0;i=(r=r||{}).includeFallbackColors,o=r.level,a=r.size;for(var c=0;c<e.length;c++)(n=f.readability(t,e[c]))>l&&(l=n,s=f(e[c]));return f.isReadable(t,s,{level:o,size:a})||!i?s:(r.includeFallbackColors=!1,f.mostReadable(t,["#fff","#000"],r))};var L=f.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},j=f.hexNames=function(t){var e={};for(var r in t)t.hasOwnProperty(r)&&(e[t[r]]=r);return e}(L);function I(t){return t=parseFloat(t),(isNaN(t)||t<0||t>1)&&(t=1),t}function P(t,e){(function(t){return"string"==typeof t&&-1!=t.indexOf(".")&&1===parseFloat(t)})(t)&&(t="100%");var r=function(t){return"string"==typeof t&&-1!=t.indexOf("%")}(t);return t=c(e,u(0,parseFloat(t))),r&&(t=parseInt(t*e,10)/100),i.abs(t-e)<1e-6?1:t%e/parseFloat(e)}function E(t){return c(1,u(0,t))}function z(t){return parseInt(t,16)}function N(t){return 1==t.length?"0"+t:""+t}function D(t){return t<=1&&(t=100*t+"%"),t}function R(t){return i.round(255*parseFloat(t)).toString(16)}function F(t){return z(t)/255}var B,V,q,H=(V="[\\s|\\(]+("+(B="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)")+")[,|\\s]+("+B+")[,|\\s]+("+B+")\\s*\\)?",q="[\\s|\\(]+("+B+")[,|\\s]+("+B+")[,|\\s]+("+B+")[,|\\s]+("+B+")\\s*\\)?",{CSS_UNIT:new RegExp(B),rgb:new RegExp("rgb"+V),rgba:new RegExp("rgba"+q),hsl:new RegExp("hsl"+V),hsla:new RegExp("hsla"+q),hsv:new RegExp("hsv"+V),hsva:new RegExp("hsva"+q),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/});function U(t){return!!H.CSS_UNIT.exec(t)}void 0!==t&&t.exports?t.exports=f:void 0===(n=function(){return f}.call(e,r,e,t))||(t.exports=n)}(Math)},function(t,e,r){"use strict";e.isScheduler=function(t){return t&&"function"==typeof t.schedule}},function(t,e,r){"use strict";e.isArray=Array.isArray||function(t){return t&&"number"==typeof t.length}},function(t,e,r){"use strict";e.defaults=["#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b","#e377c2","#7f7f7f","#bcbd22","#17becf"],e.defaultLine="#444",e.lightLine="#eee",e.background="#fff",e.borderLine="#BEC8D9",e.lightFraction=1e3/11},function(t,e,r){"use strict";var n=r(3),i=r(1),o=r(33),a=r(69),s=r(110);t.exports={moduleType:"component",name:"fx",constants:r(52),schema:{layout:s},attributes:r(90),layoutAttributes:s,supplyLayoutGlobalDefaults:r(344),supplyDefaults:r(345),supplyLayoutDefaults:r(346),calc:r(347),getDistanceFunction:a.getDistanceFunction,getClosest:a.getClosest,inbox:a.inbox,quadrature:a.quadrature,appendArrayPointValue:a.appendArrayPointValue,castHoverOption:function(t,e,r){return i.castOption(t,e,"hoverlabel."+r)},castHoverinfo:function(t,e,r){return i.castOption(t,r,"hoverinfo",function(r){return i.coerceHoverinfo({hoverinfo:r},{_module:t._module},e)})},hover:r(111).hover,unhover:o.unhover,loneHover:r(111).loneHover,loneUnhover:function(t){var e=i.isD3Selection(t)?t:n.select(t);e.selectAll("g.hovertext").remove(),e.selectAll(".spikeline").remove()},click:r(349)}},function(t,e,r){"use strict";var n=r(340),i=r(162),o=r(12),a=r(1),s=r(22),l=r(49),c=t.exports={};c.align=r(341),c.getCursor=r(342);var u=r(343);c.unhover=u.wrapped,c.unhoverRaw=u.raw;var h=a.eventListenerOptionsSupported();function f(){var t=document.createElement("div");t.className="dragcover";var e=t.style;return e.position="fixed",e.left=0,e.right=0,e.top=0,e.bottom=0,e.zIndex=999999999,e.background="none",document.body.appendChild(t),t}function d(t){return n(t.changedTouches?t.changedTouches[0]:t,document.body)}c.init=function(t){var e,r,n,u,p,v,y,g,m=t.gd,b=1,x=l.DBLCLICKDELAY,w=t.element;m._mouseDownTime||(m._mouseDownTime=0),w.style.pointerEvents="all",w.onmousedown=k,h?(w._ontouchstart&&w.removeEventListener("touchstart",w._ontouchstart),w._ontouchstart=k,w.addEventListener("touchstart",k,{passive:!1})):w.ontouchstart=k;var _=t.clampFn||function(t,e,r){return Math.abs(t)<r&&(t=0),Math.abs(e)<r&&(e=0),[t,e]};function k(o){m._dragged=!1,m._dragging=!0;var s=d(o);return e=s[0],r=s[1],y=o.target,v=o,g=o.buttons&&2===o.buttons||o.ctrlKey,(n=(new Date).getTime())-m._mouseDownTime<x?b+=1:(b=1,m._mouseDownTime=n),t.prepFn&&t.prepFn(o,e,r),i&&!g?(p=f()).style.cursor=window.getComputedStyle(w).cursor:i||(p=document,u=window.getComputedStyle(document.documentElement).cursor,document.documentElement.style.cursor=window.getComputedStyle(w).cursor),document.addEventListener("mousemove",T),document.addEventListener("mouseup",A),document.addEventListener("touchmove",T),document.addEventListener("touchend",A),a.pauseEvent(o)}function T(n){var i=d(n),o=t.minDrag||s.MINDRAG,l=_(i[0]-e,i[1]-r,o),u=l[0],h=l[1];return(u||h)&&(m._dragged=!0,c.unhover(m)),m._dragged&&t.moveFn&&!g&&t.moveFn(u,h),a.pauseEvent(n)}function A(e){if(document.removeEventListener("mousemove",T),document.removeEventListener("mouseup",A),document.removeEventListener("touchmove",T),document.removeEventListener("touchend",A),i?a.removeElement(p):u&&(p.documentElement.style.cursor=u,u=null),m._dragging){if(m._dragging=!1,(new Date).getTime()-m._mouseDownTime>x&&(b=Math.max(b-1,1)),m._dragged)t.doneFn&&t.doneFn(e);else if(t.clickFn&&t.clickFn(b,v),!g){var r;try{r=new MouseEvent("click",e)}catch(t){var n=d(e);(r=document.createEvent("MouseEvents")).initMouseEvent("click",e.bubbles,e.cancelable,e.view,e.detail,e.screenX,e.screenY,n[0],n[1],e.ctrlKey,e.altKey,e.shiftKey,e.metaKey,e.button,e.relatedTarget)}y.dispatchEvent(r)}return function(t){t._dragging=!1,t._replotPending&&o.plot(t)}(m),m._dragged=!1,a.pauseEvent(e)}m._dragged=!1}},c.coverSlip=f},function(t,e,r){"use strict";var n=r(20),i=r(31),o=r(96).dash,a=r(18).extendFlat,s=r(22);t.exports={visible:{valType:"boolean",role:"info",editType:"plot",description:["A single toggle to hide the axis while preserving interaction like dragging.","Default is true when a cheater plot is present on the axis, otherwise","false"].join(" ")},color:{valType:"color",dflt:i.defaultLine,role:"style",editType:"ticks",description:["Sets default for all colors associated with this axis","all at once: line, font, tick, and grid colors.","Grid color is lightened by blending this with the plot background","Individual pieces can override this."].join(" ")},title:{valType:"string",role:"info",editType:"ticks",description:"Sets the title of this axis."},titlefont:n({editType:"ticks",description:["Sets this axis' title font."].join(" ")}),type:{valType:"enumerated",values:["-","linear","log","date","category"],dflt:"-",role:"info",editType:"calc",description:["Sets the axis type.","By default, plotly attempts to determined the axis type","by looking into the data of the traces that referenced","the axis in question."].join(" ")},autorange:{valType:"enumerated",values:[!0,!1,"reversed"],dflt:!0,role:"style",editType:"calc",impliedEdits:{"range[0]":void 0,"range[1]":void 0},description:["Determines whether or not the range of this axis is","computed in relation to the input data.","See `rangemode` for more info.","If `range` is provided, then `autorange` is set to *false*."].join(" ")},rangemode:{valType:"enumerated",values:["normal","tozero","nonnegative"],dflt:"normal",role:"style",editType:"calc",description:["If *normal*, the range is computed in relation to the extrema","of the input data.","If *tozero*`, the range extends to 0,","regardless of the input data","If *nonnegative*, the range is non-negative,","regardless of the input data."].join(" ")},range:{valType:"info_array",role:"info",items:[{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}}],editType:"plot",impliedEdits:{autorange:!1},description:["Sets the range of this axis.","If the axis `type` is *log*, then you must take the log of your","desired range (e.g. to set the range from 1 to 100,","set the range from 0 to 2).","If the axis `type` is *date*, it should be date strings,","like date data, though Date objects and unix milliseconds","will be accepted and converted to strings.","If the axis `type` is *category*, it should be numbers,","using the scale where each category is assigned a serial","number from zero in the order it appears."].join(" ")},fixedrange:{valType:"boolean",dflt:!1,role:"info",editType:"calc",description:["Determines whether or not this axis is zoom-able.","If true, then zoom is disabled."].join(" ")},scaleanchor:{valType:"enumerated",values:[s.idRegex.x.toString(),s.idRegex.y.toString()],role:"info",editType:"calc",description:["If set to another axis id (e.g. `x2`, `y`), the range of this axis","changes together with the range of the corresponding axis","such that the scale of pixels per unit is in a constant ratio.","Both axes are still zoomable, but when you zoom one, the other will","zoom the same amount, keeping a fixed midpoint.","`constrain` and `constraintoward` determine how we enforce the constraint.","You can chain these, ie `yaxis: {scaleanchor: *x*}, xaxis2: {scaleanchor: *y*}`","but you can only link axes of the same `type`.","The linked axis can have the opposite letter (to constrain the aspect ratio)","or the same letter (to match scales across subplots).","Loops (`yaxis: {scaleanchor: *x*}, xaxis: {scaleanchor: *y*}` or longer) are redundant","and the last constraint encountered will be ignored to avoid possible","inconsistent constraints via `scaleratio`."].join(" ")},scaleratio:{valType:"number",min:0,dflt:1,role:"info",editType:"calc",description:["If this axis is linked to another by `scaleanchor`, this determines the pixel","to unit scale ratio. For example, if this value is 10, then every unit on","this axis spans 10 times the number of pixels as a unit on the linked axis.","Use this for example to create an elevation profile where the vertical scale","is exaggerated a fixed amount with respect to the horizontal."].join(" ")},constrain:{valType:"enumerated",values:["range","domain"],dflt:"range",role:"info",editType:"calc",description:["If this axis needs to be compressed (either due to its own `scaleanchor` and","`scaleratio` or those of the other axis), determines how that happens:","by increasing the *range* (default), or by decreasing the *domain*."].join(" ")},constraintoward:{valType:"enumerated",values:["left","center","right","top","middle","bottom"],role:"info",editType:"calc",description:["If this axis needs to be compressed (either due to its own `scaleanchor` and","`scaleratio` or those of the other axis), determines which direction we push","the originally specified plot area. Options are *left*, *center* (default),","and *right* for x axes, and *top*, *middle* (default), and *bottom* for y axes."].join(" ")},tickmode:{valType:"enumerated",values:["auto","linear","array"],role:"info",editType:"ticks",impliedEdits:{tick0:void 0,dtick:void 0},description:["Sets the tick mode for this axis.","If *auto*, the number of ticks is set via `nticks`.","If *linear*, the placement of the ticks is determined by","a starting position `tick0` and a tick step `dtick`","(*linear* is the default value if `tick0` and `dtick` are provided).","If *array*, the placement of the ticks is set via `tickvals`","and the tick text is `ticktext`.","(*array* is the default value if `tickvals` is provided)."].join(" ")},nticks:{valType:"integer",min:0,dflt:0,role:"style",editType:"ticks",description:["Specifies the maximum number of ticks for the particular axis.","The actual number of ticks will be chosen automatically to be","less than or equal to `nticks`.","Has an effect only if `tickmode` is set to *auto*."].join(" ")},tick0:{valType:"any",role:"style",editType:"ticks",impliedEdits:{tickmode:"linear"},description:["Sets the placement of the first tick on this axis.","Use with `dtick`.","If the axis `type` is *log*, then you must take the log of your starting tick","(e.g. to set the starting tick to 100, set the `tick0` to 2)","except when `dtick`=*L<f>* (see `dtick` for more info).","If the axis `type` is *date*, it should be a date string, like date data.","If the axis `type` is *category*, it should be a number, using the scale where","each category is assigned a serial number from zero in the order it appears."].join(" ")},dtick:{valType:"any",role:"style",editType:"ticks",impliedEdits:{tickmode:"linear"},description:["Sets the step in-between ticks on this axis. Use with `tick0`.","Must be a positive number, or special strings available to *log* and *date* axes.","If the axis `type` is *log*, then ticks are set every 10^(n*dtick) where n","is the tick number. For example,","to set a tick mark at 1, 10, 100, 1000, ... set dtick to 1.","To set tick marks at 1, 100, 10000, ... set dtick to 2.","To set tick marks at 1, 5, 25, 125, 625, 3125, ... set dtick to log_10(5), or 0.69897000433.","*log* has several special values; *L<f>*, where `f` is a positive number,","gives ticks linearly spaced in value (but not position).","For example `tick0` = 0.1, `dtick` = *L0.5* will put ticks at 0.1, 0.6, 1.1, 1.6 etc.","To show powers of 10 plus small digits between, use *D1* (all digits) or *D2* (only 2 and 5).","`tick0` is ignored for *D1* and *D2*.","If the axis `type` is *date*, then you must convert the time to milliseconds.","For example, to set the interval between ticks to one day,","set `dtick` to 86400000.0.","*date* also has special values *M<n>* gives ticks spaced by a number of months.","`n` must be a positive integer.","To set ticks on the 15th of every third month, set `tick0` to *2000-01-15* and `dtick` to *M3*.","To set ticks every 4 years, set `dtick` to *M48*"].join(" ")},tickvals:{valType:"data_array",editType:"ticks",description:["Sets the values at which ticks on this axis appear.","Only has an effect if `tickmode` is set to *array*.","Used with `ticktext`."].join(" ")},ticktext:{valType:"data_array",editType:"ticks",description:["Sets the text displayed at the ticks position via `tickvals`.","Only has an effect if `tickmode` is set to *array*.","Used with `tickvals`."].join(" ")},ticks:{valType:"enumerated",values:["outside","inside",""],role:"style",editType:"ticks",description:["Determines whether ticks are drawn or not.","If **, this axis' ticks are not drawn.","If *outside* (*inside*), this axis' are drawn outside (inside)","the axis lines."].join(" ")},mirror:{valType:"enumerated",values:[!0,"ticks",!1,"all","allticks"],dflt:!1,role:"style",editType:"ticks+layoutstyle",description:["Determines if the axis lines or/and ticks are mirrored to","the opposite side of the plotting area.","If *true*, the axis lines are mirrored.","If *ticks*, the axis lines and ticks are mirrored.","If *false*, mirroring is disable.","If *all*, axis lines are mirrored on all shared-axes subplots.","If *allticks*, axis lines and ticks are mirrored","on all shared-axes subplots."].join(" ")},ticklen:{valType:"number",min:0,dflt:5,role:"style",editType:"ticks",description:"Sets the tick length (in px)."},tickwidth:{valType:"number",min:0,dflt:1,role:"style",editType:"ticks",description:"Sets the tick width (in px)."},tickcolor:{valType:"color",dflt:i.defaultLine,role:"style",editType:"ticks",description:"Sets the tick color."},showticklabels:{valType:"boolean",dflt:!0,role:"style",editType:"ticks",description:"Determines whether or not the tick labels are drawn."},showspikes:{valType:"boolean",dflt:!1,role:"style",editType:"modebar",description:["Determines whether or not spikes (aka droplines) are drawn for this axis.","Note: This only takes affect when hovermode = closest"].join(" ")},spikecolor:{valType:"color",dflt:null,role:"style",editType:"none",description:"Sets the spike color. If undefined, will use the series color"},spikethickness:{valType:"number",dflt:3,role:"style",editType:"none",description:"Sets the width (in px) of the zero line."},spikedash:a({},o,{dflt:"dash",editType:"none"}),spikemode:{valType:"flaglist",flags:["toaxis","across","marker"],role:"style",dflt:"toaxis",editType:"none",description:["Determines the drawing mode for the spike line","If *toaxis*, the line is drawn from the data point to the axis the ","series is plotted on.","If *across*, the line is drawn across the entire plot area, and","supercedes *toaxis*.","If *marker*, then a marker dot is drawn on the axis the series is","plotted on"].join(" ")},spikesnap:{valType:"enumerated",values:["data","cursor"],dflt:"data",role:"style",editType:"none",description:"Determines whether spikelines are stuck to the cursor or to the closest datapoints."},tickfont:n({editType:"ticks",description:"Sets the tick font."}),tickangle:{valType:"angle",dflt:"auto",role:"style",editType:"ticks",description:["Sets the angle of the tick labels with respect to the horizontal.","For example, a `tickangle` of -90 draws the tick labels","vertically."].join(" ")},tickprefix:{valType:"string",dflt:"",role:"style",editType:"ticks",description:"Sets a tick label prefix."},showtickprefix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",role:"style",editType:"ticks",description:["If *all*, all tick labels are displayed with a prefix.","If *first*, only the first tick is displayed with a prefix.","If *last*, only the last tick is displayed with a suffix.","If *none*, tick prefixes are hidden."].join(" ")},ticksuffix:{valType:"string",dflt:"",role:"style",editType:"ticks",description:"Sets a tick label suffix."},showticksuffix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",role:"style",editType:"ticks",description:"Same as `showtickprefix` but for tick suffixes."},showexponent:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",role:"style",editType:"ticks",description:["If *all*, all exponents are shown besides their significands.","If *first*, only the exponent of the first tick is shown.","If *last*, only the exponent of the last tick is shown.","If *none*, no exponents appear."].join(" ")},exponentformat:{valType:"enumerated",values:["none","e","E","power","SI","B"],dflt:"B",role:"style",editType:"ticks",description:["Determines a formatting rule for the tick exponents.","For example, consider the number 1,000,000,000.","If *none*, it appears as 1,000,000,000.","If *e*, 1e+9.","If *E*, 1E+9.","If *power*, 1x10^9 (with 9 in a super script).","If *SI*, 1G.","If *B*, 1B."].join(" ")},separatethousands:{valType:"boolean",dflt:!1,role:"style",editType:"ticks",description:['If "true", even 4-digit integers are separated'].join(" ")},tickformat:{valType:"string",dflt:"",role:"style",editType:"ticks",description:["Sets the tick label formatting rule using d3 formatting mini-languages","which are very similar to those in Python. For numbers, see:","https://github.com/d3/d3-format/blob/master/README.md#locale_format","And for dates see:","https://github.com/d3/d3-time-format/blob/master/README.md#locale_format","We add one item to d3's date formatter: *%{n}f* for fractional seconds","with n digits. For example, *2016-10-13 09:15:23.456* with tickformat","*%H~%M~%S.%2f* would display *09~15~23.46*"].join(" ")},tickformatstops:{_isLinkedToArray:"tickformatstop",dtickrange:{valType:"info_array",role:"info",items:[{valType:"any",editType:"ticks"},{valType:"any",editType:"ticks"}],editType:"ticks",description:["range [*min*, *max*], where *min*, *max* - dtick values","which describe some zoom level, it is possible to omit *min*","or *max* value by passing *null*"].join(" ")},value:{valType:"string",dflt:"",role:"style",editType:"ticks",description:["string - dtickformat for described zoom level, the same as *tickformat*"].join(" ")},editType:"ticks"},hoverformat:{valType:"string",dflt:"",role:"style",editType:"none",description:["Sets the hover text formatting rule using d3 formatting mini-languages","which are very similar to those in Python. For numbers, see:","https://github.com/d3/d3-format/blob/master/README.md#locale_format","And for dates see:","https://github.com/d3/d3-time-format/blob/master/README.md#locale_format","We add one item to d3's date formatter: *%{n}f* for fractional seconds","with n digits. For example, *2016-10-13 09:15:23.456* with tickformat","*%H~%M~%S.%2f* would display *09~15~23.46*"].join(" ")},showline:{valType:"boolean",dflt:!1,role:"style",editType:"layoutstyle",description:["Determines whether or not a line bounding this axis is drawn."].join(" ")},linecolor:{valType:"color",dflt:i.defaultLine,role:"style",editType:"layoutstyle",description:"Sets the axis line color."},linewidth:{valType:"number",min:0,dflt:1,role:"style",editType:"ticks+layoutstyle",description:"Sets the width (in px) of the axis line."},showgrid:{valType:"boolean",role:"style",editType:"ticks",description:["Determines whether or not grid lines are drawn.","If *true*, the grid lines are drawn at every tick mark."].join(" ")},gridcolor:{valType:"color",dflt:i.lightLine,role:"style",editType:"ticks",description:"Sets the color of the grid lines."},gridwidth:{valType:"number",min:0,dflt:1,role:"style",editType:"ticks",description:"Sets the width (in px) of the grid lines."},zeroline:{valType:"boolean",role:"style",editType:"ticks",description:["Determines whether or not a line is drawn at along the 0 value","of this axis.","If *true*, the zero line is drawn on top of the grid lines."].join(" ")},zerolinecolor:{valType:"color",dflt:i.defaultLine,role:"style",editType:"ticks",description:"Sets the line color of the zero line."},zerolinewidth:{valType:"number",dflt:1,role:"style",editType:"ticks",description:"Sets the width (in px) of the zero line."},anchor:{valType:"enumerated",values:["free",s.idRegex.x.toString(),s.idRegex.y.toString()],role:"info",editType:"plot",description:["If set to an opposite-letter axis id (e.g. `x2`, `y`), this axis is bound to","the corresponding opposite-letter axis.","If set to *free*, this axis' position is determined by `position`."].join(" ")},side:{valType:"enumerated",values:["top","bottom","left","right"],role:"info",editType:"plot",description:["Determines whether a x (y) axis is positioned","at the *bottom* (*left*) or *top* (*right*)","of the plotting area."].join(" ")},overlaying:{valType:"enumerated",values:["free",s.idRegex.x.toString(),s.idRegex.y.toString()],role:"info",editType:"calc",description:["If set a same-letter axis id, this axis is overlaid on top of","the corresponding same-letter axis.","If *false*, this axis does not overlay any same-letter axes."].join(" ")},layer:{valType:"enumerated",values:["above traces","below traces"],dflt:"above traces",role:"info",editType:"plot",description:["Sets the layer on which this axis is displayed.","If *above traces*, this axis is displayed above all the subplot's traces","If *below traces*, this axis is displayed below all the subplot's traces,","but above the grid lines.","Useful when used together with scatter-like traces with `cliponaxis`","set to *false* to show markers and/or text nodes above this axis."].join(" ")},domain:{valType:"info_array",role:"info",items:[{valType:"number",min:0,max:1,editType:"calc"},{valType:"number",min:0,max:1,editType:"calc"}],dflt:[0,1],editType:"calc",description:["Sets the domain of this axis (in plot fraction)."].join(" ")},position:{valType:"number",min:0,max:1,dflt:0,role:"style",editType:"plot",description:["Sets the position of this axis in the plotting space","(in normalized coordinates).","Only has an effect if `anchor` is set to *free*."].join(" ")},categoryorder:{valType:"enumerated",values:["trace","category ascending","category descending","array"],dflt:"trace",role:"info",editType:"calc",description:["Specifies the ordering logic for the case of categorical variables.","By default, plotly uses *trace*, which specifies the order that is present in the data supplied.","Set `categoryorder` to *category ascending* or *category descending* if order should be determined by","the alphanumerical order of the category names.","Set `categoryorder` to *array* to derive the ordering from the attribute `categoryarray`. If a category","is not found in the `categoryarray` array, the sorting behavior for that attribute will be identical to","the *trace* mode. The unspecified categories will follow the categories in `categoryarray`."].join(" ")},categoryarray:{valType:"data_array",role:"info",editType:"calc",description:["Sets the order in which categories on this axis appear.","Only has an effect if `categoryorder` is set to *array*.","Used with `categoryorder`."].join(" ")},editType:"calc",_deprecated:{autotick:{valType:"boolean",role:"info",editType:"ticks",description:["Obsolete.","Set `tickmode` to *auto* for old `autotick` *true* behavior.","Set `tickmode` to *linear* for `autotick` *false*."].join(" ")}}}},function(t,e,r){"use strict";var n=t.exports={};n.attributes=r(66),n.supplyDefaults=r(101),n.calc=r(326),n.calcFromTrace=function(t,e){for(var r=t.x||[],i=t.y||[],o=r.length||i.length,a=new Array(o),s=0;s<o;s++)a[s]={x:r[s],y:i[s]};return a[0].trace=t,n.calc({calcdata:[a],_fullLayout:e}),a},n.plot=r(328),n.style=r(329),n.hoverInfo=function(t,e,r){(e.error_y||{}).visible&&(r.yerr=t.yh-t.y,e.error_y.symmetric||(r.yerrneg=t.y-t.ys)),(e.error_x||{}).visible&&(r.xerr=t.xh-t.x,e.error_x.symmetric||(r.xerrneg=t.x-t.xs))}},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function n(){this.constructor=t}t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=r(0),o=r(126),a=r(37),s=r(29),l=function(t){function e(e,r){t.call(this),this.array=e,this.scheduler=r,r||1!==e.length||(this._isScalar=!0,this.value=e[0])}return n(e,t),e.create=function(t,r){return new e(t,r)},e.of=function(){for(var t=[],r=0;r<arguments.length;r++)t[r-0]=arguments[r];var n=t[t.length-1];s.isScheduler(n)?t.pop():n=null;var i=t.length;return i>1?new e(t,n):1===i?new o.ScalarObservable(t[0],n):new a.EmptyObservable(n)},e.dispatch=function(t){var e=t.array,r=t.index,n=t.count,i=t.subscriber;r>=n?i.complete():(i.next(e[r]),i.closed||(t.index=r+1,this.schedule(t)))},e.prototype._subscribe=function(t){var r=this.array,n=r.length,i=this.scheduler;if(i)return i.schedule(e.dispatch,0,{array:r,index:0,count:n,subscriber:t});for(var o=0;o<n&&!t.closed;o++)t.next(r[o]);t.complete()},e}(i.Observable);e.ArrayObservable=l},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function n(){this.constructor=t}t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=function(t){function e(e){t.call(this),this.scheduler=e}return n(e,t),e.create=function(t){return new e(t)},e.dispatch=function(t){t.subscriber.complete()},e.prototype._subscribe=function(t){var r=this.scheduler;if(r)return r.schedule(e.dispatch,0,{subscriber:t});t.complete()},e}(r(0).Observable);e.EmptyObservable=i},function(t,e,r){"use strict";t.exports={Greys:[[0,"rgb(0,0,0)"],[1,"rgb(255,255,255)"]],YlGnBu:[[0,"rgb(8,29,88)"],[.125,"rgb(37,52,148)"],[.25,"rgb(34,94,168)"],[.375,"rgb(29,145,192)"],[.5,"rgb(65,182,196)"],[.625,"rgb(127,205,187)"],[.75,"rgb(199,233,180)"],[.875,"rgb(237,248,217)"],[1,"rgb(255,255,217)"]],Greens:[[0,"rgb(0,68,27)"],[.125,"rgb(0,109,44)"],[.25,"rgb(35,139,69)"],[.375,"rgb(65,171,93)"],[.5,"rgb(116,196,118)"],[.625,"rgb(161,217,155)"],[.75,"rgb(199,233,192)"],[.875,"rgb(229,245,224)"],[1,"rgb(247,252,245)"]],YlOrRd:[[0,"rgb(128,0,38)"],[.125,"rgb(189,0,38)"],[.25,"rgb(227,26,28)"],[.375,"rgb(252,78,42)"],[.5,"rgb(253,141,60)"],[.625,"rgb(254,178,76)"],[.75,"rgb(254,217,118)"],[.875,"rgb(255,237,160)"],[1,"rgb(255,255,204)"]],Bluered:[[0,"rgb(0,0,255)"],[1,"rgb(255,0,0)"]],RdBu:[[0,"rgb(5,10,172)"],[.35,"rgb(106,137,247)"],[.5,"rgb(190,190,190)"],[.6,"rgb(220,170,132)"],[.7,"rgb(230,145,90)"],[1,"rgb(178,10,28)"]],Reds:[[0,"rgb(220,220,220)"],[.2,"rgb(245,195,157)"],[.4,"rgb(245,160,105)"],[1,"rgb(178,10,28)"]],Blues:[[0,"rgb(5,10,172)"],[.35,"rgb(40,60,190)"],[.5,"rgb(70,100,245)"],[.6,"rgb(90,120,245)"],[.7,"rgb(106,137,247)"],[1,"rgb(220,220,220)"]],Picnic:[[0,"rgb(0,0,255)"],[.1,"rgb(51,153,255)"],[.2,"rgb(102,204,255)"],[.3,"rgb(153,204,255)"],[.4,"rgb(204,204,255)"],[.5,"rgb(255,255,255)"],[.6,"rgb(255,204,255)"],[.7,"rgb(255,153,255)"],[.8,"rgb(255,102,204)"],[.9,"rgb(255,102,102)"],[1,"rgb(255,0,0)"]],Rainbow:[[0,"rgb(150,0,90)"],[.125,"rgb(0,0,200)"],[.25,"rgb(0,25,255)"],[.375,"rgb(0,152,255)"],[.5,"rgb(44,255,150)"],[.625,"rgb(151,255,0)"],[.75,"rgb(255,234,0)"],[.875,"rgb(255,111,0)"],[1,"rgb(255,0,0)"]],Portland:[[0,"rgb(12,51,131)"],[.25,"rgb(10,136,186)"],[.5,"rgb(242,211,56)"],[.75,"rgb(242,143,56)"],[1,"rgb(217,30,30)"]],Jet:[[0,"rgb(0,0,131)"],[.125,"rgb(0,60,170)"],[.375,"rgb(5,255,255)"],[.625,"rgb(255,255,0)"],[.875,"rgb(250,0,0)"],[1,"rgb(128,0,0)"]],Hot:[[0,"rgb(0,0,0)"],[.3,"rgb(230,0,0)"],[.6,"rgb(255,210,0)"],[1,"rgb(255,255,255)"]],Blackbody:[[0,"rgb(0,0,0)"],[.2,"rgb(230,0,0)"],[.4,"rgb(230,210,0)"],[.7,"rgb(255,255,255)"],[1,"rgb(160,200,255)"]],Earth:[[0,"rgb(0,0,130)"],[.1,"rgb(0,180,180)"],[.2,"rgb(40,210,40)"],[.4,"rgb(230,230,50)"],[.6,"rgb(120,70,20)"],[1,"rgb(255,255,255)"]],Electric:[[0,"rgb(0,0,0)"],[.15,"rgb(30,0,100)"],[.4,"rgb(120,0,100)"],[.6,"rgb(160,90,0)"],[.8,"rgb(230,200,0)"],[1,"rgb(255,250,220)"]],Viridis:[[0,"#440154"],[.06274509803921569,"#48186a"],[.12549019607843137,"#472d7b"],[.18823529411764706,"#424086"],[.25098039215686274,"#3b528b"],[.3137254901960784,"#33638d"],[.3764705882352941,"#2c728e"],[.4392156862745098,"#26828e"],[.5019607843137255,"#21918c"],[.5647058823529412,"#1fa088"],[.6274509803921569,"#28ae80"],[.6901960784313725,"#3fbc73"],[.7529411764705882,"#5ec962"],[.8156862745098039,"#84d44b"],[.8784313725490196,"#addc30"],[.9411764705882353,"#d8e219"],[1,"#fde725"]],Cividis:[[0,"rgb(0,32,76)"],[.058824,"rgb(0,42,102)"],[.117647,"rgb(0,52,110)"],[.176471,"rgb(39,63,108)"],[.235294,"rgb(60,74,107)"],[.294118,"rgb(76,85,107)"],[.352941,"rgb(91,95,109)"],[.411765,"rgb(104,106,112)"],[.470588,"rgb(117,117,117)"],[.529412,"rgb(131,129,120)"],[.588235,"rgb(146,140,120)"],[.647059,"rgb(161,152,118)"],[.705882,"rgb(176,165,114)"],[.764706,"rgb(192,177,109)"],[.823529,"rgb(209,191,102)"],[.882353,"rgb(225,204,92)"],[.941176,"rgb(243,219,79)"],[1,"rgb(255,233,69)"]]}},function(t,e,r){"use strict";var n=r(1),i=n.extendFlat,o=n.isPlainObject,a={valType:"flaglist",extras:["none"],flags:["calc","calcIfAutorange","clearAxisTypes","plot","style","colorbars"],description:["trace attributes should include an `editType` string matching this flaglist.","*calc* is the most extensive: a full `Plotly.plot` starting by clearing `gd.calcdata`","to force it to be regenerated","*calcIfAutorange* does a full `Plotly.plot`, but only clears and redoes `gd.calcdata`","if there is at least one autoranged axis.","*clearAxisTypes* resets the types of the axes this trace is on, because new data could","cause the automatic axis type detection to change. Log type will not be cleared, as that","is never automatically chosen so must have been user-specified.","*plot* calls `Plotly.plot` but without first clearing `gd.calcdata`.","*style* only calls `module.style` for all trace modules and redraws the legend.","*colorbars* only redraws colorbars."].join(" ")},s={valType:"flaglist",extras:["none"],flags:["calc","calcIfAutorange","plot","legend","ticks","layoutstyle","modebar","camera","arraydraw"],description:["layout attributes should include an `editType` string matching this flaglist.","*calc* is the most extensive: a full `Plotly.plot` starting by clearing `gd.calcdata`","to force it to be regenerated","*calcIfAutorange* does a full `Plotly.plot`, but only clears and redoes `gd.calcdata`","if there is at least one autoranged axis.","*plot* calls `Plotly.plot` but without first clearing `gd.calcdata`.","*legend* only redraws the legend.","*ticks* only redraws axis ticks, labels, and gridlines.","*layoutstyle* reapplies global and SVG cartesian axis styles.","*modebar* just updates the modebar.","*camera* just updates the camera settings for gl3d scenes.","*arraydraw* allows component arrays to invoke the redraw routines just for the","component(s) that changed."].join(" ")},l=a.flags.slice().concat(["clearCalc","fullReplot"]),c=s.flags.slice().concat("layoutReplot");function u(t){for(var e={},r=0;r<t.length;r++)e[t[r]]=!1;return e}function h(t,e,r){var n=i({},t);for(var a in n){var s=n[a];o(s)&&(n[a]=f(s,e,r,a))}return"from-root"===r&&(n.editType=e),n}function f(t,e,r,n){if(t.valType){var o=i({},t);if(o.editType=e,Array.isArray(t.items)){o.items=new Array(t.items.length);for(var a=0;a<t.items.length;a++)o.items[a]=f(t.items[a],e,"from-root")}return o}return h(t,e,"_"===n.charAt(0)?"nested":"from-root")}t.exports={traces:a,layout:s,traceFlags:function(){return u(l)},layoutFlags:function(){return u(c)},update:function(t,e){var r=e.editType;if(r&&"none"!==r)for(var n=r.split("+"),i=0;i<n.length;i++)t[n[i]]=!0},overrideAll:h}},function(t,e,r){"use strict";var n=r(250);e.multicast=function(t,e){return function(r){var o;if(o="function"==typeof t?t:function(){return t},"function"==typeof e)return r.lift(new i(o,e));var a=Object.create(r,n.connectableObservableDescriptor);return a.source=r,a.subjectFactory=o,a}};var i=function(){function t(t,e){this.subjectFactory=t,this.selector=e}return t.prototype.call=function(t,e){var r=this.selector,n=this.subjectFactory(),i=r(n).subscribe(t);return i.add(e.subscribe(n)),i},t}();e.MulticastOperator=i},function(t,e,r){"use strict";var n=r(6),i=r(1),o=r(97);t.exports=function(t,e){var r=e?i.nestedProperty(t,e).get()||{}:t,a=r.color,s=!1;if(Array.isArray(a))for(var l=0;l<a.length;l++)if(n(a[l])){s=!0;break}return i.isPlainObject(r)&&(s||!0===r.showscale||n(r.cmin)&&n(r.cmax)||o(r.colorscale)||i.isPlainObject(r.colorbar))}},function(t,e,r){"use strict";e.xmlns="http://www.w3.org/2000/xmlns/",e.svg="http://www.w3.org/2000/svg",e.xlink="http://www.w3.org/1999/xlink",e.svgAttrs={xmlns:e.svg,"xmlns:xlink":e.xlink}},function(t,e,r){"use strict";t.exports=function(t,e){(t.attr("class")||"").split(" ").forEach(function(e){0===e.indexOf("cursor-")&&t.classed(e,!1)}),e&&t.classed("cursor-"+e,!0)}},function(t,e,r){"use strict";var n=r(1);t.exports=function(t,e,r){var i,o=r.name,a=e[o],s=n.isArray(t[o])?t[o]:[],l=e[o]=[];for(i=0;i<s.length;i++){var c=s[i],u={},h={};n.isPlainObject(c)||(h.itemIsNotPlainObject=!0,c={}),r.handleItemDefaults(c,u,e,r,h),u._input=c,u._index=i,l.push(u)}if(n.isArray(a)){var f=Math.min(a.length,l.length);for(i=0;i<f;i++)n.relinkPrivateKeys(l[i],a[i])}}},function(t,e,r){"use strict";var n=r(63),i=t.exports={};function o(t,e){if(t.apply)t.apply(t,e);else for(var r=0;r<e.length;r++)t(e[r])}i.log=function(){if(n.logging>1){for(var t=["LOG:"],e=0;e<arguments.length;e++)t.push(arguments[e]);o(console.trace||console.log,t)}},i.warn=function(){if(n.logging>0){for(var t=["WARN:"],e=0;e<arguments.length;e++)t.push(arguments[e]);o(console.trace||console.log,t)}},i.error=function(){if(n.logging>0){for(var t=["ERROR:"],e=0;e<arguments.length;e++)t.push(arguments[e]);o(console.error,t)}}},function(t,e,r){"use strict";t.exports=function(t){return window&&window.process&&window.process.versions?"[object Object]"===Object.prototype.toString.call(t):"[object Object]"===Object.prototype.toString.call(t)&&Object.getPrototypeOf(t)===Object.prototype}},function(t,e,r){"use strict";var n=r(90);t.exports={type:{valType:"enumerated",role:"info",values:[],dflt:"scatter",editType:"calc+clearAxisTypes"},visible:{valType:"enumerated",values:[!0,!1,"legendonly"],role:"info",dflt:!0,editType:"calc",description:["Determines whether or not this trace is visible.","If *legendonly*, the trace is not drawn,","but can appear as a legend item","(provided that the legend itself is visible)."].join(" ")},showlegend:{valType:"boolean",role:"info",dflt:!0,editType:"style",description:["Determines whether or not an item corresponding to this","trace is shown in the legend."].join(" ")},legendgroup:{valType:"string",role:"info",dflt:"",editType:"style",description:["Sets the legend group for this trace.","Traces part of the same legend group hide/show at the same time","when toggling legend items."].join(" ")},opacity:{valType:"number",role:"style",min:0,max:1,dflt:1,editType:"style",description:"Sets the opacity of the trace."},name:{valType:"string",role:"info",editType:"style",description:["Sets the trace name.","The trace name appear as the legend item and on hover."].join(" ")},uid:{valType:"string",role:"info",dflt:"",editType:"calc"},ids:{valType:"data_array",editType:"calc",description:["Assigns id labels to each datum.","These ids for object constancy of data points during animation."].join(" ")},customdata:{valType:"data_array",editType:"calc",description:["Assigns extra data each datum.","This may be useful when listening to hover, click and selection events.","Note that, *scatter* traces also appends customdata items in the markers","DOM elements"].join(" ")},selectedpoints:{valType:"any",role:"info",editType:"calc",description:["Array containing integer indices of selected points.","Has an effect only for traces that support selections.","Note that an empty array means an empty selection where the `unselected`","are turned on for all points, whereas, any other non-array values means no","selection all where the `selected` and `unselected` styles have no effect."].join(" ")},hoverinfo:{valType:"flaglist",role:"info",flags:["x","y","z","text","name"],extras:["all","none","skip"],arrayOk:!0,dflt:"all",editType:"none",description:["Determines which trace information appear on hover.","If `none` or `skip` are set, no information is displayed upon hovering.","But, if `none` is set, click and hover events are still fired."].join(" ")},hoverlabel:n.hoverlabel,stream:{token:{valType:"string",noBlank:!0,strict:!0,role:"info",editType:"calc",description:["The stream id number links a data trace on a plot with a stream.","See https://plot.ly/settings for more details."].join(" ")},maxpoints:{valType:"number",min:0,max:1e4,dflt:500,role:"info",editType:"calc",description:["Sets the maximum number of points to keep on the plots from an","incoming stream.","If `maxpoints` is set to *50*, only the newest 50 points will","be displayed on the plot."].join(" ")},editType:"calc"}}},function(t,e,r){"use strict";var n=r(20),i=r(31),o=n({editType:"calc",description:["Sets the global font.","Note that fonts used in traces and other","layout components inherit from the global font."].join(" ")});o.family.dflt='"Open Sans", verdana, arial, sans-serif',o.size.dflt=12,o.color.dflt=i.defaultLine,t.exports={font:o,title:{valType:"string",role:"info",editType:"layoutstyle",description:["Sets the plot's title."].join(" ")},titlefont:n({editType:"layoutstyle",description:"Sets the title font."}),autosize:{valType:"boolean",role:"info",dflt:!1,editType:"none",description:["Determines whether or not a layout width or height","that has been left undefined by the user","is initialized on each relayout.","Note that, regardless of this attribute,","an undefined layout width or height","is always initialized on the first call to plot."].join(" ")},width:{valType:"number",role:"info",min:10,dflt:700,editType:"none",description:["Sets the plot's width (in px)."].join(" ")},height:{valType:"number",role:"info",min:10,dflt:450,editType:"none",description:["Sets the plot's height (in px)."].join(" ")},margin:{l:{valType:"number",role:"info",min:0,dflt:80,editType:"calc",description:"Sets the left margin (in px)."},r:{valType:"number",role:"info",min:0,dflt:80,editType:"calc",description:"Sets the right margin (in px)."},t:{valType:"number",role:"info",min:0,dflt:100,editType:"calc",description:"Sets the top margin (in px)."},b:{valType:"number",role:"info",min:0,dflt:80,editType:"calc",description:"Sets the bottom margin (in px)."},pad:{valType:"number",role:"info",min:0,dflt:0,editType:"calc",description:["Sets the amount of padding (in px)","between the plotting area and the axis lines"].join(" ")},autoexpand:{valType:"boolean",role:"info",dflt:!0,editType:"calc"},editType:"calc"},paper_bgcolor:{valType:"color",role:"style",dflt:i.background,editType:"plot",description:"Sets the color of paper where the graph is drawn."},plot_bgcolor:{valType:"color",role:"style",dflt:i.background,editType:"layoutstyle",description:["Sets the color of plotting area in-between x and y axes."].join(" ")},separators:{valType:"string",role:"style",editType:"plot",description:["Sets the decimal and thousand separators.","For example, *. * puts a '.' before decimals and a space","between thousands. In English locales, dflt is *.,* but","other locales may alter this default."].join(" ")},hidesources:{valType:"boolean",role:"info",dflt:!1,editType:"plot",description:["Determines whether or not a text link citing the data source is","placed at the bottom-right cored of the figure.","Has only an effect only on graphs that have been generated via","forked graphs from the plotly service (at https://plot.ly or on-premise)."].join(" ")},showlegend:{valType:"boolean",role:"info",editType:"legend",description:"Determines whether or not a legend is drawn."},colorway:{valType:"colorlist",dflt:i.defaults,role:"style",editType:"calc",description:"Sets the default trace colors."}}},function(t,e,r){"use strict";t.exports={SHOW_PLACEHOLDER:100,HIDE_PLACEHOLDER:1e3,DBLCLICKDELAY:300,DESELECTDIM:.2}},function(t,e,r){"use strict";var n=r(152),i=r(66),o=r(67),a=r(20),s=r(96).dash,l=r(9),c=r(100),u=r(18).extendFlat;t.exports={x:{valType:"data_array",editType:"calc+clearAxisTypes",description:"Sets the x coordinates."},x0:{valType:"any",dflt:0,role:"info",editType:"calc+clearAxisTypes",description:["Alternate to `x`.","Builds a linear space of x coordinates.","Use with `dx`","where `x0` is the starting coordinate and `dx` the step."].join(" ")},dx:{valType:"number",dflt:1,role:"info",editType:"calc",description:["Sets the x coordinate step.","See `x0` for more info."].join(" ")},y:{valType:"data_array",editType:"calc+clearAxisTypes",description:"Sets the y coordinates."},y0:{valType:"any",dflt:0,role:"info",editType:"calc+clearAxisTypes",description:["Alternate to `y`.","Builds a linear space of y coordinates.","Use with `dy`","where `y0` is the starting coordinate and `dy` the step."].join(" ")},dy:{valType:"number",dflt:1,role:"info",editType:"calc",description:["Sets the y coordinate step.","See `y0` for more info."].join(" ")},text:{valType:"string",role:"info",dflt:"",arrayOk:!0,editType:"calc",description:["Sets text elements associated with each (x,y) pair.","If a single string, the same string appears over","all the data points.","If an array of string, the items are mapped in order to the","this trace's (x,y) coordinates.","If trace `hoverinfo` contains a *text* flag and *hovertext* is not set,","these elements will be seen in the hover labels."].join(" ")},hovertext:{valType:"string",role:"info",dflt:"",arrayOk:!0,editType:"style",description:["Sets hover text elements associated with each (x,y) pair.","If a single string, the same string appears over","all the data points.","If an array of string, the items are mapped in order to the","this trace's (x,y) coordinates.","To be seen, trace `hoverinfo` must contain a *text* flag."].join(" ")},mode:{valType:"flaglist",flags:["lines","markers","text"],extras:["none"],role:"info",editType:"calc",description:["Determines the drawing mode for this scatter trace.","If the provided `mode` includes *text* then the `text` elements","appear at the coordinates. Otherwise, the `text` elements","appear on hover.","If there are less than "+c.PTS_LINESONLY+" points,","then the default is *lines+markers*. Otherwise, *lines*."].join(" ")},hoveron:{valType:"flaglist",flags:["points","fills"],role:"info",editType:"style",description:["Do the hover effects highlight individual points (markers or","line points) or do they highlight filled regions?","If the fill is *toself* or *tonext* and there are no markers","or text, then the default is *fills*, otherwise it is *points*."].join(" ")},line:{color:{valType:"color",role:"style",editType:"style",description:"Sets the line color."},width:{valType:"number",min:0,dflt:2,role:"style",editType:"style",description:"Sets the line width (in px)."},shape:{valType:"enumerated",values:["linear","spline","hv","vh","hvh","vhv"],dflt:"linear",role:"style",editType:"plot",description:["Determines the line shape.","With *spline* the lines are drawn using spline interpolation.","The other available values correspond to step-wise line shapes."].join(" ")},smoothing:{valType:"number",min:0,max:1.3,dflt:1,role:"style",editType:"plot",description:["Has an effect only if `shape` is set to *spline*","Sets the amount of smoothing.","*0* corresponds to no smoothing (equivalent to a *linear* shape)."].join(" ")},dash:u({},s,{editType:"style"}),simplify:{valType:"boolean",dflt:!0,role:"info",editType:"plot",description:["Simplifies lines by removing nearly-collinear points. When transitioning","lines, it may be desirable to disable this so that the number of points","along the resulting SVG path is unaffected."].join(" ")},editType:"plot"},connectgaps:{valType:"boolean",dflt:!1,role:"info",editType:"calc",description:["Determines whether or not gaps","(i.e. {nan} or missing values)","in the provided data arrays are connected."].join(" ")},cliponaxis:{valType:"boolean",dflt:!0,role:"info",editType:"plot",description:["Determines whether or not markers and text nodes","are clipped about the subplot axes.","To show markers and text nodes above axis lines and tick labels,","make sure to set `xaxis.layer` and `yaxis.layer` to *below traces*."].join(" ")},fill:{valType:"enumerated",values:["none","tozeroy","tozerox","tonexty","tonextx","toself","tonext"],dflt:"none",role:"style",editType:"calc",description:["Sets the area to fill with a solid color.","Use with `fillcolor` if not *none*.","*tozerox* and *tozeroy* fill to x=0 and y=0 respectively.","*tonextx* and *tonexty* fill between the endpoints of this","trace and the endpoints of the trace before it, connecting those","endpoints with straight lines (to make a stacked area graph);","if there is no trace before it, they behave like *tozerox* and","*tozeroy*.","*toself* connects the endpoints of the trace (or each segment","of the trace if it has gaps) into a closed shape.","*tonext* fills the space between two traces if one completely","encloses the other (eg consecutive contour lines), and behaves like","*toself* if there is no trace before it. *tonext* should not be","used if one trace does not enclose the other."].join(" ")},fillcolor:{valType:"color",role:"style",editType:"style",description:["Sets the fill color.","Defaults to a half-transparent variant of the line color,","marker color, or marker line color, whichever is available."].join(" ")},marker:u({symbol:{valType:"enumerated",values:l.symbolList,dflt:"circle",arrayOk:!0,role:"style",editType:"style",description:["Sets the marker symbol type.","Adding 100 is equivalent to appending *-open* to a symbol name.","Adding 200 is equivalent to appending *-dot* to a symbol name.","Adding 300 is equivalent to appending *-open-dot*","or *dot-open* to a symbol name."].join(" ")},opacity:{valType:"number",min:0,max:1,arrayOk:!0,role:"style",editType:"style",description:"Sets the marker opacity."},size:{valType:"number",min:0,dflt:6,arrayOk:!0,role:"style",editType:"calcIfAutorange",description:"Sets the marker size (in px)."},maxdisplayed:{valType:"number",min:0,dflt:0,role:"style",editType:"plot",description:["Sets a maximum number of points to be drawn on the graph.","*0* corresponds to no limit."].join(" ")},sizeref:{valType:"number",dflt:1,role:"style",editType:"calc",description:["Has an effect only if `marker.size` is set to a numerical array.","Sets the scale factor used to determine the rendered size of","marker points. Use with `sizemin` and `sizemode`."].join(" ")},sizemin:{valType:"number",min:0,dflt:0,role:"style",editType:"calc",description:["Has an effect only if `marker.size` is set to a numerical array.","Sets the minimum size (in px) of the rendered marker points."].join(" ")},sizemode:{valType:"enumerated",values:["diameter","area"],dflt:"diameter",role:"info",editType:"calc",description:["Has an effect only if `marker.size` is set to a numerical array.","Sets the rule for which the data in `size` is converted","to pixels."].join(" ")},showscale:{valType:"boolean",role:"info",dflt:!1,editType:"calc",description:["Has an effect only if `marker.color` is set to a numerical array.","Determines whether or not a colorbar is displayed."].join(" ")},colorbar:o,line:u({width:{valType:"number",min:0,arrayOk:!0,role:"style",editType:"style",description:"Sets the width (in px) of the lines bounding the marker points."},editType:"calc"},n("marker.line")),gradient:{type:{valType:"enumerated",values:["radial","horizontal","vertical","none"],arrayOk:!0,dflt:"none",role:"style",editType:"calc",description:["Sets the type of gradient used to fill the markers"].join(" ")},color:{valType:"color",arrayOk:!0,role:"style",editType:"calc",description:["Sets the final color of the gradient fill:","the center color for radial, the right for horizontal,","or the bottom for vertical."].join(" ")},editType:"calc"},editType:"calc"},n("marker")),selected:{marker:{opacity:{valType:"number",min:0,max:1,role:"style",editType:"style",description:"Sets the marker opacity of selected points."},color:{valType:"color",role:"style",editType:"style",description:"Sets the marker color of selected points."},size:{valType:"number",min:0,role:"style",editType:"style",description:"Sets the marker size of selected points."},editType:"style"},textfont:{color:{valType:"color",role:"style",editType:"style",description:"Sets the text font color of selected points."},editType:"style"},editType:"style"},unselected:{marker:{opacity:{valType:"number",min:0,max:1,role:"style",editType:"style",description:"Sets the marker opacity of unselected points, applied only when a selection exists."},color:{valType:"color",role:"style",editType:"style",description:"Sets the marker color of unselected points, applied only when a selection exists."},size:{valType:"number",min:0,role:"style",editType:"style",description:"Sets the marker size of unselected points, applied only when a selection exists."},editType:"style"},textfont:{color:{valType:"color",role:"style",editType:"style",description:"Sets the text font color of unselected points, applied only when a selection exists."},editType:"style"},editType:"style"},textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right"],dflt:"middle center",arrayOk:!0,role:"style",editType:"calc",description:["Sets the positions of the `text` elements","with respects to the (x,y) coordinates."].join(" ")},textfont:a({editType:"calc",colorEditType:"style",arrayOk:!0,description:"Sets the text font."}),r:{valType:"data_array",editType:"calc",description:["For legacy polar chart only.","Please switch to *scatterpolar* trace type.","Sets the radial coordinates."].join("")},t:{valType:"data_array",editType:"calc",description:["For legacy polar chart only.","Please switch to *scatterpolar* trace type.","Sets the angular coordinates."].join("")},error_y:i,error_x:i}},function(t,e){var r;r=function(){return this}();try{r=r||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(r=window)}t.exports=r},function(t,e,r){"use strict";t.exports={MAXDIST:20,YANGLE:60,HOVERARROWSIZE:6,HOVERTEXTPAD:3,HOVERFONTSIZE:13,HOVERFONT:"Arial, sans-serif",HOVERMINTIME:50,HOVERID:"-hover"}},function(t,e,r){"use strict";var n=r(19);function i(t){var e=t.Symbol;if("function"==typeof e)return e.iterator||(e.iterator=e("iterator polyfill")),e.iterator;var r=t.Set;if(r&&"function"==typeof(new r)["@@iterator"])return"@@iterator";var n=t.Map;if(n)for(var i=Object.getOwnPropertyNames(n.prototype),o=0;o<i.length;++o){var a=i[o];if("entries"!==a&&"size"!==a&&n.prototype[a]===n.prototype.entries)return a}return"@@iterator"}e.symbolIteratorPonyfill=i,e.iterator=i(n.root),e.$$iterator=e.iterator},function(t,e,r){"use strict";var n=r(29),i=r(204),o=r(205),a=r(127);e.concat=function(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];return 1===t.length||2===t.length&&n.isScheduler(t[1])?o.from(t[0]):a.concatAll()(i.of.apply(void 0,t))}},function(t,e,r){"use strict";var n=r(0),i=function(){function t(t,e,r){this.kind=t,this.value=e,this.error=r,this.hasValue="N"===t}return t.prototype.observe=function(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}},t.prototype.do=function(t,e,r){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return r&&r()}},t.prototype.accept=function(t,e,r){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,r)},t.prototype.toObservable=function(){switch(this.kind){case"N":return n.Observable.of(this.value);case"E":return n.Observable.throw(this.error);case"C":return n.Observable.empty()}throw new Error("unexpected notification kind value")},t.createNext=function(e){return void 0!==e?new t("N",e):t.undefinedValueNotification},t.createError=function(e){return new t("E",void 0,e)},t.createComplete=function(){return t.completeNotification},t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t}();e.Notification=i},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function n(){this.constructor=t}t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=r(8),o=r(7);e.mergeMap=function(t,e,r){return void 0===r&&(r=Number.POSITIVE_INFINITY),function(n){return"number"==typeof e&&(r=e,e=null),n.lift(new a(t,e,r))}};var a=function(){function t(t,e,r){void 0===r&&(r=Number.POSITIVE_INFINITY),this.project=t,this.resultSelector=e,this.concurrent=r}return t.prototype.call=function(t,e){return e.subscribe(new s(t,this.project,this.resultSelector,this.concurrent))},t}();e.MergeMapOperator=a;var s=function(t){function e(e,r,n,i){void 0===i&&(i=Number.POSITIVE_INFINITY),t.call(this,e),this.project=r,this.resultSelector=n,this.concurrent=i,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}return n(e,t),e.prototype._next=function(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)},e.prototype._tryNext=function(t){var e,r=this.index++;try{e=this.project(t,r)}catch(t){return void this.destination.error(t)}this.active++,this._innerSub(e,t,r)},e.prototype._innerSub=function(t,e,r){this.add(i.subscribeToResult(this,t,e,r))},e.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete()},e.prototype.notifyNext=function(t,e,r,n,i){this.resultSelector?this._notifyResultSelector(t,e,r,n):this.destination.next(e)},e.prototype._notifyResultSelector=function(t,e,r,n){var i;try{i=this.resultSelector(t,e,r,n)}catch(t){return void this.destination.error(t)}this.destination.next(i)},e.prototype.notifyComplete=function(t){var e=this.buffer;this.remove(t),this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},e}(o.OuterSubscriber);e.MergeMapSubscriber=s},function(t,e,r){"use strict";var n=r(30);e.isNumeric=function(t){return!n.isArray(t)&&t-parseFloat(t)+1>=0}},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function n(){this.constructor=t}t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=r(19),o=function(t){function e(e,r){t.call(this,e,r),this.scheduler=e,this.work=r,this.pending=!1}return n(e,t),e.prototype.schedule=function(t,e){if(void 0===e&&(e=0),this.closed)return this;this.state=t,this.pending=!0;var r=this.id,n=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(n,r,e)),this.delay=e,this.id=this.id||this.requestAsyncId(n,this.id,e),this},e.prototype.requestAsyncId=function(t,e,r){return void 0===r&&(r=0),i.root.setInterval(t.flush.bind(t,this),r)},e.prototype.recycleAsyncId=function(t,e,r){if(void 0===r&&(r=0),null!==r&&this.delay===r&&!1===this.pending)return e;i.root.clearInterval(e)},e.prototype.execute=function(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var r=this._execute(t,e);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},e.prototype._execute=function(t,e){var r=!1,n=void 0;try{this.work(t)}catch(t){r=!0,n=!!t&&t||new Error(t)}if(r)return this.unsubscribe(),n},e.prototype._unsubscribe=function(){var t=this.id,e=this.scheduler,r=e.actions,n=r.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==n&&r.splice(n,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null},e}(r(530).Action);e.AsyncAction=o},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function n(){this.constructor=t}t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=function(t){function e(){t.apply(this,arguments),this.actions=[],this.active=!1,this.scheduled=void 0}return n(e,t),e.prototype.flush=function(t){var e=this.actions;if(this.active)e.push(t);else{var r;this.active=!0;do{if(r=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,r){for(;t=e.shift();)t.unsubscribe();throw r}}},e}(r(531).Scheduler);e.AsyncScheduler=i},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function n(){this.constructor=t}t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=r(2);e.map=function(t,e){return function(r){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return r.lift(new o(t,e))}};var o=function(){function t(t,e){this.project=t,this.thisArg=e}return t.prototype.call=function(t,e){return e.subscribe(new a(t,this.project,this.thisArg))},t}();e.MapOperator=o;var a=function(t){function e(e,r,n){t.call(this,e),this.project=r,this.count=0,this.thisArg=n||this}return n(e,t),e.prototype._next=function(t){var e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(t){return void this.destination.error(t)}this.destination.next(e)},e}(i.Subscriber)},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function n(){this.constructor=t}t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=function(t){function e(){var e=t.call(this,"argument out of range");this.name=e.name="ArgumentOutOfRangeError",this.stack=e.stack,this.message=e.message}return n(e,t),e}(Error);e.ArgumentOutOfRangeError=i},function(t,e,r){"use strict";var n=r(136),i=r(137),o=r(131),a=r(124);e.reduce=function(t,e){return arguments.length>=2?function(r){return a.pipe(n.scan(t,e),i.takeLast(1),o.defaultIfEmpty(e))(r)}:function(e){return a.pipe(n.scan(function(e,r,n){return t(e,r,n+1)}),i.takeLast(1))(e)}}},function(t,e,r){"use strict";t.exports={staticPlot:!1,editable:!1,edits:{annotationPosition:!1,annotationTail:!1,annotationText:!1,axisTitleText:!1,colorbarPosition:!1,colorbarTitleText:!1,legendPosition:!1,legendText:!1,shapePosition:!1,titleText:!1},autosizable:!1,queueLength:0,fillFrame:!1,frameMargins:0,scrollZoom:!1,doubleClick:"reset+autosize",showTips:!0,showAxisDragHandles:!0,showAxisRangeEntryBoxes:!0,showLink:!1,sendData:!0,linkText:"Edit chart",showSources:!1,displayModeBar:"hover",modeBarButtonsToRemove:[],modeBarButtonsToAdd:[],modeBarButtons:!1,displaylogo:!0,plotGlPixelRatio:2,setBackground:"transparent",topojsonURL:"https://cdn.plot.ly/",mapboxAccessToken:null,logging:1,globalTransforms:[],locale:"en-US",locales:{}}},function(t,e,r){"use strict";var n=r(5),i=r(1),o=r(47),a=r(48),s=r(151),l=r(95),c=r(317),u=r(325),h=r(39),f=i.extendFlat,d=i.extendDeepAll,p="_isSubplotObj",v="_isLinkedToArray",y=[p,v,"_arrayAttrRegexps","_deprecated"];function g(t,e,r){if(!t)return!1;if(t._isLinkedToArray)if(m(e[r]))r++;else if(r<e.length)return!1;for(;r<e.length;r++){var n=t[e[r]];if(!i.isPlainObject(n))break;if(t=n,r===e.length-1)break;if(t._isLinkedToArray){if(!m(e[++r]))return!1}else if("info_array"===t.valType){var o=e[++r];if(!m(o)||o>=t.items.length)return!1;t=t.items[o]}}return t}function m(t){return t===Math.round(t)&&t>=0}function b(t){return function(t){function r(t){return{valType:"string",role:"info",description:["Sets the source reference on plot.ly for ",t,"."].join(" "),editType:"none"}}e.crawl(t,function(t,n,o){e.isValObject(t)?"data_array"===t.valType?(t.role="data",o[n+"src"]=r(n)):!0===t.arrayOk&&(o[n+"src"]=r(n)):i.isPlainObject(t)&&(t.role="object")})}(t),function(t){e.crawl(t,function(t,e,r){if(!t)return;var n=t[v];if(!n)return;delete t[v],r[e]={items:{}},r[e].items[n]=t,r[e].role="object"})}(t),t}function x(t,e,r){var n=i.nestedProperty(t,r),o=d({},e.layoutAttributes);o[p]=!0,n.set(o)}function w(t,e,r){var n=i.nestedProperty(t,r);n.set(d(n.get()||{},e))}e.IS_SUBPLOT_OBJ=p,e.IS_LINKED_TO_ARRAY=v,e.DEPRECATED="_deprecated",e.UNDERSCORE_ATTRS=y,e.get=function(){var t={};n.allTypes.concat("area").forEach(function(e){t[e]=function(t){var e,r;"area"===t?(e={attributes:c},r={}):(e=n.modules[t]._module,r=e.basePlotModule);var i={type:null};d(i,o),d(i,e.attributes),r.attributes&&d(i,r.attributes);i.type=t;var a={meta:e.meta||{},attributes:b(i)};if(e.layoutAttributes){var s={};d(s,e.layoutAttributes),a.layoutAttributes=b(s)}return a}(e)});var e,r={};return Object.keys(n.transformsRegistry).forEach(function(t){r[t]=function(t){var e=n.transformsRegistry[t],r=d({},e.attributes);return Object.keys(n.componentsRegistry).forEach(function(e){var i=n.componentsRegistry[e];i.schema&&i.schema.transforms&&i.schema.transforms[t]&&Object.keys(i.schema.transforms[t]).forEach(function(e){w(r,i.schema.transforms[t][e],e)})}),{attributes:b(r)}}(t)}),{defs:{valObjects:i.valObjectMeta,metaKeys:y.concat(["description","role","editType","impliedEdits"]),editType:{traces:h.traces,layout:h.layout},impliedEdits:{description:["Sometimes when an attribute is changed, other attributes","must be altered as well in order to achieve the intended","result. For example, when `range` is specified, it is","important to set `autorange` to `false` or the new `range`","value would be lost in the redraw. `impliedEdits` is the","mechanism to do this: `impliedEdits: {autorange: false}`.","Each key is a relative paths to the attribute string to","change, using *^* to ascend into the parent container,","for example `range[0]` has `impliedEdits: {*^autorange*: false}`.","A value of `undefined` means that the attribute will not be","changed, but its previous value should be recorded in case","we want to reverse this change later. For example, `autorange`","has `impliedEdits: {*range[0]*: undefined, *range[1]*:undefined}","because the range will likely be changed by redraw."].join(" ")}},traces:t,layout:function(){var t,e,r={};for(t in d(r,a),n.subplotsRegistry)if((e=n.subplotsRegistry[t]).layoutAttributes)if("cartesian"===e.name)x(r,e,"xaxis"),x(r,e,"yaxis");else{var i="subplot"===e.attr?e.name:e.attr;x(r,e,i)}for(t in r=function(t){return f(t,{radialaxis:u.radialaxis,angularaxis:u.angularaxis}),f(t,u.layout),t}(r),n.componentsRegistry){var o=(e=n.componentsRegistry[t]).schema;if(o&&(o.subplots||o.layout)){var s=o.subplots;if(s&&s.xaxis&&!s.yaxis)for(var l in s.xaxis)delete r.yaxis[l]}else e.layoutAttributes&&w(r,e.layoutAttributes,e.name)}return{layoutAttributes:b(r)}}(),transforms:r,frames:(e={frames:i.extendDeepAll({},s)},b(e),e.frames),animation:b(l)}},e.crawl=function(t,r,n,o){var a=n||0;o=o||"",Object.keys(t).forEach(function(n){var s=t[n];if(-1===y.indexOf(n)){var l=(o?o+".":"")+n;r(s,n,t,a,l),e.isValObject(s)||i.isPlainObject(s)&&"impliedEdits"!==n&&e.crawl(s,r,a+1,l)}})},e.isValObject=function(t){return t&&void 0!==t.valType},e.findArrayAttributes=function(t){var r=[],n=[];function a(e,o,a,s){if(n=n.slice(0,s).concat([o]),e&&("data_array"===e.valType||!0===e.arrayOk)&&!("colorbar"===n[s-1]&&("ticktext"===o||"tickvals"===o))){var l=function(t){return t.join(".")}(n),c=i.nestedProperty(t,l).get();Array.isArray(c)&&r.push(l)}}if(e.crawl(o,a),t._module&&t._module.attributes&&e.crawl(t._module.attributes,a),t.transforms)for(var s=t.transforms,l=0;l<s.length;l++){var c=s[l]._module;c&&(n=["transforms["+l+"]"],e.crawl(c.attributes,a,1))}return t._fullInput&&t._fullInput._module&&t._fullInput._module.attributes&&(e.crawl(t._fullInput._module.attributes,a),r=i.filterUnique(r)),r},e.getTraceValObject=function(t,e){var r,i,a=e[0],s=1;if("transforms"===a){if(!Array.isArray(t.transforms))return!1;var l=e[1];if(!m(l)||l>=t.transforms.length)return!1;i=(r=(n.transformsRegistry[t.transforms[l].type]||{}).attributes)&&r[e[2]],s=3}else if("area"===t.type)i=c[a];else{var u=t._module;if(u||(u=(n.modules[t.type||o.type.dflt]||{})._module),!u)return!1;if(!(i=(r=u.attributes)&&r[a])){var h=u.basePlotModule;h&&h.attributes&&(i=h.attributes[a])}i||(i=o[a])}return g(i,e,s)},e.getLayoutValObject=function(t,e){return g(function(t,e){var r,i,o,s,l=t._basePlotModules;if(l){var c;for(r=0;r<l.length;r++){if((o=l[r]).attrRegex&&o.attrRegex.test(e)){if(o.layoutAttrOverrides)return o.layoutAttrOverrides;!c&&o.layoutAttributes&&(c=o.layoutAttributes)}var h=o.baseLayoutAttrOverrides;if(h&&e in h)return h[e]}if(c)return c}var f=t._modules;if(f)for(r=0;r<f.length;r++)if((s=f[r].layoutAttributes)&&e in s)return s[e];for(i in n.componentsRegistry)if(!(o=n.componentsRegistry[i]).schema&&e===o.name)return o.layoutAttributes;if(e in a)return a[e];if("radialaxis"===e||"angularaxis"===e)return u[e];return u.layout[e]||!1}(t,e[0]),e,1)}},function(t,e,r){"use strict";var n=r(6),i=r(91),o=r(46),a=r(142);t.exports=function(t,e){if(n(e))e=String(e);else if("string"!=typeof e||"[-1]"===e.substr(e.length-4))throw"bad property string";for(var r,o,a,s=0,l=e.split(".");s<l.length;){if(r=String(l[s]).match(/^([^\[\]]*)((\[\-?[0-9]*\])+)$/)){if(r[1])l[s]=r[1];else{if(0!==s)throw"bad property string";l.splice(0,1)}for(o=r[2].substr(1,r[2].length-2).split("]["),a=0;a<o.length;a++)s++,l.splice(s,0,Number(o[a]))}s++}return"object"!=typeof t?function(t,e,r){return{set:function(){throw"bad container"},get:function(){},astr:e,parts:r,obj:t}}(t,e,l):{set:u(t,l,e),get:function t(e,r){return function(){var n,o,a,s,l,c=e;for(s=0;s<r.length-1;s++){if(-1===(n=r[s])){for(o=!0,a=[],l=0;l<c.length;l++)a[l]=t(c[l],r.slice(s+1))(),a[l]!==a[0]&&(o=!1);return o?a[0]:a}if("number"==typeof n&&!i(c))return;if("object"!=typeof(c=c[n])||null===c)return}if("object"==typeof c&&null!==c&&null!==(a=c[r[s]]))return a}}(t,l),astr:e,parts:l,obj:t}};var s=/(^|\.)((domain|range)(\.[xy])?|args|parallels)$/,l=/(^|\.)args\[/;function c(t,e){if(void 0!==(r=t)&&null!==r&&("object"!=typeof r||(i(r)?r.length:Object.keys(r).length))||o(t)&&"]"===e.charAt(e.length-1)||e.match(l)&&void 0!==t)return!1;var r;if(!i(t))return!0;if(e.match(s))return!0;var n=a(e);return n&&""===n.index}function u(t,e,r){return function(n){var o,a,s=t,l="",u=[[t,l]],p=c(n,r);for(a=0;a<e.length-1;a++){if("number"==typeof(o=e[a])&&!i(s))throw"array index but container is not an array";if(-1===o){if(p=!f(s,e.slice(a+1),n,r))break;return}if(!d(s,o,e[a+1],p))break;if("object"!=typeof(s=s[o])||null===s)throw"container is not an object";l=h(l,o),u.push([s,l])}p?(a===e.length-1&&delete s[e[a]],function(t){var e,r,n,o,a,s;for(e=t.length-1;e>=0;e--){if(n=t[e][0],o=t[e][1],s=!1,i(n))for(r=n.length-1;r>=0;r--)c(n[r],h(o,r))?s?n[r]=void 0:n.pop():s=!0;else if("object"==typeof n&&null!==n)for(a=Object.keys(n),s=!1,r=a.length-1;r>=0;r--)c(n[a[r]],h(o,a[r]))?delete n[a[r]]:s=!0;if(s)return}}(u)):s[e[a]]=n}}function h(t,e){var r=e;return n(e)?r="["+e+"]":t&&(r="."+e),t+r}function f(t,e,r,n){var o,a=i(r),s=!0,l=r,h=n.replace("-1",0),f=!a&&c(r,h),p=e[0];for(o=0;o<t.length;o++)h=n.replace("-1",o),a&&(f=c(l=r[o%r.length],h)),f&&(s=!1),d(t,o,p,f)&&u(t[o],e,n.replace("-1",o))(l);return s}function d(t,e,r,n){if(void 0===t[e]){if(n)return!1;t[e]="number"==typeof r?[]:{}}return!0}},function(t,e,r){"use strict";t.exports={visible:{valType:"boolean",role:"info",editType:"calc",description:["Determines whether or not this set of error bars is visible."].join(" ")},type:{valType:"enumerated",values:["percent","constant","sqrt","data"],role:"info",editType:"calc",description:["Determines the rule used to generate the error bars.","If *constant`, the bar lengths are of a constant value.","Set this constant in `value`.","If *percent*, the bar lengths correspond to a percentage of","underlying data. Set this percentage in `value`.","If *sqrt*, the bar lengths correspond to the sqaure of the","underlying data.","If *array*, the bar lengths are set with data set `array`."].join(" ")},symmetric:{valType:"boolean",role:"info",editType:"calc",description:["Determines whether or not the error bars have the same length","in both direction","(top/bottom for vertical bars, left/right for horizontal bars."].join(" ")},array:{valType:"data_array",editType:"calc",description:["Sets the data corresponding the length of each error bar.","Values are plotted relative to the underlying data."].join(" ")},arrayminus:{valType:"data_array",editType:"calc",description:["Sets the data corresponding the length of each error bar in the","bottom (left) direction for vertical (horizontal) bars","Values are plotted relative to the underlying data."].join(" ")},value:{valType:"number",min:0,dflt:10,role:"info",editType:"calc",description:["Sets the value of either the percentage","(if `type` is set to *percent*) or the constant","(if `type` is set to *constant*) corresponding to the lengths of","the error bars."].join(" ")},valueminus:{valType:"number",min:0,dflt:10,role:"info",editType:"calc",description:["Sets the value of either the percentage","(if `type` is set to *percent*) or the constant","(if `type` is set to *constant*) corresponding to the lengths of","the error bars in the","bottom (left) direction for vertical (horizontal) bars"].join(" ")},traceref:{valType:"integer",min:0,dflt:0,role:"info",editType:"style"},tracerefminus:{valType:"integer",min:0,dflt:0,role:"info",editType:"style"},copy_ystyle:{valType:"boolean",role:"style",editType:"plot"},copy_zstyle:{valType:"boolean",role:"style",editType:"style"},color:{valType:"color",role:"style",editType:"style",description:"Sets the stoke color of the error bars."},thickness:{valType:"number",min:0,dflt:2,role:"style",editType:"style",description:"Sets the thickness (in px) of the error bars."},width:{valType:"number",min:0,role:"style",editType:"plot",description:["Sets the width (in px) of the cross-bar at both ends","of the error bars."].join(" ")},editType:"calc",_deprecated:{opacity:{valType:"number",role:"style",editType:"style",description:["Obsolete.","Use the alpha channel in error bar `color` to set the opacity."].join(" ")}}}},function(t,e,r){"use strict";var n=r(34),i=r(20),o=r(18).extendFlat,a=r(39).overrideAll;t.exports=a({thicknessmode:{valType:"enumerated",values:["fraction","pixels"],role:"style",dflt:"pixels",description:["Determines whether this color bar's thickness","(i.e. the measure in the constant color direction)","is set in units of plot *fraction* or in *pixels*.","Use `thickness` to set the value."].join(" ")},thickness:{valType:"number",role:"style",min:0,dflt:30,description:["Sets the thickness of the color bar","This measure excludes the size of the padding, ticks and labels."].join(" ")},lenmode:{valType:"enumerated",values:["fraction","pixels"],role:"info",dflt:"fraction",description:["Determines whether this color bar's length","(i.e. the measure in the color variation direction)","is set in units of plot *fraction* or in *pixels.","Use `len` to set the value."].join(" ")},len:{valType:"number",min:0,dflt:1,role:"style",description:["Sets the length of the color bar","This measure excludes the padding of both ends.","That is, the color bar length is this length minus the","padding on both ends."].join(" ")},x:{valType:"number",dflt:1.02,min:-2,max:3,role:"style",description:["Sets the x position of the color bar (in plot fraction)."].join(" ")},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left",role:"style",description:["Sets this color bar's horizontal position anchor.","This anchor binds the `x` position to the *left*, *center*","or *right* of the color bar."].join(" ")},xpad:{valType:"number",role:"style",min:0,dflt:10,description:"Sets the amount of padding (in px) along the x direction."},y:{valType:"number",role:"style",dflt:.5,min:-2,max:3,description:["Sets the y position of the color bar (in plot fraction)."].join(" ")},yanchor:{valType:"enumerated",values:["top","middle","bottom"],role:"style",dflt:"middle",description:["Sets this color bar's vertical position anchor","This anchor binds the `y` position to the *top*, *middle*","or *bottom* of the color bar."].join(" ")},ypad:{valType:"number",role:"style",min:0,dflt:10,description:"Sets the amount of padding (in px) along the y direction."},outlinecolor:n.linecolor,outlinewidth:n.linewidth,bordercolor:n.linecolor,borderwidth:{valType:"number",role:"style",min:0,dflt:0,description:["Sets the width (in px) or the border enclosing this color bar."].join(" ")},bgcolor:{valType:"color",role:"style",dflt:"rgba(0,0,0,0)",description:"Sets the color of padded area."},tickmode:n.tickmode,nticks:n.nticks,tick0:n.tick0,dtick:n.dtick,tickvals:n.tickvals,ticktext:n.ticktext,ticks:o({},n.ticks,{dflt:""}),ticklen:n.ticklen,tickwidth:n.tickwidth,tickcolor:n.tickcolor,showticklabels:n.showticklabels,tickfont:i({description:"Sets the color bar's tick label font"}),tickangle:n.tickangle,tickformat:n.tickformat,tickformatstops:n.tickformatstops,tickprefix:n.tickprefix,showtickprefix:n.showtickprefix,ticksuffix:n.ticksuffix,showticksuffix:n.showticksuffix,separatethousands:n.separatethousands,exponentformat:n.exponentformat,showexponent:n.showexponent,title:{valType:"string",role:"info",description:"Sets the title of the color bar."},titlefont:i({description:"Sets this color bar's title font."}),titleside:{valType:"enumerated",values:["right","top","bottom"],role:"style",dflt:"top",description:["Determines the location of the colorbar title","with respect to the color bar."].join(" ")}},"colorbars","from-root")},function(t,e,r){"use strict";var n=r(6),i=r(1),o=r(318),a=r(319),s=r(97),l=r(98);t.exports=function(t,e,r,c,u){var h,f=u.prefix,d=u.cLetter,p=f.slice(0,f.length-1),v=f?i.nestedProperty(t,p).get()||{}:t,y=f?i.nestedProperty(e,p).get()||{}:e,g=v[d+"min"],m=v[d+"max"],b=v.colorscale;c(f+d+"auto",!(n(g)&&n(m)&&g<m)),c(f+d+"min"),c(f+d+"max"),void 0!==b&&(h=!s(b)),c(f+"autocolorscale",h);var x,w=c(f+"colorscale");(c(f+"reversescale")&&(y.colorscale=l(w)),"marker.line."!==f)&&(f&&(x=o(v)),c(f+"showscale",x)&&a(v,y,r))}},function(t,e,r){"use strict";var n=r(1),i=r(52);e.getSubplot=function(t){return t.subplot||t.xaxis+t.yaxis||t.geo},e.flat=function(t,e){for(var r=new Array(t.length),n=0;n<t.length;n++)r[n]=e;return r},e.p2c=function(t,e){for(var r=new Array(t.length),n=0;n<t.length;n++)r[n]=t[n].p2c(e);return r},e.getDistanceFunction=function(t,r,n,i){return"closest"===t?i||e.quadrature(r,n):"x"===t?r:n},e.getClosest=function(t,e,r){if(!1!==r.index)r.index>=0&&r.index<t.length?r.distance=0:r.index=!1;else for(var n=0;n<t.length;n++){var i=e(t[n]);i<=r.distance&&(r.index=n,r.distance=i)}return r},e.inbox=function(t,e){return t*e<0||0===t?i.MAXDIST*(.6-.3/Math.max(3,Math.abs(t-e))):1/0},e.quadrature=function(t,e){return function(r){var n=t(r),i=e(r);return Math.sqrt(n*n+i*i)}},e.makeEventData=function(t,r,n){var i="index"in t?t.index:t.pointNumber,o={data:r._input,fullData:r,curveNumber:r.index,pointNumber:i};if(r._indexToPoints){var a=r._indexToPoints[i];1===a.length?o.pointIndex=a[0]:o.pointIndices=a}else o.pointIndex=i;return r._module.eventData?o=r._module.eventData(o,t,r,n,i):("xVal"in t?o.x=t.xVal:"x"in t&&(o.x=t.x),"yVal"in t?o.y=t.yVal:"y"in t&&(o.y=t.y),t.xa&&(o.xaxis=t.xa),t.ya&&(o.yaxis=t.ya),void 0!==t.zLabelVal&&(o.z=t.zLabelVal)),e.appendArrayPointValue(o,r,i),o},e.appendArrayPointValue=function(t,e,r){var i=e._arrayAttrs;if(i)for(var o=0;o<i.length;o++){var l=i[o],c=a(l);if(void 0===t[c]){var u=s(n.nestedProperty(e,l).get(),r);void 0!==u&&(t[c]=u)}}},e.appendArrayMultiPointValues=function(t,e,r){var i=e._arrayAttrs;if(i)for(var o=0;o<i.length;o++){var l=i[o],c=a(l);if(void 0===t[c]){for(var u=n.nestedProperty(e,l).get(),h=new Array(r.length),f=0;f<r.length;f++)h[f]=s(u,r[f]);t[c]=h}}};var o={ids:"id",locations:"location",labels:"label",values:"value","marker.colors":"color"};function a(t){return o[t]||t}function s(t,e){return Array.isArray(e)?Array.isArray(t)&&Array.isArray(t[e[0]])?t[e[0]][e[1]]:void 0:t[e]}},function(t,e,r){"use strict";e.isRightAnchor=function(t){return"right"===t.xanchor||"auto"===t.xanchor&&t.x>=2/3},e.isCenterAnchor=function(t){return"center"===t.xanchor||"auto"===t.xanchor&&t.x>1/3&&t.x<2/3},e.isBottomAnchor=function(t){return"bottom"===t.yanchor||"auto"===t.yanchor&&t.y<=1/3},e.isMiddleAnchor=function(t){return"middle"===t.yanchor||"auto"===t.yanchor&&t.y>1/3&&t.y<2/3}},function(t,e,r){"use strict";var n=r(179),i=r(20),o=r(22);t.exports={_isLinkedToArray:"annotation",visible:{valType:"boolean",role:"info",dflt:!0,editType:"calcIfAutorange",description:["Determines whether or not this annotation is visible."].join(" ")},text:{valType:"string",role:"info",editType:"calcIfAutorange",description:["Sets the text associated with this annotation.","Plotly uses a subset of HTML tags to do things like","newline (<br>), bold (<b></b>), italics (<i></i>),","hyperlinks (<a href='...'></a>). Tags <em>, <sup>, <sub>","<span> are also supported."].join(" ")},textangle:{valType:"angle",dflt:0,role:"style",editType:"calcIfAutorange",description:["Sets the angle at which the `text` is drawn","with respect to the horizontal."].join(" ")},font:i({editType:"calcIfAutorange",colorEditType:"arraydraw",description:"Sets the annotation text font."}),width:{valType:"number",min:1,dflt:null,role:"style",editType:"calcIfAutorange",description:["Sets an explicit width for the text box. null (default) lets the","text set the box width. Wider text will be clipped.","There is no automatic wrapping; use <br> to start a new line."].join(" ")},height:{valType:"number",min:1,dflt:null,role:"style",editType:"calcIfAutorange",description:["Sets an explicit height for the text box. null (default) lets the","text set the box height. Taller text will be clipped."].join(" ")},opacity:{valType:"number",min:0,max:1,dflt:1,role:"style",editType:"arraydraw",description:"Sets the opacity of the annotation (text + arrow)."},align:{valType:"enumerated",values:["left","center","right"],dflt:"center",role:"style",editType:"arraydraw",description:["Sets the horizontal alignment of the `text` within the box.","Has an effect only if `text` spans more two or more lines","(i.e. `text` contains one or more <br> HTML tags) or if an","explicit width is set to override the text width."].join(" ")},valign:{valType:"enumerated",values:["top","middle","bottom"],dflt:"middle",role:"style",editType:"arraydraw",description:["Sets the vertical alignment of the `text` within the box.","Has an effect only if an explicit height is set to override","the text height."].join(" ")},bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)",role:"style",editType:"arraydraw",description:"Sets the background color of the annotation."},bordercolor:{valType:"color",dflt:"rgba(0,0,0,0)",role:"style",editType:"arraydraw",description:["Sets the color of the border enclosing the annotation `text`."].join(" ")},borderpad:{valType:"number",min:0,dflt:1,role:"style",editType:"calcIfAutorange",description:["Sets the padding (in px) between the `text`","and the enclosing border."].join(" ")},borderwidth:{valType:"number",min:0,dflt:1,role:"style",editType:"calcIfAutorange",description:["Sets the width (in px) of the border enclosing","the annotation `text`."].join(" ")},showarrow:{valType:"boolean",dflt:!0,role:"style",editType:"calcIfAutorange",description:["Determines whether or not the annotation is drawn with an arrow.","If *true*, `text` is placed near the arrow's tail.","If *false*, `text` lines up with the `x` and `y` provided."].join(" ")},arrowcolor:{valType:"color",role:"style",editType:"arraydraw",description:"Sets the color of the annotation arrow."},arrowhead:{valType:"integer",min:0,max:n.length,dflt:1,role:"style",editType:"arraydraw",description:"Sets the end annotation arrow head style."},startarrowhead:{valType:"integer",min:0,max:n.length,dflt:1,role:"style",editType:"arraydraw",description:"Sets the start annotation arrow head style."},arrowside:{valType:"flaglist",flags:["end","start"],extras:["none"],dflt:"end",role:"style",editType:"arraydraw",description:"Sets the annotation arrow head position."},arrowsize:{valType:"number",min:.3,dflt:1,role:"style",editType:"calcIfAutorange",description:["Sets the size of the end annotation arrow head, relative to `arrowwidth`.","A value of 1 (default) gives a head about 3x as wide as the line."].join(" ")},startarrowsize:{valType:"number",min:.3,dflt:1,role:"style",editType:"calcIfAutorange",description:["Sets the size of the start annotation arrow head, relative to `arrowwidth`.","A value of 1 (default) gives a head about 3x as wide as the line."].join(" ")},arrowwidth:{valType:"number",min:.1,role:"style",editType:"calcIfAutorange",description:"Sets the width (in px) of annotation arrow line."},standoff:{valType:"number",min:0,dflt:0,role:"style",editType:"calcIfAutorange",description:["Sets a distance, in pixels, to move the end arrowhead away from the","position it is pointing at, for example to point at the edge of","a marker independent of zoom. Note that this shortens the arrow","from the `ax` / `ay` vector, in contrast to `xshift` / `yshift`","which moves everything by this amount."].join(" ")},startstandoff:{valType:"number",min:0,dflt:0,role:"style",editType:"calcIfAutorange",description:["Sets a distance, in pixels, to move the start arrowhead away from the","position it is pointing at, for example to point at the edge of","a marker independent of zoom. Note that this shortens the arrow","from the `ax` / `ay` vector, in contrast to `xshift` / `yshift`","which moves everything by this amount."].join(" ")},ax:{valType:"any",role:"info",editType:"calcIfAutorange",description:["Sets the x component of the arrow tail about the arrow head.","If `axref` is `pixel`, a positive (negative) ","component corresponds to an arrow pointing","from right to left (left to right).","If `axref` is an axis, this is an absolute value on that axis,","like `x`, NOT a relative value."].join(" ")},ay:{valType:"any",role:"info",editType:"calcIfAutorange",description:["Sets the y component of the arrow tail about the arrow head.","If `ayref` is `pixel`, a positive (negative) ","component corresponds to an arrow pointing","from bottom to top (top to bottom).","If `ayref` is an axis, this is an absolute value on that axis,","like `y`, NOT a relative value."].join(" ")},axref:{valType:"enumerated",dflt:"pixel",values:["pixel",o.idRegex.x.toString()],role:"info",editType:"calc",description:["Indicates in what terms the tail of the annotation (ax,ay) ","is specified. If `pixel`, `ax` is a relative offset in pixels ","from `x`. If set to an x axis id (e.g. *x* or *x2*), `ax` is ","specified in the same terms as that axis. This is useful ","for trendline annotations which should continue to indicate ","the correct trend when zoomed."].join(" ")},ayref:{valType:"enumerated",dflt:"pixel",values:["pixel",o.idRegex.y.toString()],role:"info",editType:"calc",description:["Indicates in what terms the tail of the annotation (ax,ay) ","is specified. If `pixel`, `ay` is a relative offset in pixels ","from `y`. If set to a y axis id (e.g. *y* or *y2*), `ay` is ","specified in the same terms as that axis. This is useful ","for trendline annotations which should continue to indicate ","the correct trend when zoomed."].join(" ")},xref:{valType:"enumerated",values:["paper",o.idRegex.x.toString()],role:"info",editType:"calc",description:["Sets the annotation's x coordinate axis.","If set to an x axis id (e.g. *x* or *x2*), the `x` position","refers to an x coordinate","If set to *paper*, the `x` position refers to the distance from","the left side of the plotting area in normalized coordinates","where 0 (1) corresponds to the left (right) side."].join(" ")},x:{valType:"any",role:"info",editType:"calcIfAutorange",description:["Sets the annotation's x position.","If the axis `type` is *log*, then you must take the","log of your desired range.","If the axis `type` is *date*, it should be date strings,","like date data, though Date objects and unix milliseconds","will be accepted and converted to strings.","If the axis `type` is *category*, it should be numbers,","using the scale where each category is assigned a serial","number from zero in the order it appears."].join(" ")},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto",role:"info",editType:"calcIfAutorange",description:["Sets the text box's horizontal position anchor","This anchor binds the `x` position to the *left*, *center*","or *right* of the annotation.","For example, if `x` is set to 1, `xref` to *paper* and","`xanchor` to *right* then the right-most portion of the","annotation lines up with the right-most edge of the","plotting area.","If *auto*, the anchor is equivalent to *center* for","data-referenced annotations or if there is an arrow,","whereas for paper-referenced with no arrow, the anchor picked","corresponds to the closest side."].join(" ")},xshift:{valType:"number",dflt:0,role:"style",editType:"calcIfAutorange",description:["Shifts the position of the whole annotation and arrow to the","right (positive) or left (negative) by this many pixels."].join(" ")},yref:{valType:"enumerated",values:["paper",o.idRegex.y.toString()],role:"info",editType:"calc",description:["Sets the annotation's y coordinate axis.","If set to an y axis id (e.g. *y* or *y2*), the `y` position","refers to an y coordinate","If set to *paper*, the `y` position refers to the distance from","the bottom of the plotting area in normalized coordinates","where 0 (1) corresponds to the bottom (top)."].join(" ")},y:{valType:"any",role:"info",editType:"calcIfAutorange",description:["Sets the annotation's y position.","If the axis `type` is *log*, then you must take the","log of your desired range.","If the axis `type` is *date*, it should be date strings,","like date data, though Date objects and unix milliseconds","will be accepted and converted to strings.","If the axis `type` is *category*, it should be numbers,","using the scale where each category is assigned a serial","number from zero in the order it appears."].join(" ")},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"auto",role:"info",editType:"calcIfAutorange",description:["Sets the text box's vertical position anchor","This anchor binds the `y` position to the *top*, *middle*","or *bottom* of the annotation.","For example, if `y` is set to 1, `yref` to *paper* and","`yanchor` to *top* then the top-most portion of the","annotation lines up with the top-most edge of the","plotting area.","If *auto*, the anchor is equivalent to *middle* for","data-referenced annotations or if there is an arrow,","whereas for paper-referenced with no arrow, the anchor picked","corresponds to the closest side."].join(" ")},yshift:{valType:"number",dflt:0,role:"style",editType:"calcIfAutorange",description:["Shifts the position of the whole annotation and arrow up","(positive) or down (negative) by this many pixels."].join(" ")},clicktoshow:{valType:"enumerated",values:[!1,"onoff","onout"],dflt:!1,role:"style",editType:"arraydraw",description:["Makes this annotation respond to clicks on the plot.","If you click a data point that exactly matches the `x` and `y`","values of this annotation, and it is hidden (visible: false),","it will appear. In *onoff* mode, you must click the same point","again to make it disappear, so if you click multiple points,","you can show multiple annotations. In *onout* mode, a click","anywhere else in the plot (on another data point or not) will","hide this annotation.","If you need to show/hide this annotation in response to different","`x` or `y` values, you can set `xclick` and/or `yclick`. This is","useful for example to label the side of a bar. To label markers","though, `standoff` is preferred over `xclick` and `yclick`."].join(" ")},xclick:{valType:"any",role:"info",editType:"arraydraw",description:["Toggle this annotation when clicking a data point whose `x` value","is `xclick` rather than the annotation's `x` value."].join(" ")},yclick:{valType:"any",role:"info",editType:"arraydraw",description:["Toggle this annotation when clicking a data point whose `y` value","is `yclick` rather than the annotation's `y` value."].join(" ")},hovertext:{valType:"string",role:"info",editType:"arraydraw",description:["Sets text to appear when hovering over this annotation.","If omitted or blank, no hover label will appear."].join(" ")},hoverlabel:{bgcolor:{valType:"color",role:"style",editType:"arraydraw",description:["Sets the background color of the hover label.","By default uses the annotation's `bgcolor` made opaque,","or white if it was transparent."].join(" ")},bordercolor:{valType:"color",role:"style",editType:"arraydraw",description:["Sets the border color of the hover label.","By default uses either dark grey or white, for maximum","contrast with `hoverlabel.bgcolor`."].join(" ")},font:i({editType:"arraydraw",description:["Sets the hover label text font.","By default uses the global hover font and size,","with color from `hoverlabel.bordercolor`."].join(" ")}),editType:"arraydraw"},captureevents:{valType:"boolean",role:"info",editType:"arraydraw",description:["Determines whether the annotation text box captures mouse move","and click events, or allows those events to pass through to data","points in the plot that may be behind the annotation. By default","`captureevents` is *false* unless `hovertext` is provided.","If you use the event `plotly_clickannotation` without `hovertext`","you must explicitly enable `captureevents`."].join(" ")},editType:"calc",_deprecated:{ref:{valType:"string",role:"info",editType:"calc",description:["Obsolete. Set `xref` and `yref` separately instead."].join(" ")}}}},function(t,e,r){"use strict";t.exports={name:"sliders",containerClassName:"slider-container",groupClassName:"slider-group",inputAreaClass:"slider-input-area",railRectClass:"slider-rail-rect",railTouchRectClass:"slider-rail-touch-rect",gripRectClass:"slider-grip-rect",tickRectClass:"slider-tick-rect",inputProxyClass:"slider-input-proxy",labelsClass:"slider-labels",labelGroupClass:"slider-label-group",labelClass:"slider-label",currentValueClass:"slider-current-value",railHeight:5,menuIndexAttrName:"slider-active-index",autoMarginIdRoot:"slider-",minWidth:30,minHeight:30,textPadX:40,arrowOffsetX:4,railRadius:2,railWidth:5,railBorder:4,railBorderWidth:1,railBorderColor:"#bec8d9",railBgColor:"#f8fafc",railInset:8,stepInset:10,gripRadius:10,gripWidth:20,gripHeight:20,gripBorder:20,gripBorderWidth:1,gripBorderColor:"#bec8d9",gripBgColor:"#f6f8fa",gripBgActiveColor:"#dbdde0",labelPadding:8,labelOffset:0,tickWidth:1,tickColor:"#333",tickOffset:25,tickLength:7,minorTickOffset:25,minorTickColor:"#333",minorTickLength:4,currentValuePadding:8,currentValueInset:0}},function(t,e){t.exports=function(t){var e=[];return e.toString=function(){return this.map(function(e){var r=function(t,e){var r=t[1]||"",n=t[3];if(!n)return r;if(e&&"function"==typeof btoa){var i=(a=n,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(a))))+" */"),o=n.sources.map(function(t){return"/*# sourceURL="+n.sourceRoot+t+" */"});return[r].concat(o).concat([i]).join("\n")}var a;return[r].join("\n")}(e,t);return e[2]?"@media "+e[2]+"{"+r+"}":r}).join("")},e.i=function(t,r){"string"==typeof t&&(t=[[null,t,""]]);for(var n={},i=0;i<this.length;i++){var o=this[i][0];"number"==typeof o&&(n[o]=!0)}for(i=0;i<t.length;i++){var a=t[i];"number"==typeof a[0]&&n[a[0]]||(r&&!a[2]?a[2]=r:r&&(a[2]="("+a[2]+") and ("+r+")"),e.push(a))}},e}},function(t,e,r){var n,i,o={},a=(n=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===i&&(i=n.apply(this,arguments)),i}),s=function(t){var e={};return function(t){if("function"==typeof t)return t();if(void 0===e[t]){var r=function(t){return document.querySelector(t)}.call(this,t);if(window.HTMLIFrameElement&&r instanceof window.HTMLIFrameElement)try{r=r.contentDocument.head}catch(t){r=null}e[t]=r}return e[t]}}(),l=null,c=0,u=[],h=r(462);function f(t,e){for(var r=0;r<t.length;r++){var n=t[r],i=o[n.id];if(i){i.refs++;for(var a=0;a<i.parts.length;a++)i.parts[a](n.parts[a]);for(;a<n.parts.length;a++)i.parts.push(m(n.parts[a],e))}else{var s=[];for(a=0;a<n.parts.length;a++)s.push(m(n.parts[a],e));o[n.id]={id:n.id,refs:1,parts:s}}}}function d(t,e){for(var r=[],n={},i=0;i<t.length;i++){var o=t[i],a=e.base?o[0]+e.base:o[0],s={css:o[1],media:o[2],sourceMap:o[3]};n[a]?n[a].parts.push(s):r.push(n[a]={id:a,parts:[s]})}return r}function p(t,e){var r=s(t.insertInto);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var n=u[u.length-1];if("top"===t.insertAt)n?n.nextSibling?r.insertBefore(e,n.nextSibling):r.appendChild(e):r.insertBefore(e,r.firstChild),u.push(e);else if("bottom"===t.insertAt)r.appendChild(e);else{if("object"!=typeof t.insertAt||!t.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var i=s(t.insertInto+" "+t.insertAt.before);r.insertBefore(e,i)}}function v(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t);var e=u.indexOf(t);e>=0&&u.splice(e,1)}function y(t){var e=document.createElement("style");return t.attrs.type="text/css",g(e,t.attrs),p(t,e),e}function g(t,e){Object.keys(e).forEach(function(r){t.setAttribute(r,e[r])})}function m(t,e){var r,n,i,o;if(e.transform&&t.css){if(!(o=e.transform(t.css)))return function(){};t.css=o}if(e.singleton){var a=c++;r=l||(l=y(e)),n=w.bind(null,r,a,!1),i=w.bind(null,r,a,!0)}else t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(r=function(t){var e=document.createElement("link");return t.attrs.type="text/css",t.attrs.rel="stylesheet",g(e,t.attrs),p(t,e),e}(e),n=function(t,e,r){var n=r.css,i=r.sourceMap,o=void 0===e.convertToAbsoluteUrls&&i;(e.convertToAbsoluteUrls||o)&&(n=h(n));i&&(n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */");var a=new Blob([n],{type:"text/css"}),s=t.href;t.href=URL.createObjectURL(a),s&&URL.revokeObjectURL(s)}.bind(null,r,e),i=function(){v(r),r.href&&URL.revokeObjectURL(r.href)}):(r=y(e),n=function(t,e){var r=e.css,n=e.media;n&&t.setAttribute("media",n);if(t.styleSheet)t.styleSheet.cssText=r;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(r))}}.bind(null,r),i=function(){v(r)});return n(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;n(t=e)}else i()}}t.exports=function(t,e){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(e=e||{}).attrs="object"==typeof e.attrs?e.attrs:{},e.singleton||"boolean"==typeof e.singleton||(e.singleton=a()),e.insertInto||(e.insertInto="head"),e.insertAt||(e.insertAt="bottom");var r=d(t,e);return f(r,e),function(t){for(var n=[],i=0;i<r.length;i++){var a=r[i];(s=o[a.id]).refs--,n.push(s)}t&&f(d(t,e),e);for(i=0;i<n.length;i++){var s;if(0===(s=n[i]).refs){for(var l=0;l<s.parts.length;l++)s.parts[l]();delete o[s.id]}}}};var b,x=(b=[],function(t,e){return b[t]=e,b.filter(Boolean).join("\n")});function w(t,e,r,n){var i=r?"":n.css;if(t.styleSheet)t.styleSheet.cssText=x(e,i);else{var o=document.createTextNode(i),a=t.childNodes;a[e]&&t.removeChild(a[e]),a.length?t.insertBefore(o,a[e]):t.appendChild(o)}}},function(t,e,r){"use strict";e.isFunction=function(t){return"function"==typeof t}},function(t,e,r){"use strict";var n=r(19).root.Symbol;e.rxSubscriber="function"==typeof n&&"function"==typeof n.for?n.for("rxSubscriber"):"@@rxSubscriber",e.$$rxSubscriber=e.rxSubscriber},function(t,e,r){"use strict";var n=r(19);function i(t){var e,r=t.Symbol;return"function"==typeof r?r.observable?e=r.observable:(e=r("observable"),r.observable=e):e="@@observable",e}e.getSymbolObservable=i,e.observable=i(n.root),e.$$observable=e.observable},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function n(){this.constructor=t}t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=function(t){function e(){var e=t.call(this,"object unsubscribed");this.name=e.name="ObjectUnsubscribedError",this.stack=e.stack,this.message=e.message}return n(e,t),e}(Error);e.ObjectUnsubscribedError=i},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function n(){this.constructor=t}t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=r(15),o=r(13),a=function(t){function e(){t.apply(this,arguments),this.value=null,this.hasNext=!1,this.hasCompleted=!1}return n(e,t),e.prototype._subscribe=function(e){return this.hasError?(e.error(this.thrownError),o.Subscription.EMPTY):this.hasCompleted&&this.hasNext?(e.next(this.value),e.complete(),o.Subscription.EMPTY):t.prototype._subscribe.call(this,e)},e.prototype.next=function(t){this.hasCompleted||(this.value=t,this.hasNext=!0)},e.prototype.error=function(e){this.hasCompleted||t.prototype.error.call(this,e)},e.prototype.complete=function(){this.hasCompleted=!0,this.hasNext&&t.prototype.next.call(this,this.value),t.prototype.complete.call(this)},e}(i.Subject);e.AsyncSubject=a},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function n(){this.constructor=t}t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=r(36),o=r(30),a=r(7),s=r(8),l={};e.combineLatest=function(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];var r=null;return"function"==typeof t[t.length-1]&&(r=t.pop()),1===t.length&&o.isArray(t[0])&&(t=t[0].slice()),function(e){return e.lift.call(new i.ArrayObservable([e].concat(t)),new c(r))}};var c=function(){function t(t){this.project=t}return t.prototype.call=function(t,e){return e.subscribe(new u(t,this.project))},t}();e.CombineLatestOperator=c;var u=function(t){function e(e,r){t.call(this,e),this.project=r,this.active=0,this.values=[],this.observables=[]}return n(e,t),e.prototype._next=function(t){this.values.push(l),this.observables.push(t)},e.prototype._complete=function(){var t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(var r=0;r<e;r++){var n=t[r];this.add(s.subscribeToResult(this,n,n,r))}}},e.prototype.notifyComplete=function(t){0==(this.active-=1)&&this.destination.complete()},e.prototype.notifyNext=function(t,e,r,n,i){var o=this.values,a=o[r],s=this.toRespond?a===l?--this.toRespond:this.toRespond:0;o[r]=e,0===s&&(this.project?this._tryProject(o):this.destination.next(o.slice()))},e.prototype._tryProject=function(t){var e;try{e=this.project.apply(this,t)}catch(t){return void this.destination.error(t)}this.destination.next(e)},e}(a.OuterSubscriber);e.CombineLatestSubscriber=u},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function n(){this.constructor=t}t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=r(2),o=r(55);e.observeOn=function(t,e){return void 0===e&&(e=0),function(r){return r.lift(new a(t,e))}};var a=function(){function t(t,e){void 0===e&&(e=0),this.scheduler=t,this.delay=e}return t.prototype.call=function(t,e){return e.subscribe(new s(t,this.scheduler,this.delay))},t}();e.ObserveOnOperator=a;var s=function(t){function e(e,r,n){void 0===n&&(n=0),t.call(this,e),this.scheduler=r,this.delay=n}return n(e,t),e.dispatch=function(t){var e=t.notification,r=t.destination;e.observe(r),this.unsubscribe()},e.prototype.scheduleMessage=function(t){this.add(this.scheduler.schedule(e.dispatch,this.delay,new l(t,this.destination)))},e.prototype._next=function(t){this.scheduleMessage(o.Notification.createNext(t))},e.prototype._error=function(t){this.scheduleMessage(o.Notification.createError(t))},e.prototype._complete=function(){this.scheduleMessage(o.Notification.createComplete())},e}(i.Subscriber);e.ObserveOnSubscriber=s;var l=function(){return function(t,e){this.notification=t,this.destination=e}}();e.ObserveOnMessage=l},function(t,e,r){"use strict";var n=r(56),i=r(208);e.mergeAll=function(t){return void 0===t&&(t=Number.POSITIVE_INFINITY),n.mergeMap(i.identity,null,t)}},function(t,e,r){"use strict";var n=r(0),i=r(36),o=r(29),a=r(82);e.merge=function(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];var r=Number.POSITIVE_INFINITY,s=null,l=t[t.length-1];return o.isScheduler(l)?(s=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(r=t.pop())):"number"==typeof l&&(r=t.pop()),null===s&&1===t.length&&t[0]instanceof n.Observable?t[0]:a.mergeAll(r)(new i.ArrayObservable(t,s))}},function(t,e,r){"use strict";e.isDate=function(t){return t instanceof Date&&!isNaN(+t)}},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function n(){this.constructor=t}t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=r(36),o=r(30),a=r(2),s=r(7),l=r(8),c=r(53);function u(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];var r=t[t.length-1];return"function"==typeof r&&t.pop(),new i.ArrayObservable(t).lift(new h(r))}e.zip=function(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];return function(e){return e.lift.call(u.apply(void 0,[e].concat(t)))}},e.zipStatic=u;var h=function(){function t(t){this.project=t}return t.prototype.call=function(t,e){return e.subscribe(new f(t,this.project))},t}();e.ZipOperator=h;var f=function(t){function e(e,r,n){void 0===n&&(n=Object.create(null)),t.call(this,e),this.iterators=[],this.active=0,this.project="function"==typeof r?r:null,this.values=n}return n(e,t),e.prototype._next=function(t){var e=this.iterators;o.isArray(t)?e.push(new p(t)):"function"==typeof t[c.iterator]?e.push(new d(t[c.iterator]())):e.push(new v(this.destination,this,t))},e.prototype._complete=function(){var t=this.iterators,e=t.length;if(0!==e){this.active=e;for(var r=0;r<e;r++){var n=t[r];n.stillUnsubscribed?this.add(n.subscribe(n,r)):this.active--}}else this.destination.complete()},e.prototype.notifyInactive=function(){this.active--,0===this.active&&this.destination.complete()},e.prototype.checkIterators=function(){for(var t=this.iterators,e=t.length,r=this.destination,n=0;n<e;n++){if("function"==typeof(a=t[n]).hasValue&&!a.hasValue())return}var i=!1,o=[];for(n=0;n<e;n++){var a,s=(a=t[n]).next();if(a.hasCompleted()&&(i=!0),s.done)return void r.complete();o.push(s.value)}this.project?this._tryProject(o):r.next(o),i&&r.complete()},e.prototype._tryProject=function(t){var e;try{e=this.project.apply(this,t)}catch(t){return void this.destination.error(t)}this.destination.next(e)},e}(a.Subscriber);e.ZipSubscriber=f;var d=function(){function t(t){this.iterator=t,this.nextResult=t.next()}return t.prototype.hasValue=function(){return!0},t.prototype.next=function(){var t=this.nextResult;return this.nextResult=this.iterator.next(),t},t.prototype.hasCompleted=function(){var t=this.nextResult;return t&&t.done},t}(),p=function(){function t(t){this.array=t,this.index=0,this.length=0,this.length=t.length}return t.prototype[c.iterator]=function(){return this},t.prototype.next=function(t){var e=this.index++,r=this.array;return e<this.length?{value:r[e],done:!1}:{value:null,done:!0}},t.prototype.hasValue=function(){return this.array.length>this.index},t.prototype.hasCompleted=function(){return this.array.length===this.index},t}(),v=function(t){function e(e,r,n){t.call(this,e),this.parent=r,this.observable=n,this.stillUnsubscribed=!0,this.buffer=[],this.isComplete=!1}return n(e,t),e.prototype[c.iterator]=function(){return this},e.prototype.next=function(){var t=this.buffer;return 0===t.length&&this.isComplete?{value:null,done:!0}:{value:t.shift(),done:!1}},e.prototype.hasValue=function(){return this.buffer.length>0},e.prototype.hasCompleted=function(){return 0===this.buffer.length&&this.isComplete},e.prototype.notifyComplete=function(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()},e.prototype.notifyNext=function(t,e,r,n,i){this.buffer.push(e),this.parent.checkIterators()},e.prototype.subscribe=function(t,e){return l.subscribeToResult(this,this.observable,this,e)},e}(s.OuterSubscriber)},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function n(){this.constructor=t}t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=r(15),o=r(211),a=r(13),s=r(81),l=r(78),c=r(201),u=function(t){function e(e,r,n){void 0===e&&(e=Number.POSITIVE_INFINITY),void 0===r&&(r=Number.POSITIVE_INFINITY),t.call(this),this.scheduler=n,this._events=[],this._bufferSize=e<1?1:e,this._windowTime=r<1?1:r}return n(e,t),e.prototype.next=function(e){var r=this._getNow();this._events.push(new h(r,e)),this._trimBufferThenGetEvents(),t.prototype.next.call(this,e)},e.prototype._subscribe=function(t){var e,r=this._trimBufferThenGetEvents(),n=this.scheduler;if(this.closed)throw new l.ObjectUnsubscribedError;this.hasError?e=a.Subscription.EMPTY:this.isStopped?e=a.Subscription.EMPTY:(this.observers.push(t),e=new c.SubjectSubscription(this,t)),n&&t.add(t=new s.ObserveOnSubscriber(t,n));for(var i=r.length,o=0;o<i&&!t.closed;o++)t.next(r[o].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),e},e.prototype._getNow=function(){return(this.scheduler||o.queue).now()},e.prototype._trimBufferThenGetEvents=function(){for(var t=this._getNow(),e=this._bufferSize,r=this._windowTime,n=this._events,i=n.length,o=0;o<i&&!(t-n[o].time<r);)o++;return i>e&&(o=Math.max(o,i-e)),o>0&&n.splice(0,o),n},e}(i.Subject);e.ReplaySubject=u;var h=function(){return function(t,e){this.time=t,this.value=e}}()},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function n(){this.constructor=t}t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=function(t){function e(){var e=t.call(this,"no elements in sequence");this.name=e.name="EmptyError",this.stack=e.stack,this.message=e.message}return n(e,t),e}(Error);e.EmptyError=i},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function n(){this.constructor=t}t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=r(7),o=r(8);e.defaultThrottleConfig={leading:!0,trailing:!1},e.throttle=function(t,r){return void 0===r&&(r=e.defaultThrottleConfig),function(e){return e.lift(new a(t,r.leading,r.trailing))}};var a=function(){function t(t,e,r){this.durationSelector=t,this.leading=e,this.trailing=r}return t.prototype.call=function(t,e){return e.subscribe(new s(t,this.durationSelector,this.leading,this.trailing))},t}(),s=function(t){function e(e,r,n,i){t.call(this,e),this.destination=e,this.durationSelector=r,this._leading=n,this._trailing=i,this._hasTrailingValue=!1}return n(e,t),e.prototype._next=function(t){if(this.throttled)this._trailing&&(this._hasTrailingValue=!0,this._trailingValue=t);else{var e=this.tryDurationSelector(t);e&&this.add(this.throttled=o.subscribeToResult(this,e)),this._leading&&(this.destination.next(t),this._trailing&&(this._hasTrailingValue=!0,this._trailingValue=t))}},e.prototype.tryDurationSelector=function(t){try{return this.durationSelector(t)}catch(t){return this.destination.error(t),null}},e.prototype._unsubscribe=function(){var t=this.throttled;this._trailingValue,this._hasTrailingValue,this._trailing;this._trailingValue=null,this._hasTrailingValue=!1,t&&(this.remove(t),this.throttled=null,t.unsubscribe())},e.prototype._sendTrailing=function(){var t=this,e=t.destination,r=t.throttled,n=t._trailing,i=t._trailingValue,o=t._hasTrailingValue;r&&n&&o&&(e.next(i),this._trailingValue=null,this._hasTrailingValue=!1)},e.prototype.notifyNext=function(t,e,r,n,i){this._sendTrailing(),this._unsubscribe()},e.prototype.notifyComplete=function(){this._sendTrailing(),this._unsubscribe()},e}(i.OuterSubscriber)},function(t,e,r){"use strict";t.exports=function(){}},function(t,e,r){"use strict";var n=r(20);t.exports={hoverlabel:{bgcolor:{valType:"color",role:"style",arrayOk:!0,editType:"none",description:["Sets the background color of the hover labels for this trace"].join(" ")},bordercolor:{valType:"color",role:"style",arrayOk:!0,editType:"none",description:["Sets the border color of the hover labels for this trace."].join(" ")},font:n({arrayOk:!0,editType:"none",description:"Sets the font used in hover labels."}),namelength:{valType:"integer",min:-1,arrayOk:!0,role:"style",editType:"none",description:["Sets the length (in number of characters) of the trace name in","the hover labels for this trace. -1 shows the whole name","regardless of length. 0-3 shows the first 0-3 characters, and","an integer >3 will show the whole name if it is less than that","many characters, but if it is longer, will truncate to","`namelength - 3` characters and add an ellipsis."].join(" ")},editType:"calc"}}},function(t,e,r){"use strict";var n="undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer:{isView:function(){return!1}};t.exports=function(t){return Array.isArray(t)||n.isView(t)}},function(t,e,r){"use strict";t.exports=function(t,e){var r=t%e;return r<0?r+e:r}},function(t,e,r){"use strict";var n=r(6);t.exports=function(t,e){if(t>0)return Math.log(t)/Math.LN10;var r=Math.log(Math.min(e[0],e[1]))/Math.LN10;return n(r)||(r=Math.log(Math.max(e[0],e[1]))/Math.LN10-6),r}},function(t,e,r){"use strict";var n={};function i(t){t&&null!==t.timer&&(clearTimeout(t.timer),t.timer=null)}e.throttle=function(t,e,r){var o=n[t],a=Date.now();if(!o){for(var s in n)n[s].ts<a-6e4&&delete n[s];o=n[t]={ts:0,timer:null}}function l(){r(),o.ts=Date.now(),o.onDone&&(o.onDone(),o.onDone=null)}i(o),a>o.ts+e?l():o.timer=setTimeout(function(){l(),o.timer=null},e)},e.done=function(t){var e=n[t];return e&&e.timer?new Promise(function(t){var r=e.onDone;e.onDone=function(){r&&r(),t(),e.onDone=null}}):Promise.resolve()},e.clear=function(t){if(t)i(n[t]),delete n[t];else for(var r in n)e.clear(r)}},function(t,e,r){"use strict";t.exports={mode:{valType:"enumerated",dflt:"afterall",role:"info",values:["immediate","next","afterall"],description:["Describes how a new animate call interacts with currently-running","animations. If `immediate`, current animations are interrupted and","the new animation is started. If `next`, the current frame is allowed","to complete, after which the new animation is started. If `afterall`","all existing frames are animated to completion before the new animation","is started."].join(" ")},direction:{valType:"enumerated",role:"info",values:["forward","reverse"],dflt:"forward",description:["The direction in which to play the frames triggered by the animation call"].join(" ")},fromcurrent:{valType:"boolean",dflt:!1,role:"info",description:["Play frames starting at the current frame instead of the beginning."].join(" ")},frame:{duration:{valType:"number",role:"info",min:0,dflt:500,description:["The duration in milliseconds of each frame. If greater than the frame","duration, it will be limited to the frame duration."].join(" ")},redraw:{valType:"boolean",role:"info",dflt:!0,description:["Redraw the plot at completion of the transition. This is desirable","for transitions that include properties that cannot be transitioned,","but may significantly slow down updates that do not require a full","redraw of the plot"].join(" ")}},transition:{duration:{valType:"number",role:"info",min:0,dflt:500,description:["The duration of the transition, in milliseconds. If equal to zero,","updates are synchronous."].join(" ")},easing:{valType:"enumerated",dflt:"cubic-in-out",values:["linear","quad","cubic","sin","exp","circle","elastic","back","bounce","linear-in","quad-in","cubic-in","sin-in","exp-in","circle-in","elastic-in","back-in","bounce-in","linear-out","quad-out","cubic-out","sin-out","exp-out","circle-out","elastic-out","back-out","bounce-out","linear-in-out","quad-in-out","cubic-in-out","sin-in-out","exp-in-out","circle-in-out","elastic-in-out","back-in-out","bounce-in-out"],role:"info",description:"The easing function used for the transition"}}}},function(t,e,r){"use strict";e.dash={valType:"string",values:["solid","dot","dash","longdash","dashdot","longdashdot"],dflt:"solid",role:"style",editType:"style",description:["Sets the dash style of lines. Set to a dash type string","(*solid*, *dot*, *dash*, *longdash*, *dashdot*, or *longdashdot*)","or a dash length list in px (eg *5px,10px,2px,2px*)."].join(" ")}},function(t,e,r){"use strict";var n=r(38),i=r(145);t.exports=function(t){return void 0!==n[t]||i(t)}},function(t,e,r){"use strict";t.exports=function(t){for(var e,r=t.length,n=new Array(r),i=r-1,o=0;i>=0;i--,o++)e=t[i],n[o]=[1-e[0],e[1]];return n}},function(t,e,r){"use strict";var n=r(1),i=r(38),o=r(98);t.exports=function(t,e,r,a){var s,l;r?(s=n.nestedProperty(t,r).get(),l=n.nestedProperty(t._input,r).get()):(s=t,l=t._input);var c=a+"auto",u=a+"min",h=a+"max",f=s[c],d=s[u],p=s[h],v=s.colorscale;!1===f&&void 0!==d||(d=n.aggNums(Math.min,null,e)),!1===f&&void 0!==p||(p=n.aggNums(Math.max,null,e)),d===p&&(d-=.5,p+=.5),s[u]=d,s[h]=p,l[u]=d,l[h]=p,l[c]=!1!==f||void 0===d&&void 0===p,s.autocolorscale&&(v=d*p<0?i.RdBu:d>=0?i.Reds:i.Blues,l.colorscale=v,s.reversescale&&(v=o(v)),s.colorscale=v)}},function(t,e,r){"use strict";t.exports={PTS_LINESONLY:20,minTolerance:.2,toleranceGrowth:10,maxScreensAway:20}},function(t,e,r){"use strict";var n=r(6),i=r(5),o=r(1),a=r(66);t.exports=function(t,e,r,s){var l="error_"+s.axis,c=e[l]={},u=t[l]||{};function h(t,e){return o.coerce(u,c,a,t,e)}if(!1!==h("visible",void 0!==u.array||void 0!==u.value||"sqrt"===u.type)){var f=h("type","array"in u?"data":"percent"),d=!0;if("sqrt"!==f&&(d=h("symmetric",!(("data"===f?"arrayminus":"valueminus")in u))),"data"===f){if(h("array")||(c.array=[]),h("traceref"),!d)h("arrayminus")||(c.arrayminus=[]),h("tracerefminus")}else"percent"!==f&&"constant"!==f||(h("value"),d||h("valueminus"));var p="copy_"+s.inherit+"style";if(s.inherit)(e["error_"+s.inherit]||{}).visible&&h(p,!(u.color||n(u.thickness)||n(u.width)));s.inherit&&c[p]||(h("color",r),h("thickness"),h("width",i.traceIs(e,"gl3d")?0:4))}}},function(t,e,r){"use strict";var n=r(3),i=r(6),o=r(12),a=r(14),s=r(1),l=r(9),c=r(4),u=r(23),h=r(49),f=/ [XY][0-9]* /;(t.exports={}).draw=function(t,e,r){var d,p=r.propContainer,v=r.propName,y=r.placeholder,g=r.traceIndex,m=r.avoid||{},b=r.attributes,x=r.transform,w=r.containerGroup,_=t._fullLayout,k=p.titlefont||{},T=k.family,A=k.size,M=k.color,S=1,O=!1,C=(p.title||"").trim();"title"===v?d="titleText":-1!==v.indexOf("axis")?d="axisTitleText":v.indexOf(!0)&&(d="colorbarTitleText");var L=t._context.edits[d];""===C?S=0:C.replace(f," % ")===y.replace(f," % ")&&(S=.2,O=!0,L||(C=""));var j=C||L;w||(w=_._infolayer.selectAll(".g-"+e).data([0])).enter().append("g").classed("g-"+e,!0);var I=w.selectAll("text").data(j?[0]:[]);if(I.enter().append("text"),I.text(C).attr("class",e),I.exit().remove(),!j)return w;function P(t){s.syncOrAsync([E,z],t)}function E(e){var r;return x?(r="",x.rotate&&(r+="rotate("+[x.rotate,b.x,b.y]+")"),x.offset&&(r+="translate(0, "+x.offset+")")):r=null,e.attr("transform",r),e.style({"font-family":T,"font-size":n.round(A,2)+"px",fill:c.rgb(M),opacity:S*c.opacity(M),"font-weight":a.fontWeight}).attr(b).call(u.convertToTspans,t),a.previousPromises(t)}function z(t){var e=n.select(t.node().parentNode);if(m&&m.selection&&m.side&&C){e.attr("transform",null);var r=0,o={left:"right",right:"left",top:"bottom",bottom:"top"}[m.side],a=-1!==["left","top"].indexOf(m.side)?-1:1,c=i(m.pad)?m.pad:2,u=l.bBox(e.node()),h={left:0,top:0,right:_.width,bottom:_.height},f=m.maxShift||(h[m.side]-u[m.side])*("left"===m.side||"top"===m.side?-1:1);if(f<0)r=f;else{var d=m.offsetLeft||0,p=m.offsetTop||0;u.left-=d,u.right-=d,u.top-=p,u.bottom-=p,m.selection.each(function(){var t=l.bBox(this);s.bBoxIntersect(u,t,c)&&(r=Math.max(r,a*(t[m.side]-u[o])+c))}),r=Math.min(f,r)}if(r>0||f<0){var v={left:[-r,0],right:[r,0],top:[0,-r],bottom:[0,r]}[m.side];e.attr("transform","translate("+v+")")}}}return I.call(P),L&&(C?I.on(".opacity",null):(S=0,O=!0,I.text(y).on("mouseover.opacity",function(){n.select(this).transition().duration(h.SHOW_PLACEHOLDER).style("opacity",1)}).on("mouseout.opacity",function(){n.select(this).transition().duration(h.HIDE_PLACEHOLDER).style("opacity",0)})),I.call(u.makeEditable,{gd:t}).on("edit",function(e){void 0!==g?o.restyle(t,v,e,g):o.relayout(t,v,e)}).on("cancel",function(){this.text(this.attr("data-unformatted")).call(P)}).on("input",function(t){this.text(t||" ").call(u.positionText,b.x,b.y)})),I.classed("js-placeholder",O),w}},function(t,e,r){"use strict";t.exports={undo:{width:857.1,path:"m857 350q0-87-34-166t-91-137-137-92-166-34q-96 0-183 41t-147 114q-4 6-4 13t5 11l76 77q6 5 14 5 9-1 13-7 41-53 100-82t126-29q58 0 110 23t92 61 61 91 22 111-22 111-61 91-92 61-110 23q-55 0-105-20t-90-57l77-77q17-16 8-38-10-23-33-23h-250q-15 0-25 11t-11 25v250q0 24 22 33 22 10 39-8l72-72q60 57 137 88t159 31q87 0 166-34t137-92 91-137 34-166z",ascent:850,descent:-150},home:{width:928.6,path:"m786 296v-267q0-15-11-26t-25-10h-214v214h-143v-214h-214q-15 0-25 10t-11 26v267q0 1 0 2t0 2l321 264 321-264q1-1 1-4z m124 39l-34-41q-5-5-12-6h-2q-7 0-12 3l-386 322-386-322q-7-4-13-4-7 2-12 7l-35 41q-4 5-3 13t6 12l401 334q18 15 42 15t43-15l136-114v109q0 8 5 13t13 5h107q8 0 13-5t5-13v-227l122-102q5-5 6-12t-4-13z",ascent:850,descent:-150},"camera-retro":{width:1e3,path:"m518 386q0 8-5 13t-13 5q-37 0-63-27t-26-63q0-8 5-13t13-5 12 5 5 13q0 23 16 38t38 16q8 0 13 5t5 13z m125-73q0-59-42-101t-101-42-101 42-42 101 42 101 101 42 101-42 42-101z m-572-320h858v71h-858v-71z m643 320q0 89-62 152t-152 62-151-62-63-152 63-151 151-63 152 63 62 151z m-571 358h214v72h-214v-72z m-72-107h858v143h-462l-36-71h-360v-72z m929 143v-714q0-30-21-51t-50-21h-858q-29 0-50 21t-21 51v714q0 30 21 51t50 21h858q29 0 50-21t21-51z",ascent:850,descent:-150},zoombox:{width:1e3,path:"m1000-25l-250 251c40 63 63 138 63 218 0 224-182 406-407 406-224 0-406-182-406-406s183-406 407-406c80 0 155 22 218 62l250-250 125 125z m-812 250l0 438 437 0 0-438-437 0z m62 375l313 0 0-312-313 0 0 312z",ascent:850,descent:-150},pan:{width:1e3,path:"m1000 350l-187 188 0-125-250 0 0 250 125 0-188 187-187-187 125 0 0-250-250 0 0 125-188-188 186-187 0 125 252 0 0-250-125 0 187-188 188 188-125 0 0 250 250 0 0-126 187 188z",ascent:850,descent:-150},zoom_plus:{width:1e3,path:"m1 787l0-875 875 0 0 875-875 0z m687-500l-187 0 0-187-125 0 0 187-188 0 0 125 188 0 0 187 125 0 0-187 187 0 0-125z",ascent:850,descent:-150},zoom_minus:{width:1e3,path:"m0 788l0-876 875 0 0 876-875 0z m688-500l-500 0 0 125 500 0 0-125z",ascent:850,descent:-150},autoscale:{width:1e3,path:"m250 850l-187 0-63 0 0-62 0-188 63 0 0 188 187 0 0 62z m688 0l-188 0 0-62 188 0 0-188 62 0 0 188 0 62-62 0z m-875-938l0 188-63 0 0-188 0-62 63 0 187 0 0 62-187 0z m875 188l0-188-188 0 0-62 188 0 62 0 0 62 0 188-62 0z m-125 188l-1 0-93-94-156 156 156 156 92-93 2 0 0 250-250 0 0-2 93-92-156-156-156 156 94 92 0 2-250 0 0-250 0 0 93 93 157-156-157-156-93 94 0 0 0-250 250 0 0 0-94 93 156 157 156-157-93-93 0 0 250 0 0 250z",ascent:850,descent:-150},tooltip_basic:{width:1500,path:"m375 725l0 0-375-375 375-374 0-1 1125 0 0 750-1125 0z",ascent:850,descent:-150},tooltip_compare:{width:1125,path:"m187 786l0 2-187-188 188-187 0 0 937 0 0 373-938 0z m0-499l0 1-187-188 188-188 0 0 937 0 0 376-938-1z",ascent:850,descent:-150},plotlylogo:{width:1542,path:"m0-10h182v-140h-182v140z m228 146h183v-286h-183v286z m225 714h182v-1000h-182v1000z m225-285h182v-715h-182v715z m225 142h183v-857h-183v857z m231-428h182v-429h-182v429z m225-291h183v-138h-183v138z",ascent:850,descent:-150},"z-axis":{width:1e3,path:"m833 5l-17 108v41l-130-65 130-66c0 0 0 38 0 39 0-1 36-14 39-25 4-15-6-22-16-30-15-12-39-16-56-20-90-22-187-23-279-23-261 0-341 34-353 59 3 60 228 110 228 110-140-8-351-35-351-116 0-120 293-142 474-142 155 0 477 22 477 142 0 50-74 79-163 96z m-374 94c-58-5-99-21-99-40 0-24 65-43 144-43 79 0 143 19 143 43 0 19-42 34-98 40v216h87l-132 135-133-135h88v-216z m167 515h-136v1c16 16 31 34 46 52l84 109v54h-230v-71h124v-1c-16-17-28-32-44-51l-89-114v-51h245v72z",ascent:850,descent:-150},"3d_rotate":{width:1e3,path:"m922 660c-5 4-9 7-14 11-359 263-580-31-580-31l-102 28 58-400c0 1 1 1 2 2 118 108 351 249 351 249s-62 27-100 42c88 83 222 183 347 122 16-8 30-17 44-27-2 1-4 2-6 4z m36-329c0 0 64 229-88 296-62 27-124 14-175-11 157-78 225-208 249-266 8-19 11-31 11-31 2 5 6 15 11 32-5-13-8-20-8-20z m-775-239c70-31 117-50 198-32-121 80-199 346-199 346l-96-15-58-12c0 0 55-226 155-287z m603 133l-317-139c0 0 4-4 19-14 7-5 24-15 24-15s-177-147-389 4c235-287 536-112 536-112l31-22 100 299-4-1z m-298-153c6-4 14-9 24-15 0 0-17 10-24 15z",ascent:850,descent:-150},camera:{width:1e3,path:"m500 450c-83 0-150-67-150-150 0-83 67-150 150-150 83 0 150 67 150 150 0 83-67 150-150 150z m400 150h-120c-16 0-34 13-39 29l-31 93c-6 15-23 28-40 28h-340c-16 0-34-13-39-28l-31-94c-6-15-23-28-40-28h-120c-55 0-100-45-100-100v-450c0-55 45-100 100-100h800c55 0 100 45 100 100v450c0 55-45 100-100 100z m-400-550c-138 0-250 112-250 250 0 138 112 250 250 250 138 0 250-112 250-250 0-138-112-250-250-250z m365 380c-19 0-35 16-35 35 0 19 16 35 35 35 19 0 35-16 35-35 0-19-16-35-35-35z",ascent:850,descent:-150},movie:{width:1e3,path:"m938 413l-188-125c0 37-17 71-44 94 64 38 107 107 107 187 0 121-98 219-219 219-121 0-219-98-219-219 0-61 25-117 66-156h-115c30 33 49 76 49 125 0 103-84 187-187 187s-188-84-188-187c0-57 26-107 65-141-38-22-65-62-65-109v-250c0-70 56-126 125-126h500c69 0 125 56 125 126l188-126c34 0 62 28 62 63v375c0 35-28 63-62 63z m-750 0c-69 0-125 56-125 125s56 125 125 125 125-56 125-125-56-125-125-125z m406-1c-87 0-157 70-157 157 0 86 70 156 157 156s156-70 156-156-70-157-156-157z",ascent:850,descent:-150},question:{width:857.1,path:"m500 82v107q0 8-5 13t-13 5h-107q-8 0-13-5t-5-13v-107q0-8 5-13t13-5h107q8 0 13 5t5 13z m143 375q0 49-31 91t-77 65-95 23q-136 0-207-119-9-14 4-24l74-55q4-4 10-4 9 0 14 7 30 38 48 51 19 14 48 14 27 0 48-15t21-33q0-21-11-34t-38-25q-35-16-65-48t-29-70v-20q0-8 5-13t13-5h107q8 0 13 5t5 13q0 10 12 27t30 28q18 10 28 16t25 19 25 27 16 34 7 45z m214-107q0-117-57-215t-156-156-215-58-216 58-155 156-58 215 58 215 155 156 216 58 215-58 156-156 57-215z",ascent:850,descent:-150},disk:{width:857.1,path:"m214-7h429v214h-429v-214z m500 0h72v500q0 8-6 21t-11 20l-157 156q-5 6-19 12t-22 5v-232q0-22-15-38t-38-16h-322q-22 0-37 16t-16 38v232h-72v-714h72v232q0 22 16 38t37 16h465q22 0 38-16t15-38v-232z m-214 518v178q0 8-5 13t-13 5h-107q-7 0-13-5t-5-13v-178q0-8 5-13t13-5h107q7 0 13 5t5 13z m357-18v-518q0-22-15-38t-38-16h-750q-23 0-38 16t-16 38v750q0 22 16 38t38 16h517q23 0 50-12t42-26l156-157q16-15 27-42t11-49z",ascent:850,descent:-150},lasso:{width:1031,path:"m1018 538c-36 207-290 336-568 286-277-48-473-256-436-463 10-57 36-108 76-151-13-66 11-137 68-183 34-28 75-41 114-42l-55-70 0 0c-2-1-3-2-4-3-10-14-8-34 5-45 14-11 34-8 45 4 1 1 2 3 2 5l0 0 113 140c16 11 31 24 45 40 4 3 6 7 8 11 48-3 100 0 151 9 278 48 473 255 436 462z m-624-379c-80 14-149 48-197 96 42 42 109 47 156 9 33-26 47-66 41-105z m-187-74c-19 16-33 37-39 60 50-32 109-55 174-68-42-25-95-24-135 8z m360 75c-34-7-69-9-102-8 8 62-16 128-68 170-73 59-175 54-244-5-9 20-16 40-20 61-28 159 121 317 333 354s407-60 434-217c28-159-121-318-333-355z",ascent:850,descent:-150},selectbox:{width:1e3,path:"m0 850l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m285 0l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m-857-286l0-143 143 0 0 143-143 0z m857 0l0-143 143 0 0 143-143 0z m-857-285l0-143 143 0 0 143-143 0z m857 0l0-143 143 0 0 143-143 0z m-857-286l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m285 0l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z",ascent:850,descent:-150},spikeline:{width:1e3,path:"M512 409c0-57-46-104-103-104-57 0-104 47-104 104 0 57 47 103 104 103 57 0 103-46 103-103z m-327-39l92 0 0 92-92 0z m-185 0l92 0 0 92-92 0z m370-186l92 0 0 93-92 0z m0-184l92 0 0 92-92 0z",ascent:850,descent:-150}}},function(t,e,r){"use strict";var n=r(161),i=r(1),o=r(334);t.exports=function(t,e){return(e=e||{}).format=e.format||"png",new Promise(function(r,a){t._snapshotInProgress&&a(new Error("Snapshotting already in progress.")),i.isIE()&&"svg"!==e.format&&a(new Error("Sorry IE does not support downloading from canvas. Try {format:'svg'} instead.")),t._snapshotInProgress=!0;var s=n(t,e),l=e.filename||t.fn||"newplot";l+="."+e.format,s.then(function(e){return t._snapshotInProgress=!1,o(e,l)}).then(function(t){r(t)}).catch(function(e){t._snapshotInProgress=!1,a(e)})})}},function(t,e,r){"use strict";e.getDelay=function(t){return t._has&&(t._has("gl3d")||t._has("gl2d"))?500:0},e.getRedrawFunc=function(t){var e=t._fullLayout||{};if(!(!(e._has&&e._has("polar"))&&t.data&&t.data[0]&&t.data[0].r))return function(){(t.calcdata||[]).forEach(function(t){t[0]&&t[0].t&&t[0].t.cb&&t[0].t.cb()})}}},function(t,e,r){"use strict";var n=r(3),i=r(1),o=r(9),a=r(4),s=r(42),l=/"/g,c=new RegExp('("TOBESTRIPPED)|(TOBESTRIPPED")',"g");t.exports=function(t,e,r){var u,h=t._fullLayout,f=h._paper,d=h._toppaper,p=h.width,v=h.height;f.insert("rect",":first-child").call(o.setRect,0,0,p,v).call(a.fill,h.paper_bgcolor);var y=h._basePlotModules||[];for(u=0;u<y.length;u++){var g=y[u];g.toSVG&&g.toSVG(t)}if(d){var m=d.node().childNodes,b=Array.prototype.slice.call(m);for(u=0;u<b.length;u++){var x=b[u];x.childNodes.length&&f.node().appendChild(x)}}h._draggers&&h._draggers.remove(),f.node().style.background="",f.selectAll("text").attr({"data-unformatted":null,"data-math":null}).each(function(){var t=n.select(this);if("hidden"!==this.style.visibility&&"none"!==this.style.display){t.style({visibility:null,display:null});var e=this.style.fontFamily;e&&-1!==e.indexOf('"')&&t.style("font-family",e.replace(l,"TOBESTRIPPED"))}else t.remove()}),f.selectAll(".point,.scatterpts").each(function(){var t=n.select(this),e=this.style.fill;e&&-1!==e.indexOf("url(")&&t.style("fill",e.replace(l,"TOBESTRIPPED"))}),"pdf"!==e&&"eps"!==e||f.selectAll("#MathJax_SVG_glyphs path").attr("stroke-width",0),f.node().setAttributeNS(s.xmlns,"xmlns",s.svg),f.node().setAttributeNS(s.xmlns,"xmlns:xlink",s.xlink),"svg"===e&&r&&(f.attr("width",r*p),f.attr("height",r*v),f.attr("viewBox","0 0 "+p+" "+v));var w=(new window.XMLSerializer).serializeToString(f.node());return w=function(t){var e=n.select("body").append("div").style({display:"none"}).html(""),r=t.replace(/(&[^;]*;)/gi,function(t){return"&lt;"===t?"&#60;":"&rt;"===t?"&#62;":-1!==t.indexOf("<")||-1!==t.indexOf(">")?"":e.html(t).text()});return e.remove(),r}(w),w=(w=w.replace(/&(?!\w+;|\#[0-9]+;| \#x[0-9A-F]+;)/g,"&amp;")).replace(c,"'"),i.isIE()&&(w=(w=(w=w.replace(/"/gi,"'")).replace(/(\('#)([^']*)('\))/gi,'("#$2")')).replace(/(\\')/gi,'"')),w}},function(t,e,r){"use strict";var n=r(1),i=r(108).EventEmitter;t.exports=function(t){var e=t.emitter||new i,r=new Promise(function(i,o){var a=window.Image,s=t.svg,l=t.format||"png";if(n.isIE()&&"svg"!==l){var c=new Error("Sorry IE does not support downloading from canvas. Try {format:'svg'} instead.");return o(c),t.promise?r:e.emit("error",c)}var u=t.canvas,h=t.scale||1,f=h*(t.width||300),d=h*(t.height||150),p=u.getContext("2d"),v=new a,y="data:image/svg+xml,"+encodeURIComponent(s);u.width=f,u.height=d,v.onload=function(){var r;switch("svg"!==l&&p.drawImage(v,0,0,f,d),l){case"jpeg":r=u.toDataURL("image/jpeg");break;case"png":r=u.toDataURL("image/png");break;case"webp":r=u.toDataURL("image/webp");break;case"svg":r=y;break;default:var n="Image format is not jpeg, png, svg or webp.";if(o(new Error(n)),!t.promise)return e.emit("error",n)}i(r),t.promise||e.emit("success",r)},v.onerror=function(r){if(o(r),!t.promise)return e.emit("error",r)},v.src=y});return t.promise?r:e}},function(t,e){function r(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function n(t){return"function"==typeof t}function i(t){return"object"==typeof t&&null!==t}function o(t){return void 0===t}t.exports=r,r.EventEmitter=r,r.prototype._events=void 0,r.prototype._maxListeners=void 0,r.defaultMaxListeners=10,r.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||isNaN(t))throw TypeError("n must be a positive number");return this._maxListeners=t,this},r.prototype.emit=function(t){var e,r,a,s,l,c;if(this._events||(this._events={}),"error"===t&&(!this._events.error||i(this._events.error)&&!this._events.error.length)){if((e=arguments[1])instanceof Error)throw e;var u=new Error('Uncaught, unspecified "error" event. ('+e+")");throw u.context=e,u}if(o(r=this._events[t]))return!1;if(n(r))switch(arguments.length){case 1:r.call(this);break;case 2:r.call(this,arguments[1]);break;case 3:r.call(this,arguments[1],arguments[2]);break;default:s=Array.prototype.slice.call(arguments,1),r.apply(this,s)}else if(i(r))for(s=Array.prototype.slice.call(arguments,1),a=(c=r.slice()).length,l=0;l<a;l++)c[l].apply(this,s);return!0},r.prototype.addListener=function(t,e){var a;if(!n(e))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",t,n(e.listener)?e.listener:e),this._events[t]?i(this._events[t])?this._events[t].push(e):this._events[t]=[this._events[t],e]:this._events[t]=e,i(this._events[t])&&!this._events[t].warned&&(a=o(this._maxListeners)?r.defaultMaxListeners:this._maxListeners)&&a>0&&this._events[t].length>a&&(this._events[t].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[t].length),"function"==typeof console.trace&&console.trace()),this},r.prototype.on=r.prototype.addListener,r.prototype.once=function(t,e){if(!n(e))throw TypeError("listener must be a function");var r=!1;function i(){this.removeListener(t,i),r||(r=!0,e.apply(this,arguments))}return i.listener=e,this.on(t,i),this},r.prototype.removeListener=function(t,e){var r,o,a,s;if(!n(e))throw TypeError("listener must be a function");if(!this._events||!this._events[t])return this;if(a=(r=this._events[t]).length,o=-1,r===e||n(r.listener)&&r.listener===e)delete this._events[t],this._events.removeListener&&this.emit("removeListener",t,e);else if(i(r)){for(s=a;s-- >0;)if(r[s]===e||r[s].listener&&r[s].listener===e){o=s;break}if(o<0)return this;1===r.length?(r.length=0,delete this._events[t]):r.splice(o,1),this._events.removeListener&&this.emit("removeListener",t,e)}return this},r.prototype.removeAllListeners=function(t){var e,r;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[t]&&delete this._events[t],this;if(0===arguments.length){for(e in this._events)"removeListener"!==e&&this.removeAllListeners(e);return this.removeAllListeners("removeListener"),this._events={},this}if(n(r=this._events[t]))this.removeListener(t,r);else if(r)for(;r.length;)this.removeListener(t,r[r.length-1]);return delete this._events[t],this},r.prototype.listeners=function(t){return this._events&&this._events[t]?n(this._events[t])?[this._events[t]]:this._events[t].slice():[]},r.prototype.listenerCount=function(t){if(this._events){var e=this._events[t];if(n(e))return 1;if(e)return e.length}return 0},r.listenerCount=function(t,e){return t.listenerCount(e)}},function(t,e,r){"use strict";var n=r(108).EventEmitter,i={init:function(t){if(t._ev instanceof n)return t;var e=new n,r=new n;return t._ev=e,t._internalEv=r,t.on=e.on.bind(e),t.once=e.once.bind(e),t.removeListener=e.removeListener.bind(e),t.removeAllListeners=e.removeAllListeners.bind(e),t._internalOn=r.on.bind(r),t._internalOnce=r.once.bind(r),t._removeInternalListener=r.removeListener.bind(r),t._removeAllInternalListeners=r.removeAllListeners.bind(r),t.emit=function(n,i){"undefined"!=typeof jQuery&&jQuery(t).trigger(n,i),e.emit(n,i),r.emit(n,i)},t},triggerHandler:function(t,e,r){var n,i;"undefined"!=typeof jQuery&&(n=jQuery(t).triggerHandler(e,r));var o=t._ev;if(!o)return n;var a=o._events[e];if(!a)return n;"function"==typeof a&&(a=[a]);for(var s=a.pop(),l=0;l<a.length;l++)a[l](r);return i=s(r),void 0!==n?n:i},purge:function(t){return delete t._ev,delete t.on,delete t.once,delete t.removeListener,delete t.removeAllListeners,delete t.emit,delete t._ev,delete t._internalEv,delete t._internalOn,delete t._internalOnce,delete t._removeInternalListener,delete t._removeAllInternalListeners,t}};t.exports=i},function(t,e,r){"use strict";var n=r(52),i=r(20)({editType:"none",description:"Sets the default hover label font used by all traces on the graph."});i.family.dflt=n.HOVERFONT,i.size.dflt=n.HOVERFONTSIZE,t.exports={dragmode:{valType:"enumerated",role:"info",values:["zoom","pan","select","lasso","orbit","turntable"],dflt:"zoom",editType:"modebar",description:["Determines the mode of drag interactions.","*select* and *lasso* apply only to scatter traces with","markers or text. *orbit* and *turntable* apply only to","3D scenes."].join(" ")},hovermode:{valType:"enumerated",role:"info",values:["x","y","closest",!1],editType:"modebar",description:"Determines the mode of hover interactions."},hoverdistance:{valType:"integer",min:-1,dflt:20,role:"info",editType:"none",description:["Sets the default distance (in pixels) to look for data","to add hover labels (-1 means no cutoff, 0 means no looking for data)"].join(" ")},spikedistance:{valType:"integer",min:-1,dflt:20,role:"info",editType:"none",description:["Sets the default distance (in pixels) to look for data to draw","spikelines to (-1 means no cutoff, 0 means no looking for data)."].join(" ")},hoverlabel:{bgcolor:{valType:"color",role:"style",editType:"none",description:["Sets the background color of all hover labels on graph"].join(" ")},bordercolor:{valType:"color",role:"style",editType:"none",description:["Sets the border color of all hover labels on graph."].join(" ")},font:i,namelength:{valType:"integer",min:-1,dflt:15,role:"style",editType:"none",description:["Sets the default length (in number of characters) of the trace name in","the hover labels for all traces. -1 shows the whole name","regardless of length. 0-3 shows the first 0-3 characters, and","an integer >3 will show the whole name if it is less than that","many characters, but if it is longer, will truncate to","`namelength - 3` characters and add an ellipsis."].join(" ")},editType:"none"}}},function(t,e,r){"use strict";var n=r(3),i=r(6),o=r(28),a=r(1),s=r(109),l=r(23),c=r(348),u=r(9),h=r(4),f=r(33),d=r(11),p=r(5),v=r(69),y=r(52),g=y.YANGLE,m=Math.PI*g/180,b=1/Math.sin(m),x=Math.cos(m),w=Math.sin(m),_=y.HOVERARROWSIZE,k=y.HOVERTEXTPAD;function T(t,e,r){var i,o,a=e.hovermode,s=e.rotateLabels,c=e.bgColor,f=e.container,d=e.outerContainer,p=e.commonLabelOpts||{},v=e.fontFamily||y.HOVERFONT,m=e.fontSize||y.HOVERFONTSIZE,b=t[0],x=b.xa,w=b.ya,T="y"===a?"yLabel":"xLabel",A=b[T],M=(String(A)||"").split(" ")[0],S=d.node().getBoundingClientRect(),O=S.top,C=S.width,L=S.height,j=b.distance<=e.hoverdistance&&("x"===a||"y"===a);for(i=0;i<t.length;i++){o=t[i].hoverinfo||t[i].trace.hoverinfo;var I=Array.isArray(o)?o:o.split("+");if(-1===I.indexOf("all")&&-1===I.indexOf(a)){j=!1;break}}var P=f.selectAll("g.axistext").data(j?[0]:[]);P.enter().append("g").classed("axistext",!0),P.exit().remove(),P.each(function(){var e=n.select(this),i=e.selectAll("path").data([0]),o=e.selectAll("text").data([0]);i.enter().append("path").style({"stroke-width":"1px"}),i.style({fill:p.bgcolor||h.defaultLine,stroke:p.bordercolor||h.background}),o.enter().append("text").attr("data-notex",1),o.text(A).call(u.font,p.font.family||v,p.font.size||m,p.font.color||h.background).call(l.positionText,0,0).call(l.convertToTspans,r),e.attr("transform","");var s=o.node().getBoundingClientRect();if("x"===a){o.attr("text-anchor","middle").call(l.positionText,0,"top"===x.side?O-s.bottom-_-k:O-s.top+_+k);var c="top"===x.side?"-":"";i.attr("d","M0,0L"+_+","+c+_+"H"+(k+s.width/2)+"v"+c+(2*k+s.height)+"H-"+(k+s.width/2)+"V"+c+_+"H-"+_+"Z"),e.attr("transform","translate("+(x._offset+(b.x0+b.x1)/2)+","+(w._offset+("top"===x.side?0:w._length))+")")}else{o.attr("text-anchor","right"===w.side?"start":"end").call(l.positionText,("right"===w.side?1:-1)*(k+_),O-s.top-s.height/2);var f="right"===w.side?"":"-";i.attr("d","M0,0L"+f+_+","+_+"V"+(k+s.height/2)+"h"+f+(2*k+s.width)+"V-"+(k+s.height/2)+"H"+f+_+"V-"+_+"Z"),e.attr("transform","translate("+(x._offset+("right"===w.side?x._length:0))+","+(w._offset+(b.y0+b.y1)/2)+")")}t=t.filter(function(t){return void 0!==t.zLabelVal||(t[T]||"").split(" ")[0]===M})});var E=f.selectAll("g.hovertext").data(t,function(t){return[t.trace.index,t.index,t.x0,t.y0,t.name,t.attr,t.xa,t.ya||""].join(",")});return E.enter().append("g").classed("hovertext",!0).each(function(){var t=n.select(this);t.append("rect").call(h.fill,h.addOpacity(c,.8)),t.append("text").classed("name",!0),t.append("path").style("stroke-width","1px"),t.append("text").classed("nums",!0).call(u.font,v,m)}),E.exit().remove(),E.each(function(t){var e=n.select(this).attr("transform",""),i="",o="",f=h.opacity(t.color)?t.color:h.defaultLine,d=h.combine(f,c),p=t.borderColor||h.contrast(d);if(void 0!==t.nameOverride&&(t.name=t.nameOverride),t.name){i=l.plainText(t.name||"");var y=Math.round(t.nameLength);y>-1&&i.length>y&&(i=y>3?i.substr(0,y-3)+"...":i.substr(0,y))}void 0!==t.extraText&&(o+=t.extraText),void 0!==t.zLabel?(void 0!==t.xLabel&&(o+="x: "+t.xLabel+"<br>"),void 0!==t.yLabel&&(o+="y: "+t.yLabel+"<br>"),o+=(o?"z: ":"")+t.zLabel):j&&t[a+"Label"]===A?o=t[("x"===a?"y":"x")+"Label"]||"":void 0===t.xLabel?void 0!==t.yLabel&&(o=t.yLabel):o=void 0===t.yLabel?t.xLabel:"("+t.xLabel+", "+t.yLabel+")",t.text&&!Array.isArray(t.text)&&(o+=(o?"<br>":"")+t.text),""===o&&(""===i&&e.remove(),o=i);var b=e.select("text.nums").call(u.font,t.fontFamily||v,t.fontSize||m,t.fontColor||p).text(o).attr("data-notex",1).call(l.positionText,0,0).call(l.convertToTspans,r),x=e.select("text.name"),w=0;i&&i!==o?(x.call(u.font,t.fontFamily||v,t.fontSize||m,d).text(i).attr("data-notex",1).call(l.positionText,0,0).call(l.convertToTspans,r),w=x.node().getBoundingClientRect().width+2*k):(x.remove(),e.select("rect").remove()),e.select("path").style({fill:d,stroke:p});var T,M,S=b.node().getBoundingClientRect(),I=t.xa._offset+(t.x0+t.x1)/2,P=t.ya._offset+(t.y0+t.y1)/2,E=Math.abs(t.x1-t.x0),z=Math.abs(t.y1-t.y0),N=S.width+_+k+w;t.ty0=O-S.top,t.bx=S.width+2*k,t.by=S.height+2*k,t.anchor="start",t.txwidth=S.width,t.tx2width=w,t.offset=0,s?(t.pos=I,T=P+z/2+N<=L,M=P-z/2-N>=0,"top"!==t.idealAlign&&T||!M?T?(P+=z/2,t.anchor="start"):t.anchor="middle":(P-=z/2,t.anchor="end")):(t.pos=P,T=I+E/2+N<=C,M=I-E/2-N>=0,"left"!==t.idealAlign&&T||!M?T?(I+=E/2,t.anchor="start"):t.anchor="middle":(I-=E/2,t.anchor="end")),b.attr("text-anchor",t.anchor),w&&x.attr("text-anchor",t.anchor),e.attr("transform","translate("+I+","+P+")"+(s?"rotate("+g+")":""))}),E}function A(t,e){t.each(function(t){var r=n.select(this);if(t.del)r.remove();else{var i="end"===t.anchor?-1:1,o=r.select("text.nums"),a={start:1,end:-1,middle:0}[t.anchor],s=a*(_+k),c=s+a*(t.txwidth+k),h=0,f=t.offset;"middle"===t.anchor&&(s-=t.tx2width/2,c-=t.tx2width/2),e&&(f*=-w,h=t.offset*x),r.select("path").attr("d","middle"===t.anchor?"M-"+t.bx/2+",-"+t.by/2+"h"+t.bx+"v"+t.by+"h-"+t.bx+"Z":"M0,0L"+(i*_+h)+","+(_+f)+"v"+(t.by/2-_)+"h"+i*t.bx+"v-"+t.by+"H"+(i*_+h)+"V"+(f-_)+"Z"),o.call(l.positionText,s+h,f+t.ty0-t.by/2+k),t.tx2width&&(r.select("text.name").call(l.positionText,c+a*k+h,f+t.ty0-t.by/2+k),r.select("rect").call(u.setRect,c+(a-1)*t.tx2width/2+h,f-t.by/2-1,t.tx2width,t.by+2))}})}function M(t,e){var r=t.index,n=t.trace||{},i=t.cd[0],o=t.cd[r]||{},s=Array.isArray(r)?function(t,e){return a.castOption(i,r,t)||a.extractOption({},n,"",e)}:function(t,e){return a.extractOption(o,n,t,e)};function l(e,r,n){var i=s(r,n);i&&(t[e]=i)}if(l("hoverinfo","hi","hoverinfo"),l("color","hbg","hoverlabel.bgcolor"),l("borderColor","hbc","hoverlabel.bordercolor"),l("fontFamily","htf","hoverlabel.font.family"),l("fontSize","hts","hoverlabel.font.size"),l("fontColor","htc","hoverlabel.font.color"),l("nameLength","hnl","hoverlabel.namelength"),t.posref="y"===e?(t.x0+t.x1)/2:(t.y0+t.y1)/2,t.x0=a.constrain(t.x0,0,t.xa._length),t.x1=a.constrain(t.x1,0,t.xa._length),t.y0=a.constrain(t.y0,0,t.ya._length),t.y1=a.constrain(t.y1,0,t.ya._length),void 0!==t.xLabelVal&&(t.xLabel="xLabel"in t?t.xLabel:d.hoverLabelText(t.xa,t.xLabelVal),t.xVal=t.xa.c2d(t.xLabelVal)),void 0!==t.yLabelVal&&(t.yLabel="yLabel"in t?t.yLabel:d.hoverLabelText(t.ya,t.yLabelVal),t.yVal=t.ya.c2d(t.yLabelVal)),void 0!==t.zLabelVal&&void 0===t.zLabel&&(t.zLabel=String(t.zLabelVal)),!(isNaN(t.xerr)||"log"===t.xa.type&&t.xerr<=0)){var c=d.tickText(t.xa,t.xa.c2l(t.xerr),"hover").text;void 0!==t.xerrneg?t.xLabel+=" +"+c+" / -"+d.tickText(t.xa,t.xa.c2l(t.xerrneg),"hover").text:t.xLabel+="  "+c,"x"===e&&(t.distance+=1)}if(!(isNaN(t.yerr)||"log"===t.ya.type&&t.yerr<=0)){var u=d.tickText(t.ya,t.ya.c2l(t.yerr),"hover").text;void 0!==t.yerrneg?t.yLabel+=" +"+u+" / -"+d.tickText(t.ya,t.ya.c2l(t.yerrneg),"hover").text:t.yLabel+="  "+u,"y"===e&&(t.distance+=1)}var h=t.hoverinfo||t.trace.hoverinfo;return"all"!==h&&(-1===(h=Array.isArray(h)?h:h.split("+")).indexOf("x")&&(t.xLabel=void 0),-1===h.indexOf("y")&&(t.yLabel=void 0),-1===h.indexOf("z")&&(t.zLabel=void 0),-1===h.indexOf("text")&&(t.text=void 0),-1===h.indexOf("name")&&(t.name=void 0)),t}function S(t,e){var r,n,i=e.container,a=e.fullLayout,s=e.event,l=!!t.hLinePoint,c=!!t.vLinePoint;if(i.selectAll(".spikeline").remove(),c||l){var f=h.combine(a.plot_bgcolor,a.paper_bgcolor);if(l){var d,p,v=t.hLinePoint;r=v&&v.xa,"cursor"===(n=v&&v.ya).spikesnap?(d=s.pointerX,p=s.pointerY):(d=r._offset+(v.x0+v.x1)/2,p=n._offset+(v.y0+v.y1)/2);var y,g,m=o.readability(v.color,f)<1.5?h.contrast(f):v.color,b=n.spikemode,x=n.spikethickness,w=n.spikecolor||m,_=n._boundingBox,k=(_.left+_.right)/2<d?_.right:_.left;-1===b.indexOf("toaxis")&&-1===b.indexOf("across")||(-1!==b.indexOf("toaxis")&&(y=k,g=d),-1!==b.indexOf("across")&&(y=n._counterSpan[0],g=n._counterSpan[1]),i.insert("line",":first-child").attr({x1:y,x2:g,y1:p,y2:p,"stroke-width":x,stroke:w,"stroke-dasharray":u.dashStyle(n.spikedash,x)}).classed("spikeline",!0).classed("crisp",!0),i.insert("line",":first-child").attr({x1:y,x2:g,y1:p,y2:p,"stroke-width":x+2,stroke:f}).classed("spikeline",!0).classed("crisp",!0)),-1!==b.indexOf("marker")&&i.insert("circle",":first-child").attr({cx:k+("right"!==n.side?x:-x),cy:p,r:x,fill:w}).classed("spikeline",!0)}if(c){var T,A,M=t.vLinePoint;r=M&&M.xa,n=M&&M.ya,"cursor"===r.spikesnap?(T=s.pointerX,A=s.pointerY):(T=r._offset+(M.x0+M.x1)/2,A=n._offset+(M.y0+M.y1)/2);var S,O,C=o.readability(M.color,f)<1.5?h.contrast(f):M.color,L=r.spikemode,j=r.spikethickness,I=r.spikecolor||C,P=r._boundingBox,E=(P.top+P.bottom)/2<A?P.bottom:P.top;-1===L.indexOf("toaxis")&&-1===L.indexOf("across")||(-1!==L.indexOf("toaxis")&&(S=E,O=A),-1!==L.indexOf("across")&&(S=r._counterSpan[0],O=r._counterSpan[1]),i.insert("line",":first-child").attr({x1:T,x2:T,y1:S,y2:O,"stroke-width":j,stroke:I,"stroke-dasharray":u.dashStyle(r.spikedash,j)}).classed("spikeline",!0).classed("crisp",!0),i.insert("line",":first-child").attr({x1:T,x2:T,y1:S,y2:O,"stroke-width":j+2,stroke:f}).classed("spikeline",!0).classed("crisp",!0)),-1!==L.indexOf("marker")&&i.insert("circle",":first-child").attr({cx:T,cy:E-("top"!==r.side?j:-j),r:j,fill:I}).classed("spikeline",!0)}}}function O(t,e){return!e||(e.vLinePoint!==t._spikepoints.vLinePoint||e.hLinePoint!==t._spikepoints.hLinePoint)}e.hover=function(t,e,r,o){t=a.getGraphDiv(t),a.throttle(t._fullLayout._uid+y.HOVERID,y.HOVERMINTIME,function(){!function(t,e,r,o){r||(r="xy");var l=Array.isArray(r)?r:[r],u=t._fullLayout,y=u._plots||[],g=y[r];if(g){var m=g.overlays.map(function(t){return t.id});l=l.concat(m)}for(var x=l.length,w=new Array(x),_=new Array(x),k=0;k<x;k++){var C=l[k],L=y[C];if(L)w[k]=d.getFromId(t,L.xaxis._id),_[k]=d.getFromId(t,L.yaxis._id);else{var j=u[C]._subplot;w[k]=j.xaxis,_[k]=j.yaxis}}var I=e.hovermode||u.hovermode;if(-1===["x","y","closest"].indexOf(I)||!t.calcdata||t.querySelector(".zoombox")||t._dragging)return f.unhoverRaw(t,e);var P,E,z,N,D,R,F,B,V,q,H,U,W,G=-1===u.hoverdistance?1/0:u.hoverdistance,Y=-1===u.spikedistance?1/0:u.spikedistance,X=[],Z=[],J={hLinePoint:null,vLinePoint:null};if(Array.isArray(e))for(I="array",z=0;z<e.length;z++)"skip"!==(D=t.calcdata[e[z].curveNumber||0])[0].trace.hoverinfo&&Z.push(D);else{for(N=0;N<t.calcdata.length;N++)D=t.calcdata[N],"skip"!==(R=D[0].trace).hoverinfo&&-1!==l.indexOf(v.getSubplot(R))&&Z.push(D);var $,Q,K=!e.target;if(K)$="xpx"in e?e.xpx:w[0]._length/2,e.pointerX=$+w[0]._offset,Q="ypx"in e?e.ypx:_[0]._length/2,e.pointerY=Q+_[0]._offset;else{if(!1===s.triggerHandler(t,"plotly_beforehover",e))return;var tt=e.target.getBoundingClientRect();if($=e.clientX-tt.left,Q=e.clientY-tt.top,$<0||$>tt.width||Q<0||Q>tt.height)return f.unhoverRaw(t,e);e.pointerX=e.offsetX,e.pointerY=e.offsetY}if(P="xval"in e?v.flat(l,e.xval):v.p2c(w,$),E="yval"in e?v.flat(l,e.yval):v.p2c(_,Q),!i(P[0])||!i(E[0]))return a.warn("Fx.hover failed",e,t),f.unhoverRaw(t,e)}var et=1/0;for(N=0;N<Z.length;N++)if((D=Z[N])&&D[0]&&D[0].trace&&!0===D[0].trace.visible&&(R=D[0].trace,-1===["carpet","contourcarpet"].indexOf(R._module.name))){if(F=v.getSubplot(R),B=l.indexOf(F),V=I,U={cd:D,trace:R,xa:w[B],ya:_[B],index:!1,distance:Math.min(et,G),color:h.defaultLine,name:R.name,x0:void 0,x1:void 0,y0:void 0,y1:void 0,xLabelVal:void 0,yLabelVal:void 0,zLabelVal:void 0,text:void 0},u[F]&&(U.subplot=u[F]._subplot),W=X.length,"array"===V){var rt=e[N];"pointNumber"in rt?(U.index=rt.pointNumber,V="closest"):(V="","xval"in rt&&(q=rt.xval,V="x"),"yval"in rt&&(H=rt.yval,V=V?"closest":"y"))}else q=P[B],H=E[B];if(0!==G)if(R._module&&R._module.hoverPoints){var nt=R._module.hoverPoints(U,q,H,V,u._hoverlayer);if(nt)for(var it,ot=0;ot<nt.length;ot++)it=nt[ot],i(it.x0)&&i(it.y0)&&X.push(M(it,I))}else a.log("Unrecognized trace type in hover:",R);if("closest"===I&&X.length>W&&(X.splice(0,W),et=X[0].distance),u._has("cartesian")&&0!==Y&&0===X.length){U.distance=Y,U.index=!1;var at=R._module.hoverPoints(U,q,H,"closest",u._hoverlayer);if(at){var st,lt=at.filter(function(t){return t.xa.showspikes});if(lt.length){var ct=lt[0];i(ct.x0)&&i(ct.y0)&&(st=dt(ct),(!J.vLinePoint||J.vLinePoint.distance>st.distance)&&(J.vLinePoint=st))}var ut=at.filter(function(t){return t.ya.showspikes});if(ut.length){var ht=ut[0];i(ht.x0)&&i(ht.y0)&&(st=dt(ht),(!J.hLinePoint||J.hLinePoint.distance>st.distance)&&(J.hLinePoint=st))}}}}function ft(t,e){if(!t.length)return null;var r=t.map(function(t,e){var r=t.xa,n=t.ya,i=r.c2p(q),o=n.c2p(H),a=function(t){var e=t.kink,r=(t.x1+t.x0)/2-i,n=(t.y1+t.y0)/2-o;return Math.max(Math.sqrt(r*r+n*n)-e,1-3/e)}(t);return{distance:a,index:e}});return r=r.filter(function(t){return t.distance<=e}).sort(function(t,e){return t.distance-e.distance}),r.length?t[r[0].index]:null}function dt(t){return t?{xa:t.xa,ya:t.ya,x0:t.x0,x1:t.x1,y0:t.y0,y1:t.y1,distance:t.distance,curveNumber:t.trace.index,color:t.color,pointNumber:t.index}:null}var pt={fullLayout:u,container:u._hoverlayer,outerContainer:u._paperdiv,event:e},vt=t._spikepoints,yt={vLinePoint:J.vLinePoint,hLinePoint:J.hLinePoint};if(t._spikepoints=yt,u._has("cartesian")&&0!==Y&&0!==X.length){var gt=X.filter(function(t){return t.ya.showspikes}),mt=ft(gt,Y);J.hLinePoint=dt(mt);var bt=X.filter(function(t){return t.xa.showspikes}),xt=ft(bt,Y);J.vLinePoint=dt(xt)}if(0===X.length){var wt=f.unhoverRaw(t,e);return!u._has("cartesian")||null===J.hLinePoint&&null===J.vLinePoint||O(vt)&&S(J,pt),wt}u._has("cartesian")&&O(vt)&&S(J,pt);X.sort(function(t,e){return t.distance-e.distance});var _t=t._hoverdata,kt=[];for(z=0;z<X.length;z++){var Tt=X[z];kt.push(v.makeEventData(Tt,Tt.trace,Tt.cd))}t._hoverdata=kt;var At="y"===I&&Z.length>1,Mt=h.combine(u.plot_bgcolor||h.background,u.paper_bgcolor),St={hovermode:I,rotateLabels:At,bgColor:Mt,container:u._hoverlayer,outerContainer:u._paperdiv,commonLabelOpts:u.hoverlabel,hoverdistance:u.hoverdistance},Ot=T(X,St,t);if(function(t,e,r){var n,i,o,a,s,l,c,u=0,h=t.map(function(t,n){var i=t[e];return[{i:n,dp:0,pos:t.pos,posref:t.posref,size:t.by*("x"===i._id.charAt(0)?b:1)/2,pmin:0,pmax:"x"===i._id.charAt(0)?r.width:r.height}]}).sort(function(t,e){return t[0].posref-e[0].posref});function f(t){var e=t[0],r=t[t.length-1];if(i=e.pmin-e.pos-e.dp+e.size,o=r.pos+r.dp+r.size-e.pmax,i>.01){for(s=t.length-1;s>=0;s--)t[s].dp+=i;n=!1}if(!(o<.01)){if(i<-.01){for(s=t.length-1;s>=0;s--)t[s].dp-=o;n=!1}if(n){var c=0;for(a=0;a<t.length;a++)(l=t[a]).pos+l.dp+l.size>e.pmax&&c++;for(a=t.length-1;a>=0&&!(c<=0);a--)(l=t[a]).pos>e.pmax-1&&(l.del=!0,c--);for(a=0;a<t.length&&!(c<=0);a++)if((l=t[a]).pos<e.pmin+1)for(l.del=!0,c--,o=2*l.size,s=t.length-1;s>=0;s--)t[s].dp-=o;for(a=t.length-1;a>=0&&!(c<=0);a--)(l=t[a]).pos+l.dp+l.size>e.pmax&&(l.del=!0,c--)}}}for(;!n&&u<=t.length;){for(u++,n=!0,a=0;a<h.length-1;){var d=h[a],p=h[a+1],v=d[d.length-1],y=p[0];if((i=v.pos+v.dp+v.size-y.pos-y.dp+y.size)>.01&&v.pmin===y.pmin&&v.pmax===y.pmax){for(s=p.length-1;s>=0;s--)p[s].dp+=i;for(d.push.apply(d,p),h.splice(a+1,1),c=0,s=d.length-1;s>=0;s--)c+=d[s].dp;for(o=c/d.length,s=d.length-1;s>=0;s--)d[s].dp-=o;n=!1}else a++}h.forEach(f)}for(a=h.length-1;a>=0;a--){var g=h[a];for(s=g.length-1;s>=0;s--){var m=g[s],x=t[m.i];x.offset=m.dp,x.del=m.del}}}(X,At?"xa":"ya",u),A(Ot,At),e.target&&e.target.tagName){var Ct=p.getComponentMethod("annotations","hasClickToShow")(t,kt);c(n.select(e.target),Ct?"pointer":"")}if(!e.target||o||!function(t,e,r){if(!r||r.length!==t._hoverdata.length)return!0;for(var n=r.length-1;n>=0;n--){var i=r[n],o=t._hoverdata[n];if(i.curveNumber!==o.curveNumber||String(i.pointNumber)!==String(o.pointNumber))return!0}return!1}(t,0,_t))return;_t&&t.emit("plotly_unhover",{event:e,points:_t});t.emit("plotly_hover",{event:e,points:t._hoverdata,xaxes:w,yaxes:_,xvals:P,yvals:E})}(t,e,r,o)})},e.loneHover=function(t,e){var r={color:t.color||h.defaultLine,x0:t.x0||t.x||0,x1:t.x1||t.x||0,y0:t.y0||t.y||0,y1:t.y1||t.y||0,xLabel:t.xLabel,yLabel:t.yLabel,zLabel:t.zLabel,text:t.text,name:t.name,idealAlign:t.idealAlign,borderColor:t.borderColor,fontFamily:t.fontFamily,fontSize:t.fontSize,fontColor:t.fontColor,trace:{index:0,hoverinfo:""},xa:{_offset:0},ya:{_offset:0},index:0},i=n.select(e.container),o=e.outerContainer?n.select(e.outerContainer):i,a={hovermode:"closest",rotateLabels:!1,bgColor:e.bgColor||h.background,container:i,outerContainer:o,hoverdistance:y.MAXDIST},s=T([r],a,e.gd);return A(s,a.rotateLabels),s.node()}},function(t,e,r){"use strict";var n=r(3),i=r(1),o=r(14),a=r(394).getModuleCalcData,s=r(24),l=r(22),c=r(42);function u(t,e,r,n,i){var o=t._fullLayout._modules;e.plot&&e.plot.selectAll("g:not(.scatterlayer)").selectAll("g.trace").remove();for(var s=0;s<o.length;s++){var l=o[s];if("cartesian"===l.basePlotModule.name){var c=a(r,l);l.plot&&l.plot(t,e,c,n,i)}}}function h(t){var e=t.plotgroup,r=t.id,n=l.layerValue2layerClass[t.xaxis.layer],i=l.layerValue2layerClass[t.yaxis.layer];if(t.mainplot){var o=t.mainplotinfo,a=o.plotgroup,c=r+"-x",u=r+"-y";t.gridlayer=o.gridlayer,t.zerolinelayer=o.zerolinelayer,d(o.overlinesBelow,"path",c),d(o.overlinesBelow,"path",u),d(o.overaxesBelow,"g",c),d(o.overaxesBelow,"g",u),t.plot=d(o.overplot,"g",r),d(o.overlinesAbove,"path",c),d(o.overlinesAbove,"path",u),d(o.overaxesAbove,"g",c),d(o.overaxesAbove,"g",u),t.xlines=a.select(".overlines-"+n).select("."+c),t.ylines=a.select(".overlines-"+i).select("."+u),t.xaxislayer=a.select(".overaxes-"+n).select("."+c),t.yaxislayer=a.select(".overaxes-"+i).select("."+u)}else{var h=d(e,"g","layer-subplot");t.shapelayer=d(h,"g","shapelayer"),t.imagelayer=d(h,"g","imagelayer"),t.gridlayer=d(e,"g","gridlayer"),t.zerolinelayer=d(e,"g","zerolinelayer"),d(e,"path","xlines-below"),d(e,"path","ylines-below"),t.overlinesBelow=d(e,"g","overlines-below"),d(e,"g","xaxislayer-below"),d(e,"g","yaxislayer-below"),t.overaxesBelow=d(e,"g","overaxes-below"),t.plot=d(e,"g","plot"),t.overplot=d(e,"g","overplot"),d(e,"path","xlines-above"),d(e,"path","ylines-above"),t.overlinesAbove=d(e,"g","overlines-above"),d(e,"g","xaxislayer-above"),d(e,"g","yaxislayer-above"),t.overaxesAbove=d(e,"g","overaxes-above"),t.xlines=e.select(".xlines-"+n),t.ylines=e.select(".ylines-"+i),t.xaxislayer=e.select(".xaxislayer-"+n),t.yaxislayer=e.select(".yaxislayer-"+i)}d(t.gridlayer,"g",t.xaxis._id,t.xaxis._id),d(t.gridlayer,"g",t.yaxis._id,t.yaxis._id),t.gridlayer.selectAll("g").sort(s.idSort);for(var f=0;f<l.traceLayerClasses.length;f++)d(t.plot,"g",l.traceLayerClasses[f]);t.xlines.style("fill","none").classed("crisp",!0),t.ylines.style("fill","none").classed("crisp",!0)}function f(t,e){if(t){var r={};t.each(function(t){var i=n.select(this),o="clip"+e._uid+t+"plot";i.remove(),e._draggers.selectAll("g."+t).remove(),e._defs.select("#"+o).remove(),r[t]=!0});for(var i=e._plots,o=Object.keys(i),a=0;a<o.length;a++)for(var s=i[o[a]].overlays||[],l=0;l<s.length;l++){var c=s[l];r[c.id]&&c.plot.selectAll(".trace").remove()}}}function d(t,e,r,n){var i=t.selectAll("."+r).data([n||0]);return i.enter().append(e).classed(r,!0),i}e.name="cartesian",e.attr=["xaxis","yaxis"],e.idRoot=["x","y"],e.idRegex=l.idRegex,e.attrRegex=l.attrRegex,e.attributes=r(395),e.layoutAttributes=r(34),e.supplyLayoutDefaults=r(396),e.transitionAxes=r(399),e.finalizeSubplots=function(t,e){var r,n,o,a=e._subplots,c=a.xaxis,u=a.yaxis,h=a.cartesian,f=h.concat(a.gl2d||[]),d={},p={};for(r=0;r<f.length;r++){var v=f[r].split("y");d[v[0]]=1,p["y"+v[1]]=1}for(r=0;r<c.length;r++)d[n=c[r]]||(o=(t[s.id2name(n)]||{}).anchor,l.idRegex.y.test(o)||(o="y"),h.push(n+o),f.push(n+o),p[o]||(p[o]=1,i.pushUnique(u,o)));for(r=0;r<u.length;r++)p[o=u[r]]||(n=(t[s.id2name(o)]||{}).anchor,l.idRegex.x.test(n)||(n="x"),h.push(n+o),f.push(n+o),d[n]||(d[n]=1,i.pushUnique(c,n)));if(!f.length){var y=Object.keys(t);for(n="",o="",r=0;r<y.length;r++){var g=y[r];if(l.attrRegex.test(g))"x"===g.charAt(0)?(!n||+g.substr(5)<+n.substr(5))&&(n=g):(!o||+g.substr(5)<+o.substr(5))&&(o=g)}n=n?s.name2id(n):"x",o=o?s.name2id(o):"y",c.push(n),u.push(o),h.push(n+o)}},e.plot=function(t,e,r,n){var i,o=t._fullLayout,a=o._subplots.cartesian,s=t.calcdata;if(!Array.isArray(e))for(e=[],i=0;i<s.length;i++)e.push(i);for(o._glcanvas&&o._glcanvas.size()&&o._glcanvas.each(function(t){t.regl&&t.regl.clear({color:!0})}),i=0;i<a.length;i++){for(var l,c=a[i],h=o._plots[c],f=[],d=0;d<s.length;d++){var p=s[d],v=p[0].trace;v.xaxis+v.yaxis===c&&((-1!==e.indexOf(v.index)||v.carpet)&&(l&&l[0].trace.xaxis+l[0].trace.yaxis===c&&-1!==["tonextx","tonexty","tonext"].indexOf(v.fill)&&-1===f.indexOf(l)&&f.push(l),f.push(p)),l=p)}u(t,h,f,r,n)}},e.clean=function(t,e,r,n){var i,o,a,s,l,c,u,h,d=n._modules||[],p=e._modules||[];for(l=0;l<d.length;l++){"scatter"===d[l].name&&(i=!0);break}for(l=0;l<p.length;l++)if("scatter"===p[l].name){o=!0;break}for(l=0;l<d.length;l++){"scattergl"===d[l].name&&(a=!0);break}for(l=0;l<p.length;l++)if("scattergl"===p[l].name){s=!0;break}if(i&&!o){for(c=n._plots,u=Object.keys(c||{}),l=0;l<u.length;l++)(h=c[u[l]]).plot&&h.plot.select("g.scatterlayer").selectAll("g.trace").remove();n._infolayer.selectAll("g.rangeslider-container").select("g.scatterlayer").selectAll("g.trace").remove()}if(a&&!s)for(c=n._plots,u=Object.keys(c||{}),l=0;l<u.length;l++)(h=c[u[l]])._scene&&h._scene.destroy();var v=n._subplots||{},y=e._subplots||{xaxis:[],yaxis:[]};if(v.xaxis&&v.yaxis){var g=v.xaxis.concat(v.yaxis),m=y.xaxis.concat(y.yaxis);for(l=0;l<g.length;l++)-1===m.indexOf(g[l])&&n._infolayer.selectAll(".g-"+g[l]+"title").remove()}var b=n._has&&n._has("cartesian"),x=e._has&&e._has("cartesian");b&&!x&&(f(n._cartesianlayer.selectAll(".subplot"),n),n._defs.selectAll(".axesclip").remove())},e.drawFramework=function(t){var e=t._fullLayout,r=function(t){for(var e=t._fullLayout,r=Object.keys(e._plots),n=[],i=[],o=0;o<r.length;o++){var a=r[o],s=e._plots[a],l=s.xaxis,c=s.yaxis,u=l._mainAxis,h=c._mainAxis,f=u._id+h._id;f!==a&&-1!==r.indexOf(f)?(s.mainplot=f,s.mainplotinfo=e._plots[f],i.push(a)):n.push(a)}return n=n.concat(i)}(t),o=e._cartesianlayer.selectAll(".subplot").data(r,i.identity);o.enter().append("g").attr("class",function(t){return"subplot "+t}),o.order(),o.exit().call(f,e),o.each(function(t){var r=e._plots[t];(r.plotgroup=n.select(this),r.overlays=[],h(r),r.mainplot)&&e._plots[r.mainplot].overlays.push(r);r.draglayer=d(e._draggers,"g",t)})},e.rangePlot=function(t,e,r){h(e),u(t,e,r),o.style(t)},e.toSVG=function(t){var e=t._fullLayout._glimages,r=n.select(t).selectAll(".svg-container");r.filter(function(t,e){return e===r.size()-1}).selectAll(".gl-canvas-context, .gl-canvas-focus").each(function(){var t=this.toDataURL("image/png");e.append("svg:image").attr({xmlns:c.svg,"xlink:href":t,preserveAspectRatio:"none",x:0,y:0,width:this.width,height:this.height})})}},function(t,e,r){"use strict";var n=r(5);e.legendGetsTrace=function(t){return t.visible&&n.traceIs(t,"showLegend")},e.isGrouped=function(t){return-1!==(t.traceorder||"").indexOf("grouped")},e.isVertical=function(t){return"h"!==t.orientation},e.isReversed=function(t){return-1!==(t.traceorder||"").indexOf("reversed")}},function(t,e,r){"use strict";var n=r(4),i=r(115).castOption;t.exports=function(t,e,r){var o=r.marker.line,a=i(o.color,e.pts)||n.defaultLine,s=i(o.width,e.pts)||0;t.style({"stroke-width":s}).call(n.fill,e.color).call(n.stroke,a)}},function(t,e,r){"use strict";var n=r(1);e.formatPiePercent=function(t,e){var r=(100*t).toPrecision(3);return-1!==r.lastIndexOf(".")&&(r=r.replace(/[.]?0+$/,"")),n.numSeparate(r,e)+"%"},e.formatPieValue=function(t,e){var r=t.toPrecision(10);return-1!==r.lastIndexOf(".")&&(r=r.replace(/[.]?0+$/,"")),n.numSeparate(r,e)},e.getFirstFilled=function(t,e){if(Array.isArray(t))for(var r=0;r<e.length;r++){var n=t[e[r]];if(n||0===n)return n}},e.castOption=function(t,r){return Array.isArray(t)?e.getFirstFilled(t,r):t||void 0}},function(t,e,r){"use strict";var n=r(3),i=r(12),o=r(14),a=r(1),s=r(11),l=r(4),c=r(9),u=r(32),h=r(23),f=r(43),d=r(33),p=r(407);function v(t,e){var r=t._fullLayout.annotations[e]||{};y(t,r,e,!1,s.getFromId(t,r.xref),s.getFromId(t,r.yref))}function y(t,e,r,o,s,v){var y,g,m=t._fullLayout,b=t._fullLayout._size,x=t._context.edits;o?(y="annotation-"+o,g=o+".annotations["+r+"]"):(y="annotation",g="annotations["+r+"]"),m._infolayer.selectAll("."+y+'[data-index="'+r+'"]').remove();var w="clip"+m._uid+"_ann"+r;if(e._input&&!1!==e.visible){var _={x:{},y:{}},k=+e.textangle||0,T=m._infolayer.append("g").classed(y,!0).attr("data-index",String(r)).style("opacity",e.opacity),A=T.append("g").classed("annotation-text-g",!0),M=x[e.showarrow?"annotationTail":"annotationPosition"],S=e.captureevents||x.annotationText||M,O=A.append("g").style("pointer-events",S?"all":null).call(f,"default").on("click",function(){t._dragging=!1;var i={index:r,annotation:e._input,fullAnnotation:e,event:n.event};o&&(i.subplotId=o),t.emit("plotly_clickannotation",i)});e.hovertext&&O.on("mouseover",function(){var r=e.hoverlabel,n=r.font,i=this.getBoundingClientRect(),o=t.getBoundingClientRect();u.loneHover({x0:i.left-o.left,x1:i.right-o.left,y:(i.top+i.bottom)/2-o.top,text:e.hovertext,color:r.bgcolor,borderColor:r.bordercolor,fontFamily:n.family,fontSize:n.size,fontColor:n.color},{container:m._hoverlayer.node(),outerContainer:m._paper.node(),gd:t})}).on("mouseout",function(){u.loneUnhover(m._hoverlayer.node())});var C=e.borderwidth,L=e.borderpad,j=C+L,I=O.append("rect").attr("class","bg").style("stroke-width",C+"px").call(l.stroke,e.bordercolor).call(l.fill,e.bgcolor),P=e.width||e.height,E=m._topclips.selectAll("#"+w).data(P?[0]:[]);E.enter().append("clipPath").classed("annclip",!0).attr("id",w).append("rect"),E.exit().remove();var z=e.font,N=O.append("text").classed("annotation-text",!0).text(e.text);x.annotationText?N.call(h.makeEditable,{delegate:O,gd:t}).call(D).on("edit",function(r){e.text=r,this.call(D);var n={};n[g+".text"]=e.text,s&&s.autorange&&(n[s._name+".autorange"]=!0),v&&v.autorange&&(n[v._name+".autorange"]=!0),i.relayout(t,n)}):N.call(D)}else n.selectAll("#"+w).remove();function D(r){return r.call(c.font,z).attr({"text-anchor":{left:"start",right:"end"}[e.align]||"middle"}),h.convertToTspans(r,t,R),r}function R(){var r=N.selectAll("a");1===r.size()&&r.text()===N.text()&&O.insert("a",":first-child").attr({"xlink:xlink:href":r.attr("xlink:href"),"xlink:xlink:show":r.attr("xlink:show")}).style({cursor:"pointer"}).node().appendChild(I.node());var n=O.select(".annotation-text-math-group"),u=!n.empty(),y=c.bBox((u?n:N).node()),S=y.width,L=y.height,z=e.width||S,D=e.height||L,R=Math.round(z+2*j),F=Math.round(D+2*j);function B(t,e){return"auto"===e&&(e=t<1/3?"left":t>2/3?"right":"center"),{center:0,middle:0,left:.5,bottom:-.5,right:-.5,top:.5}[e]}e._w=z,e._h=D;for(var V=!1,q=["x","y"],H=0;H<q.length;H++){var U,W,G,Y,X,Z=q[H],J=e[Z+"ref"]||Z,$=e["a"+Z+"ref"],Q={x:s,y:v}[Z],K=(k+("x"===Z?0:-90))*Math.PI/180,tt=R*Math.cos(K),et=F*Math.sin(K),rt=Math.abs(tt)+Math.abs(et),nt=e[Z+"anchor"],it=e[Z+"shift"]*("x"===Z?1:-1),ot=_[Z];if(Q){var at=Q.r2fraction(e[Z]);if((t._dragging||!Q.autorange)&&(at<0||at>1)&&($===J?((at=Q.r2fraction(e["a"+Z]))<0||at>1)&&(V=!0):V=!0,V))continue;U=Q._offset+Q.r2p(e[Z]),Y=.5}else"x"===Z?(G=e[Z],U=b.l+b.w*G):(G=1-e[Z],U=b.t+b.h*G),Y=e.showarrow?.5:G;if(e.showarrow){ot.head=U;var st=e["a"+Z];X=tt*B(.5,e.xanchor)-et*B(.5,e.yanchor),$===J?(ot.tail=Q._offset+Q.r2p(st),W=X):(ot.tail=U+st,W=X+st),ot.text=ot.tail+X;var lt=m["x"===Z?"width":"height"];if("paper"===J&&(ot.head=a.constrain(ot.head,1,lt-1)),"pixel"===$){var ct=-Math.max(ot.tail-3,ot.text),ut=Math.min(ot.tail+3,ot.text)-lt;ct>0?(ot.tail+=ct,ot.text+=ct):ut>0&&(ot.tail-=ut,ot.text-=ut)}ot.tail+=it,ot.head+=it}else W=X=rt*B(Y,nt),ot.text=U+X;ot.text+=it,X+=it,W+=it,e["_"+Z+"padplus"]=rt/2+W,e["_"+Z+"padminus"]=rt/2-W,e["_"+Z+"size"]=rt,e["_"+Z+"shift"]=X}if(V)O.remove();else{var ht=0,ft=0;if("left"!==e.align&&(ht=(z-S)*("center"===e.align?.5:1)),"top"!==e.valign&&(ft=(D-L)*("middle"===e.valign?.5:1)),u)n.select("svg").attr({x:j+ht-1,y:j+ft}).call(c.setClipUrl,P?w:null);else{var dt=j+ft-y.top,pt=j+ht-y.left;N.call(h.positionText,pt,dt).call(c.setClipUrl,P?w:null)}E.select("rect").call(c.setRect,j,j,z,D),I.call(c.setRect,C/2,C/2,R-C,F-C),O.call(c.setTranslate,Math.round(_.x.text-R/2),Math.round(_.y.text-F/2)),A.attr({transform:"rotate("+k+","+_.x.text+","+_.y.text+")"});var vt,yt,gt=function(r,n){T.selectAll(".annotation-arrow-g").remove();var u=_.x.head,h=_.y.head,f=_.x.tail+r,y=_.y.tail+n,m=_.x.text+r,w=_.y.text+n,M=a.rotationXYMatrix(k,m,w),S=a.apply2DTransform(M),C=a.apply2DTransform2(M),L=+I.attr("width"),j=+I.attr("height"),P=m-.5*L,E=P+L,z=w-.5*j,N=z+j,D=[[P,z,P,N],[P,N,E,N],[E,N,E,z],[E,z,P,z]].map(C);if(!D.reduce(function(t,e){return t^!!a.segmentsIntersect(u,h,u+1e6,h+1e6,e[0],e[1],e[2],e[3])},!1)){D.forEach(function(t){var e=a.segmentsIntersect(f,y,u,h,t[0],t[1],t[2],t[3]);e&&(f=e.x,y=e.y)});var R=e.arrowwidth,F=e.arrowcolor,B=e.arrowside,V=T.append("g").style({opacity:l.opacity(F)}).classed("annotation-arrow-g",!0),q=V.append("path").attr("d","M"+f+","+y+"L"+u+","+h).style("stroke-width",R+"px").call(l.stroke,l.rgb(F));if(p(q,B,e),x.annotationPosition&&q.node().parentNode&&!o){var H=u,U=h;if(e.standoff){var W=Math.sqrt(Math.pow(u-f,2)+Math.pow(h-y,2));H+=e.standoff*(f-u)/W,U+=e.standoff*(y-h)/W}var G,Y,X,Z=V.append("path").classed("annotation-arrow",!0).classed("anndrag",!0).attr({d:"M3,3H-3V-3H3ZM0,0L"+(f-H)+","+(y-U),transform:"translate("+H+","+U+")"}).style("stroke-width",R+6+"px").call(l.stroke,"rgba(0,0,0,0)").call(l.fill,"rgba(0,0,0,0)");d.init({element:Z.node(),gd:t,prepFn:function(){var t=c.getTranslate(O);Y=t.x,X=t.y,G={},s&&s.autorange&&(G[s._name+".autorange"]=!0),v&&v.autorange&&(G[v._name+".autorange"]=!0)},moveFn:function(t,r){var n=S(Y,X),i=n[0]+t,o=n[1]+r;O.call(c.setTranslate,i,o),G[g+".x"]=s?s.p2r(s.r2p(e.x)+t):e.x+t/b.w,G[g+".y"]=v?v.p2r(v.r2p(e.y)+r):e.y-r/b.h,e.axref===e.xref&&(G[g+".ax"]=s.p2r(s.r2p(e.ax)+t)),e.ayref===e.yref&&(G[g+".ay"]=v.p2r(v.r2p(e.ay)+r)),V.attr("transform","translate("+t+","+r+")"),A.attr({transform:"rotate("+k+","+i+","+o+")"})},doneFn:function(){i.relayout(t,G);var e=document.querySelector(".js-notes-box-panel");e&&e.redraw(e.selectedObj)}})}}};if(e.showarrow&&gt(0,0),M)d.init({element:O.node(),gd:t,prepFn:function(){yt=A.attr("transform"),vt={}},moveFn:function(t,r){var n="pointer";if(e.showarrow)e.axref===e.xref?vt[g+".ax"]=s.p2r(s.r2p(e.ax)+t):vt[g+".ax"]=e.ax+t,e.ayref===e.yref?vt[g+".ay"]=v.p2r(v.r2p(e.ay)+r):vt[g+".ay"]=e.ay+r,gt(t,r);else{if(o)return;if(s)vt[g+".x"]=e.x+t/s._m;else{var i=e._xsize/b.w,a=e.x+(e._xshift-e.xshift)/b.w-i/2;vt[g+".x"]=d.align(a+t/b.w,i,0,1,e.xanchor)}if(v)vt[g+".y"]=e.y+r/v._m;else{var l=e._ysize/b.h,c=e.y-(e._yshift+e.yshift)/b.h-l/2;vt[g+".y"]=d.align(c-r/b.h,l,0,1,e.yanchor)}s&&v||(n=d.getCursor(s?.5:vt[g+".x"],v?.5:vt[g+".y"],e.xanchor,e.yanchor))}A.attr({transform:"translate("+t+","+r+")"+yt}),f(O,n)},doneFn:function(){f(O),i.relayout(t,vt);var e=document.querySelector(".js-notes-box-panel");e&&e.redraw(e.selectedObj)}})}}}t.exports={draw:function(t){var e=t._fullLayout;e._infolayer.selectAll(".annotation").remove();for(var r=0;r<e.annotations.length;r++)e.annotations[r].visible&&v(t,r);return o.previousPromises(t)},drawOne:v,drawRaw:y}},function(t,e,r){"use strict";var n=r(5),i=r(1);t.exports=function(t){return function(e,r){var o=e[t];if(Array.isArray(o))for(var a=n.subplotsRegistry.cartesian,s=a.idRegex,l=r._subplots,c=l.xaxis,u=l.yaxis,h=l.cartesian,f=r._has("cartesian")||r._has("gl2d"),d=0;d<o.length;d++){var p=o[d];if(i.isPlainObject(p)){var v=p.xref,y=p.yref,g=s.x.test(v),m=s.y.test(y);if(g||m){f||i.pushUnique(r._basePlotModules,a);var b=!1;g&&-1===c.indexOf(v)&&(c.push(v),b=!0),m&&-1===u.indexOf(y)&&(u.push(y),b=!0),b&&g&&m&&h.push(v+y)}}}}}},function(t,e,r){"use strict";var n=r(71),i=r(39).overrideAll;t.exports=i({_isLinkedToArray:"annotation",visible:n.visible,x:{valType:"any",role:"info",description:["Sets the annotation's x position."].join(" ")},y:{valType:"any",role:"info",description:["Sets the annotation's y position."].join(" ")},z:{valType:"any",role:"info",description:["Sets the annotation's z position."].join(" ")},ax:{valType:"number",role:"info",description:["Sets the x component of the arrow tail about the arrow head (in pixels)."].join(" ")},ay:{valType:"number",role:"info",description:["Sets the y component of the arrow tail about the arrow head (in pixels)."].join(" ")},xanchor:n.xanchor,xshift:n.xshift,yanchor:n.yanchor,yshift:n.yshift,text:n.text,textangle:n.textangle,font:n.font,width:n.width,height:n.height,opacity:n.opacity,align:n.align,valign:n.valign,bgcolor:n.bgcolor,bordercolor:n.bordercolor,borderpad:n.borderpad,borderwidth:n.borderwidth,showarrow:n.showarrow,arrowcolor:n.arrowcolor,arrowhead:n.arrowhead,startarrowhead:n.startarrowhead,arrowside:n.arrowside,arrowsize:n.arrowsize,startarrowsize:n.startarrowsize,arrowwidth:n.arrowwidth,standoff:n.standoff,startstandoff:n.startstandoff,hovertext:n.hovertext,hoverlabel:n.hoverlabel,captureevents:n.captureevents},"calc","from-root")},function(t,e,r){"use strict";e.rangeToShapePosition=function(t){return"log"===t.type?t.r2d:function(t){return t}},e.shapePositionToRange=function(t){return"log"===t.type?t.d2r:function(t){return t}},e.decodeDate=function(t){return function(e){return e.replace&&(e=e.replace("_"," ")),t(e)}},e.encodeDate=function(t){return function(e){return t(e).replace(" ","_")}},e.getDataToPixel=function(t,r,n){var i,o=t._fullLayout._size;if(r){var a=e.shapePositionToRange(r);i=function(t){return r._offset+r.r2p(a(t,!0))},"date"===r.type&&(i=e.decodeDate(i))}else i=n?function(t){return o.t+o.h*(1-t)}:function(t){return o.l+o.w*t};return i},e.getPixelToData=function(t,r,n){var i,o=t._fullLayout._size;if(r){var a=e.rangeToShapePosition(r);i=function(t){return a(r.p2r(t-r._offset))}}else i=n?function(t){return 1-(t-o.t)/o.h}:function(t){return(t-o.l)/o.w};return i}},function(t,e,r){"use strict";t.exports={name:"updatemenus",containerClassName:"updatemenu-container",headerGroupClassName:"updatemenu-header-group",headerClassName:"updatemenu-header",headerArrowClassName:"updatemenu-header-arrow",dropdownButtonGroupClassName:"updatemenu-dropdown-button-group",dropdownButtonClassName:"updatemenu-dropdown-button",buttonClassName:"updatemenu-button",itemRectClassName:"updatemenu-item-rect",itemTextClassName:"updatemenu-item-text",menuIndexAttrName:"updatemenu-active-index",autoMarginIdRoot:"updatemenu-",blankHeaderOpts:{label:"  "},minWidth:30,minHeight:30,textPadX:24,arrowPadX:16,rx:2,ry:2,textOffsetX:12,textOffsetY:3,arrowOffsetX:4,gapButtonHeader:5,gapButton:2,activeColor:"#F4FAFF",hoverColor:"#F4FAFF",arrowSymbol:{left:"",right:"",up:"",down:""}}},function(t,e,r){"use strict";var n=r(31);t.exports={bgcolor:{valType:"color",dflt:n.background,role:"style",editType:"calc",description:"Sets the background color of the range slider."},bordercolor:{valType:"color",dflt:n.defaultLine,role:"style",editType:"calc",description:"Sets the border color of the range slider."},borderwidth:{valType:"integer",dflt:0,min:0,role:"style",editType:"calc",description:"Sets the border color of the range slider."},autorange:{valType:"boolean",dflt:!0,role:"style",editType:"calc",description:["Determines whether or not the range slider range is","computed in relation to the input data.","If `range` is provided, then `autorange` is set to *false*."].join(" ")},range:{valType:"info_array",role:"info",items:[{valType:"any",editType:"calc"},{valType:"any",editType:"calc"}],editType:"calc",description:["Sets the range of the range slider.","If not set, defaults to the full xaxis range.","If the axis `type` is *log*, then you must take the","log of your desired range.","If the axis `type` is *date*, it should be date strings,","like date data, though Date objects and unix milliseconds","will be accepted and converted to strings.","If the axis `type` is *category*, it should be numbers,","using the scale where each category is assigned a serial","number from zero in the order it appears."].join(" ")},thickness:{valType:"number",dflt:.15,min:0,max:1,role:"style",editType:"calc",description:["The height of the range slider as a fraction of the","total plot area height."].join(" ")},visible:{valType:"boolean",dflt:!0,role:"info",editType:"calc",description:["Determines whether or not the range slider will be visible.","If visible, perpendicular axes will be set to `fixedrange`"].join(" ")},editType:"calc"}},function(t,e,r){"use strict";var n=r(20),i=r(31),o=r(18).extendFlat,a=r(188);a=o(a,{_isLinkedToArray:"button",description:["Sets the specifications for each buttons.","By default, a range selector comes with no buttons."].join(" ")}),t.exports={visible:{valType:"boolean",role:"info",editType:"plot",description:["Determines whether or not this range selector is visible.","Note that range selectors are only available for x axes of","`type` set to or auto-typed to *date*."].join(" ")},buttons:a,x:{valType:"number",min:-2,max:3,role:"style",editType:"plot",description:"Sets the x position (in normalized coordinates) of the range selector."},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left",role:"info",editType:"plot",description:["Sets the range selector's horizontal position anchor.","This anchor binds the `x` position to the *left*, *center*","or *right* of the range selector."].join(" ")},y:{valType:"number",min:-2,max:3,role:"style",editType:"plot",description:"Sets the y position (in normalized coordinates) of the range selector."},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"bottom",role:"info",editType:"plot",description:["Sets the range selector's vertical position anchor","This anchor binds the `y` position to the *top*, *middle*","or *bottom* of the range selector."].join(" ")},font:n({editType:"plot",description:"Sets the font of the range selector button text."}),bgcolor:{valType:"color",dflt:i.lightLine,role:"style",editType:"plot",description:"Sets the background color of the range selector buttons."},activecolor:{valType:"color",role:"style",editType:"plot",description:"Sets the background color of the active range selector button."},bordercolor:{valType:"color",dflt:i.defaultLine,role:"style",editType:"plot",description:"Sets the color of the border enclosing the range selector."},borderwidth:{valType:"number",min:0,dflt:0,role:"style",editType:"plot",description:"Sets the width (in px) of the border enclosing the range selector."},editType:"plot"}},function(t,e,r){"use strict";var n=r(50),i=r(152),o=r(66),a=r(67),s=r(20),l=r(18).extendFlat,c=s({editType:"calc",arrayOk:!0,description:""}),u=n.marker,h=l({line:l({width:l({},u.line.width,{dflt:0}),editType:"calc"},i("marker.line")),editType:"calc"},i("marker"),{showscale:u.showscale,colorbar:a,opacity:{valType:"number",arrayOk:!0,dflt:1,min:0,max:1,role:"style",editType:"style",description:"Sets the opacity of the bars."}});t.exports={x:n.x,x0:n.x0,dx:n.dx,y:n.y,y0:n.y0,dy:n.dy,text:n.text,hovertext:n.hovertext,textposition:{valType:"enumerated",role:"info",values:["inside","outside","auto","none"],dflt:"none",arrayOk:!0,editType:"calc",description:["Specifies the location of the `text`.","*inside* positions `text` inside, next to the bar end","(rotated and scaled if needed).","*outside* positions `text` outside, next to the bar end","(scaled if needed).","*auto* positions `text` inside or outside","so that `text` size is maximized."].join(" ")},textfont:l({},c,{description:"Sets the font used for `text`."}),insidetextfont:l({},c,{description:"Sets the font used for `text` lying inside the bar."}),outsidetextfont:l({},c,{description:"Sets the font used for `text` lying outside the bar."}),constraintext:{valType:"enumerated",values:["inside","outside","both","none"],role:"info",dflt:"both",editType:"calc",description:["Constrain the size of text inside or outside a bar to be no","larger than the bar itself."].join(" ")},orientation:{valType:"enumerated",role:"info",values:["v","h"],editType:"calc+clearAxisTypes",description:["Sets the orientation of the bars.","With *v* (*h*), the value of the each bar spans","along the vertical (horizontal)."].join(" ")},base:{valType:"any",dflt:null,arrayOk:!0,role:"info",editType:"calc",description:["Sets where the bar base is drawn (in position axis units).","In *stack* or *relative* barmode,","traces that set *base* will be excluded","and drawn in *overlay* mode instead."].join(" ")},offset:{valType:"number",dflt:null,arrayOk:!0,role:"info",editType:"calc",description:["Shifts the position where the bar is drawn","(in position axis units).","In *group* barmode,","traces that set *offset* will be excluded","and drawn in *overlay* mode instead."].join(" ")},width:{valType:"number",dflt:null,min:0,arrayOk:!0,role:"info",editType:"calc",description:["Sets the bar width (in position axis units)."].join(" ")},marker:h,selected:{marker:{opacity:n.selected.marker.opacity,color:n.selected.marker.color,editType:"style"},textfont:n.selected.textfont,editType:"style"},unselected:{marker:{opacity:n.unselected.marker.opacity,color:n.unselected.marker.color,editType:"style"},textfont:n.unselected.textfont,editType:"style"},r:n.r,t:n.t,error_y:o,error_x:o,_deprecated:{bardir:{valType:"enumerated",role:"info",editType:"calc",values:["v","h"],description:"Renamed to `orientation`."}}}},function(t,e,r){"use strict";var n=r(125);function i(t){return t?1===t.length?t[0]:function(e){return t.reduce(function(t,e){return e(t)},e)}:n.noop}e.pipe=function(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];return i(t)},e.pipeFromArray=i},function(t,e,r){"use strict";e.noop=function(){}},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function n(){this.constructor=t}t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=function(t){function e(e,r){t.call(this),this.value=e,this.scheduler=r,this._isScalar=!0,r&&(this._isScalar=!1)}return n(e,t),e.create=function(t,r){return new e(t,r)},e.dispatch=function(t){var e=t.done,r=t.value,n=t.subscriber;e?n.complete():(n.next(r),n.closed||(t.done=!0,this.schedule(t)))},e.prototype._subscribe=function(t){var r=this.value,n=this.scheduler;if(n)return n.schedule(e.dispatch,0,{done:!1,value:r,subscriber:t});t.next(r),t.closed||t.complete()},e}(r(0).Observable);e.ScalarObservable=i},function(t,e,r){"use strict";var n=r(82);e.concatAll=function(){return n.mergeAll(1)}},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function n(){this.constructor=t}t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=r(30),o=r(36),a=r(7),s=r(8);e.race=function(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];if(1===t.length){if(!i.isArray(t[0]))return t[0];t=t[0]}return new o.ArrayObservable(t).lift(new l)};var l=function(){function t(){}return t.prototype.call=function(t,e){return e.subscribe(new c(t))},t}();e.RaceOperator=l;var c=function(t){function e(e){t.call(this,e),this.hasFirst=!1,this.observables=[],this.subscriptions=[]}return n(e,t),e.prototype._next=function(t){this.observables.push(t)},e.prototype._complete=function(){var t=this.observables,e=t.length;if(0===e)this.destination.complete();else{for(var r=0;r<e&&!this.hasFirst;r++){var n=t[r],i=s.subscribeToResult(this,n,n,r);this.subscriptions&&this.subscriptions.push(i),this.add(i)}this.observables=null}},e.prototype.notifyNext=function(t,e,r,n,i){if(!this.hasFirst){this.hasFirst=!0;for(var o=0;o<this.subscriptions.length;o++)if(o!==r){var a=this.subscriptions[o];a.unsubscribe(),this.remove(a)}this.subscriptions=null}this.destination.next(e)},e}(a.OuterSubscriber);e.RaceSubscriber=c},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function n(){this.constructor=t}t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=r(206),o=r(30),a=r(7),s=r(8);e.onErrorResumeNext=function(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];return 1===t.length&&o.isArray(t[0])&&(t=t[0]),function(e){return e.lift(new l(t))}},e.onErrorResumeNextStatic=function(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];var r;return 1===t.length&&o.isArray(t[0])&&(t=t[0]),r=t.shift(),new i.FromObservable(r,null).lift(new l(t))};var l=function(){function t(t){this.nextSources=t}return t.prototype.call=function(t,e){return e.subscribe(new c(t,this.nextSources))},t}(),c=function(t){function e(e,r){t.call(this,e),this.destination=e,this.nextSources=r}return n(e,t),e.prototype.notifyError=function(t,e){this.subscribeToNextSource()},e.prototype.notifyComplete=function(t){this.subscribeToNextSource()},e.prototype._error=function(t){this.subscribeToNextSource()},e.prototype._complete=function(){this.subscribeToNextSource()},e.prototype.subscribeToNextSource=function(){var t=this.nextSources.shift();t?this.add(s.subscribeToResult(this,t)):this.destination.complete()},e}(a.OuterSubscriber)},function(t,e,r){"use strict";var n=r(56);e.concatMap=function(t,e){return n.mergeMap(t,e,1)}},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function n(){this.constructor=t}t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=r(2);e.defaultIfEmpty=function(t){return void 0===t&&(t=null),function(e){return e.lift(new o(t))}};var o=function(){function t(t){this.defaultValue=t}return t.prototype.call=function(t,e){return e.subscribe(new a(t,this.defaultValue))},t}(),a=function(t){function e(e,r){t.call(this,e),this.defaultValue=r,this.isEmpty=!0}return n(e,t),e.prototype._next=function(t){this.isEmpty=!1,this.destination.next(t)},e.prototype._complete=function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()},e}(i.Subscriber)},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function n(){this.constructor=t}t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=r(2),o=r(17),a=r(16);e.distinctUntilChanged=function(t,e){return function(r){return r.lift(new s(t,e))}};var s=function(){function t(t,e){this.compare=t,this.keySelector=e}return t.prototype.call=function(t,e){return e.subscribe(new l(t,this.compare,this.keySelector))},t}(),l=function(t){function e(e,r,n){t.call(this,e),this.keySelector=n,this.hasKey=!1,"function"==typeof r&&(this.compare=r)}return n(e,t),e.prototype.compare=function(t,e){return t===e},e.prototype._next=function(t){var e=t;if(this.keySelector&&(e=o.tryCatch(this.keySelector)(t))===a.errorObject)return this.destination.error(a.errorObject.e);var r=!1;if(this.hasKey){if((r=o.tryCatch(this.compare)(this.key,e))===a.errorObject)return this.destination.error(a.errorObject.e)}else this.hasKey=!0;!1===Boolean(r)&&(this.key=e,this.destination.next(t))},e}(i.Subscriber)},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function n(){this.constructor=t}t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=r(2);e.filter=function(t,e){return function(r){return r.lift(new o(t,e))}};var o=function(){function t(t,e){this.predicate=t,this.thisArg=e}return t.prototype.call=function(t,e){return e.subscribe(new a(t,this.predicate,this.thisArg))},t}(),a=function(t){function e(e,r,n){t.call(this,e),this.predicate=r,this.thisArg=n,this.count=0}return n(e,t),e.prototype._next=function(t){var e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(t){return void this.destination.error(t)}e&&this.destination.next(t)},e}(i.Subscriber)},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function n(){this.constructor=t}t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=r(2);e.find=function(t,e){if("function"!=typeof t)throw new TypeError("predicate is not a function");return function(r){return r.lift(new o(t,r,!1,e))}};var o=function(){function t(t,e,r,n){this.predicate=t,this.source=e,this.yieldIndex=r,this.thisArg=n}return t.prototype.call=function(t,e){return e.subscribe(new a(t,this.predicate,this.source,this.yieldIndex,this.thisArg))},t}();e.FindValueOperator=o;var a=function(t){function e(e,r,n,i,o){t.call(this,e),this.predicate=r,this.source=n,this.yieldIndex=i,this.thisArg=o,this.index=0}return n(e,t),e.prototype.notifyComplete=function(t){var e=this.destination;e.next(t),e.complete()},e.prototype._next=function(t){var e=this.predicate,r=this.thisArg,n=this.index++;try{e.call(r||this,t,n,this.source)&&this.notifyComplete(this.yieldIndex?n:t)}catch(t){this.destination.error(t)}},e.prototype._complete=function(){this.notifyComplete(this.yieldIndex?-1:void 0)},e}(i.Subscriber);e.FindValueSubscriber=a},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function n(){this.constructor=t}t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=r(17),o=r(16),a=r(7),s=r(8);e.audit=function(t){return function(e){return e.lift(new l(t))}};var l=function(){function t(t){this.durationSelector=t}return t.prototype.call=function(t,e){return e.subscribe(new c(t,this.durationSelector))},t}(),c=function(t){function e(e,r){t.call(this,e),this.durationSelector=r,this.hasValue=!1}return n(e,t),e.prototype._next=function(t){if(this.value=t,this.hasValue=!0,!this.throttled){var e=i.tryCatch(this.durationSelector)(t);if(e===o.errorObject)this.destination.error(o.errorObject.e);else{var r=s.subscribeToResult(this,e);r.closed?this.clearThrottle():this.add(this.throttled=r)}}},e.prototype.clearThrottle=function(){var t=this.value,e=this.hasValue,r=this.throttled;r&&(this.remove(r),this.throttled=null,r.unsubscribe()),e&&(this.value=null,this.hasValue=!1,this.destination.next(t))},e.prototype.notifyNext=function(t,e,r,n){this.clearThrottle()},e.prototype.notifyComplete=function(){this.clearThrottle()},e}(a.OuterSubscriber)},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function n(){this.constructor=t}t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=r(2);e.scan=function(t,e){var r=!1;return arguments.length>=2&&(r=!0),function(n){return n.lift(new o(t,e,r))}};var o=function(){function t(t,e,r){void 0===r&&(r=!1),this.accumulator=t,this.seed=e,this.hasSeed=r}return t.prototype.call=function(t,e){return e.subscribe(new a(t,this.accumulator,this.seed,this.hasSeed))},t}(),a=function(t){function e(e,r,n,i){t.call(this,e),this.accumulator=r,this._seed=n,this.hasSeed=i,this.index=0}return n(e,t),Object.defineProperty(e.prototype,"seed",{get:function(){return this._seed},set:function(t){this.hasSeed=!0,this._seed=t},enumerable:!0,configurable:!0}),e.prototype._next=function(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)},e.prototype._tryNext=function(t){var e,r=this.index++;try{e=this.accumulator(this.seed,t,r)}catch(t){this.destination.error(t)}this.seed=e,this.destination.next(e)},e}(i.Subscriber)},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function n(){this.constructor=t}t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=r(2),o=r(61),a=r(37);e.takeLast=function(t){return function(e){return 0===t?new a.EmptyObservable:e.lift(new s(t))}};var s=function(){function t(t){if(this.total=t,this.total<0)throw new o.ArgumentOutOfRangeError}return t.prototype.call=function(t,e){return e.subscribe(new l(t,this.total))},t}(),l=function(t){function e(e,r){t.call(this,e),this.total=r,this.ring=new Array,this.count=0}return n(e,t),e.prototype._next=function(t){var e=this.ring,r=this.total,n=this.count++;e.length<r?e.push(t):e[n%r]=t},e.prototype._complete=function(){var t=this.destination,e=this.count;if(e>0)for(var r=this.count>=this.total?this.total:this.count,n=this.ring,i=0;i<r;i++){var o=e++%r;t.next(n[o])}t.complete()},e}(i.Subscriber)},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function n(){this.constructor=t}t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=r(2);e.refCount=function(){return function(t){return t.lift(new o(t))}};var o=function(){function t(t){this.connectable=t}return t.prototype.call=function(t,e){var r=this.connectable;r._refCount++;var n=new a(t,r),i=e.subscribe(n);return n.closed||(n.connection=r.connect()),i},t}(),a=function(t){function e(e,r){t.call(this,e),this.connectable=r}return n(e,t),e.prototype._unsubscribe=function(){var t=this.connectable;if(t){this.connectable=null;var e=t._refCount;if(e<=0)this.connection=null;else if(t._refCount=e-1,e>1)this.connection=null;else{var r=this.connection,n=t._connection;this.connection=null,!n||r&&n!==r||n.unsubscribe()}}else this.connection=null},e}(i.Subscriber)},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function n(){this.constructor=t}t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=r(7),o=r(8);e.switchMap=function(t,e){return function(r){return r.lift(new a(t,e))}};var a=function(){function t(t,e){this.project=t,this.resultSelector=e}return t.prototype.call=function(t,e){return e.subscribe(new s(t,this.project,this.resultSelector))},t}(),s=function(t){function e(e,r,n){t.call(this,e),this.project=r,this.resultSelector=n,this.index=0}return n(e,t),e.prototype._next=function(t){var e,r=this.index++;try{e=this.project(t,r)}catch(t){return void this.destination.error(t)}this._innerSub(e,t,r)},e.prototype._innerSub=function(t,e,r){var n=this.innerSubscription;n&&n.unsubscribe(),this.add(this.innerSubscription=o.subscribeToResult(this,t,e,r))},e.prototype._complete=function(){var e=this.innerSubscription;e&&!e.closed||t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){this.innerSubscription=null},e.prototype.notifyComplete=function(e){this.remove(e),this.innerSubscription=null,this.isStopped&&t.prototype._complete.call(this)},e.prototype.notifyNext=function(t,e,r,n,i){this.resultSelector?this._tryNotifyNext(t,e,r,n):this.destination.next(e)},e.prototype._tryNotifyNext=function(t,e,r,n){var i;try{i=this.resultSelector(t,e,r,n)}catch(t){return void this.destination.error(t)}this.destination.next(i)},e}(i.OuterSubscriber)},function(t,e,r){"use strict";var n=r(10),i=r(60);e.timestamp=function(t){return void 0===t&&(t=n.async),i.map(function(e){return new o(e,t.now())})};var o=function(){return function(t,e){this.value=t,this.timestamp=e}}();e.Timestamp=o},function(t,e,r){"use strict";t.exports=function(t,e){if(e instanceof RegExp){var r,n=e.toString();for(r=0;r<t.length;r++)if(t[r]instanceof RegExp&&t[r].toString()===n)return t;t.push(e)}else e&&-1===t.indexOf(e)&&t.push(e);return t}},function(t,e,r){"use strict";var n=r(5);t.exports=function(t){for(var e,r,i=n.layoutArrayContainers,o=n.layoutArrayRegexes,a=t.split("[")[0],s=0;s<o.length;s++)if((r=t.match(o[s]))&&0===r.index){e=r[0];break}if(e||(e=i[i.indexOf(a)]),!e)return!1;var l=t.substr(e.length);return l?!!(r=l.match(/^\[(0|[1-9][0-9]*)\](\.(.+))?$/))&&{array:e,index:Number(r[1]),property:r[3]||""}:{array:e,index:"",property:""}}},function(t,e,r){"use strict";var n=r(38),i=r(144),o=r(145);t.exports=function(t,e){if(e||(e=i),!t)return e;function r(){try{t=n[t]||JSON.parse(t)}catch(r){t=e}}return"string"==typeof t&&(r(),"string"==typeof t&&r()),o(t)?t:e}},function(t,e,r){"use strict";var n=r(38);t.exports=n.RdBu},function(t,e,r){"use strict";var n=r(28);t.exports=function(t){var e=0;if(!Array.isArray(t)||t.length<2)return!1;if(!t[0]||!t[t.length-1])return!1;if(0!=+t[0][0]||1!=+t[t.length-1][0])return!1;for(var r=0;r<t.length;r++){var i=t[r];if(2!==i.length||+i[0]<e||!n(i[1]).isValid())return!1;e=+i[0]}return!0}},function(t,e,r){"use strict";e.counter=function(t,e,r){return new RegExp("^"+t+"([2-9]|[1-9][0-9]+)?"+(e||"")+(r?"":"$"))}},function(t,e,r){"use strict";var n=Math.PI;e.deg2rad=function(t){return t/180*n},e.rad2deg=function(t){return t/n*180},e.wrap360=function(t){var e=t%360;return e<0?e+360:e},e.wrap180=function(t){return Math.abs(t)>180&&(t-=360*Math.round(t/360)),t}},function(t,e,r){"use strict";var n=r(6),i=r(45);function o(t,e){return t<e}function a(t,e){return t<=e}function s(t,e){return t>e}function l(t,e){return t>=e}e.findBin=function(t,e,r){if(n(e.start))return r?Math.ceil((t-e.start)/e.size-1e-9)-1:Math.floor((t-e.start)/e.size+1e-9);var c,u,h=0,f=e.length,d=0,p=f>1?(e[f-1]-e[0])/(f-1):1;for(u=p>=0?r?o:a:r?l:s,t+=1e-9*p*(r?-1:1)*(p>=0?1:-1);h<f&&d++<100;)u(e[c=Math.floor((h+f)/2)],t)?h=c+1:f=c;return d>90&&i.log("Long binary search..."),h-1},e.sorterAsc=function(t,e){return t-e},e.sorterDes=function(t,e){return e-t},e.distinctVals=function(t){var r=t.slice();r.sort(e.sorterAsc);for(var n=r.length-1,i=r[n]-r[0]||1,o=i/(n||1)/1e4,a=[r[0]],s=0;s<n;s++)r[s+1]>r[s]+o&&(i=Math.min(i,r[s+1]-r[s]),a.push(r[s+1]));return{vals:a,minDiff:i}},e.roundUp=function(t,e,r){for(var n,i=0,o=e.length-1,a=0,s=r?0:1,l=r?1:0,c=r?Math.ceil:Math.floor;i<o&&a++<100;)e[n=c((i+o)/2)]<=t?i=n+s:o=n-l;return e[i]}},function(t,e,r){"use strict";e.init2dArray=function(t,e){for(var r=new Array(t),n=0;n<t;n++)r[n]=new Array(e);return r},e.transposeRagged=function(t){var e,r,n=0,i=t.length;for(e=0;e<i;e++)n=Math.max(n,t[e].length);var o=new Array(n);for(e=0;e<n;e++)for(o[e]=new Array(i),r=0;r<i;r++)o[e][r]=t[r][e];return o},e.dot=function(t,r){if(!t.length||!r.length||t.length!==r.length)return null;var n,i,o=t.length;if(t[0].length)for(n=new Array(o),i=0;i<o;i++)n[i]=e.dot(t[i],r);else if(r[0].length){var a=e.transposeRagged(r);for(n=new Array(a.length),i=0;i<a.length;i++)n[i]=e.dot(t,a[i])}else for(n=0,i=0;i<o;i++)n+=t[i]*r[i];return n},e.translationMatrix=function(t,e){return[[1,0,t],[0,1,e],[0,0,1]]},e.rotationMatrix=function(t){var e=t*Math.PI/180;return[[Math.cos(e),-Math.sin(e),0],[Math.sin(e),Math.cos(e),0],[0,0,1]]},e.rotationXYMatrix=function(t,r,n){return e.dot(e.dot(e.translationMatrix(r,n),e.rotationMatrix(t)),e.translationMatrix(-r,-n))},e.apply2DTransform=function(t){return function(){var r=arguments;3===r.length&&(r=r[0]);var n=1===arguments.length?r[0]:[r[0],r[1]];return e.dot(t,[n[0],n[1],1]).slice(0,2)}},e.apply2DTransform2=function(t){var r=e.apply2DTransform(t);return function(t){return r(t.slice(0,2)).concat(r(t.slice(2,4)))}}},function(t,e,r){"use strict";t.exports=function(t){var e;if("string"==typeof t){if(null===(e=document.getElementById(t)))throw new Error("No DOM element with id '"+t+"' exists on the page.");return e}if(null===t||void 0===t)throw new Error("DOM element provided is null or undefined");return t}},function(t,e,r){"use strict";t.exports={_isLinkedToArray:"frames_entry",group:{valType:"string",role:"info",description:["An identifier that specifies the group to which the frame belongs,","used by animate to select a subset of frames."].join(" ")},name:{valType:"string",role:"info",description:"A label by which to identify the frame"},traces:{valType:"any",role:"info",description:["A list of trace indices that identify the respective traces in the","data attribute"].join(" ")},baseframe:{valType:"string",role:"info",description:["The name of the frame into which this frame's properties are merged","before applying. This is used to unify properties and avoid needing","to specify the same values for the same properties in multiple frames."].join(" ")},data:{valType:"any",role:"object",description:["A list of traces this frame modifies. The format is identical to the","normal trace definition."].join(" ")},layout:{valType:"any",role:"object",description:["Layout properties which this frame modifies. The format is identical","to the normal layout definition."].join(" ")}}},function(t,e,r){"use strict";var n=r(153),i=r(18).extendFlat,o=r(38);t.exports=function(t,e,r){var a=t?t+".":"";return{color:{valType:"color",arrayOk:!0,role:"style",editType:e||"style",description:["Sets the",t,"color. It accepts either a specific color","or an array of numbers that are mapped to the colorscale","relative to the max and min values of the array or relative to","`cmin` and `cmax` if set."].join(" ")},colorscale:i({},n.colorscale,{description:["Sets the colorscale and only has an effect","if `"+a+"color` is set to a numerical array.","The colorscale must be an array containing","arrays mapping a normalized value to an","rgb, rgba, hex, hsl, hsv, or named color string.","At minimum, a mapping for the lowest (0) and highest (1)","values are required. For example,","`[[0, 'rgb(0,0,255)', [1, 'rgb(255,0,0)']]`.","To control the bounds of the colorscale in color space,","use `"+a+"cmin` and `"+a+"cmax`.","Alternatively, `colorscale` may be a palette name string","of the following list:",Object.keys(o).join(", ")].join(" ")}),cauto:i({},n.zauto,{impliedEdits:{cmin:void 0,cmax:void 0},description:["Has an effect only if `"+a+"color` is set to a numerical array","and `cmin`, `cmax` are set by the user. In this case,","it controls whether the range of colors in `colorscale` is mapped to","the range of values in the `color` array (`cauto: true`), or the `cmin`/`cmax`","values (`cauto: false`).","Defaults to `false` when `cmin`, `cmax` are set by the user."].join(" ")}),cmax:i({},n.zmax,{editType:e||n.zmax.editType,impliedEdits:{cauto:!1},description:["Has an effect only if `"+a+"color` is set to a numerical array.","Sets the upper bound of the color domain.","Value should be associated to the `"+a+"color` array index,","and if set, `"+a+"cmin` must be set as well."].join(" ")}),cmin:i({},n.zmin,{editType:e||n.zmin.editType,impliedEdits:{cauto:!1},description:["Has an effect only if `"+a+"color` is set to a numerical array.","Sets the lower bound of the color domain.","Value should be associated to the `"+a+"color` array index,","and if set, `"+a+"cmax` must be set as well."].join(" ")}),autocolorscale:i({},n.autocolorscale,{description:["Has an effect only if `"+a+"color` is set to a numerical array.","Determines whether the colorscale is a default palette (`autocolorscale: true`)","or the palette determined by `"+a+"colorscale`.","In case `colorscale` is unspecified or `autocolorscale` is true, the default ","palette will be chosen according to whether numbers in the `color` array are","all positive, all negative or mixed."].join(" "),dflt:!1===r?r:n.autocolorscale.dflt}),reversescale:i({},n.reversescale,{description:["Has an effect only if `"+a+"color` is set to a numerical array.","Reverses the color mapping if true (`cmin` will correspond to the last color","in the array and `cmax` will correspond to the first color)."].join(" ")})}}},function(t,e,r){"use strict";t.exports={zauto:{valType:"boolean",role:"info",dflt:!0,editType:"calc",impliedEdits:{zmin:void 0,zmax:void 0},description:["Determines the whether or not the color domain is computed","with respect to the input data."].join(" ")},zmin:{valType:"number",role:"info",dflt:null,editType:"plot",impliedEdits:{zauto:!1},description:"Sets the lower bound of color domain."},zmax:{valType:"number",role:"info",dflt:null,editType:"plot",impliedEdits:{zauto:!1},description:"Sets the upper bound of color domain."},colorscale:{valType:"colorscale",role:"style",editType:"calc",impliedEdits:{autocolorscale:!1},description:["Sets the colorscale.","The colorscale must be an array containing","arrays mapping a normalized value to an","rgb, rgba, hex, hsl, hsv, or named color string.","At minimum, a mapping for the lowest (0) and highest (1)","values are required. For example,","`[[0, 'rgb(0,0,255)', [1, 'rgb(255,0,0)']]`.","To control the bounds of the colorscale in z space,","use zmin and zmax"].join(" ")},autocolorscale:{valType:"boolean",role:"style",dflt:!0,editType:"calc",impliedEdits:{colorscale:void 0},description:["Determines whether or not the colorscale is picked using the sign of","the input z values."].join(" ")},reversescale:{valType:"boolean",role:"style",dflt:!1,editType:"calc",description:"Reverses the colorscale."},showscale:{valType:"boolean",role:"info",dflt:!0,editType:"calc",description:["Determines whether or not a colorbar is displayed for this trace."].join(" ")}}},function(t,e,r){"use strict";e.scales=r(38),e.defaultScale=r(144),e.attributes=r(153),e.handleDefaults=r(68),e.calc=r(99),e.hasColorscale=r(41),e.isValidScale=r(97),e.getScale=r(143),e.flipScale=r(98),e.extractScale=r(320),e.makeColorScaleFunc=r(321)},function(t,e,r){"use strict";var n=r(6),i=r(1),o=r(21).ONEDAY;t.exports=function(t,e,r,a){var s="auto";"array"!==t.tickmode||"log"!==a&&"date"!==a||(t.tickmode="auto"),Array.isArray(t.tickvals)?s="array":t.dtick&&(s="linear");var l=r("tickmode",s);if("auto"===l)r("nticks");else if("linear"===l){var c="date"===a?o:1,u=r("dtick",c);if(n(u))e.dtick=u>0?Number(u):c;else if("string"!=typeof u)e.dtick=c;else{var h=u.charAt(0),f=u.substr(1);((f=n(f)?Number(f):0)<=0||!("date"===a&&"M"===h&&f===Math.round(f)||"log"===a&&"L"===h||"log"===a&&"D"===h&&(1===f||2===f)))&&(e.dtick=c)}var d="date"===a?i.dateTick0(e.calendar):0,p=r("tick0",d);"date"===a?e.tick0=i.cleanDate(p,d):n(p)&&"D1"!==u&&"D2"!==u?e.tick0=Number(p):e.tick0=d}else{void 0===r("tickvals")?e.tickmode="auto":r("ticktext")}}},function(t,e,r){"use strict";var n=r(1),i=r(34);t.exports=function(t,e,r,o){var a=n.coerce2(t,e,i,"ticklen"),s=n.coerce2(t,e,i,"tickwidth"),l=n.coerce2(t,e,i,"tickcolor",e.color);r("ticks",o.outerTicks||a||s||l?"outside":"")||(delete e.ticklen,delete e.tickwidth,delete e.tickcolor)}},function(t,e,r){"use strict";var n=r(1),i=r(34);t.exports=function(t,e,r,o,a){var s=function(t){var e=["showexponent","showtickprefix","showticksuffix"].filter(function(e){return void 0!==t[e]});if(e.every(function(r){return t[r]===t[e[0]]})||1===e.length)return t[e[0]]}(t);if(r("tickprefix")&&r("showtickprefix",s),r("ticksuffix",a.tickSuffixDflt)&&r("showticksuffix",s),r("showticklabels")){var l=a.font||{},c=e.color===t.color?e.color:l.color;if(n.coerceFont(r,"tickfont",{family:l.family,size:l.size,color:c}),r("tickangle"),"category"!==o){var u=r("tickformat");!function(t,e){var r,o,a=t.tickformatstops,s=e.tickformatstops=[];if(!Array.isArray(a))return;function l(t,e){return n.coerce(r,o,i.tickformatstops,t,e)}for(var c=0;c<a.length;c++)r=a[c],o={},l("dtickrange"),l("value"),s.push(o)}(t,e),u||"date"===o||(r("showexponent",s),r("exponentformat"),r("separatethousands"))}}"category"===o||a.noHover||r("hoverformat")}},function(t,e,r){"use strict";var n=r(3),i=r(6),o=r(1),a=o.cleanNumber,s=o.ms2DateTime,l=o.dateTime2ms,c=o.ensureNumber,u=r(21),h=u.FP_SAFE,f=u.BADNUM,d=r(22),p=r(24);function v(t){return Math.pow(10,t)}t.exports=function(t,e){e=e||{};var r=(t._id||"x").charAt(0),u=10;function y(e,r){if(e>0)return Math.log(e)/Math.LN10;if(e<=0&&r&&t.range&&2===t.range.length){var n=t.range[0],i=t.range[1];return.5*(n+i-3*u*Math.abs(n-i))}return f}function g(e,r,n){var o=l(e,n||t.calendar);if(o===f){if(!i(e))return f;o=l(new Date(+e))}return o}function m(e,r,n){return s(e,r,n||t.calendar)}function b(e){return t._categories[Math.round(e)]}function x(e){if(t._categoriesMap){var r=t._categoriesMap[e];if(void 0!==r)return r}if(i(e))return+e}function w(e){return i(e)?n.round(t._b+t._m*e,2):f}function _(e){return(e-t._b)/t._m}t.c2l="log"===t.type?y:c,t.l2c="log"===t.type?v:c,t.l2p=w,t.p2l=_,t.c2p="log"===t.type?function(t,e){return w(y(t,e))}:w,t.p2c="log"===t.type?function(t){return v(_(t))}:_,-1!==["linear","-"].indexOf(t.type)?(t.d2r=t.r2d=t.d2c=t.r2c=t.d2l=t.r2l=a,t.c2d=t.c2r=t.l2d=t.l2r=c,t.d2p=t.r2p=function(e){return t.l2p(a(e))},t.p2d=t.p2r=_,t.cleanPos=c):"log"===t.type?(t.d2r=t.d2l=function(t,e){return y(a(t),e)},t.r2d=t.r2c=function(t){return v(a(t))},t.d2c=t.r2l=a,t.c2d=t.l2r=c,t.c2r=y,t.l2d=v,t.d2p=function(e,r){return t.l2p(t.d2r(e,r))},t.p2d=function(t){return v(_(t))},t.r2p=function(e){return t.l2p(a(e))},t.p2r=_,t.cleanPos=c):"date"===t.type?(t.d2r=t.r2d=o.identity,t.d2c=t.r2c=t.d2l=t.r2l=g,t.c2d=t.c2r=t.l2d=t.l2r=m,t.d2p=t.r2p=function(e,r,n){return t.l2p(g(e,0,n))},t.p2d=t.p2r=function(t,e,r){return m(_(t),e,r)},t.cleanPos=function(e){return o.cleanDate(e,f,t.calendar)}):"category"===t.type&&(t.d2c=t.d2l=function(e){if(null!==e&&void 0!==e){if(void 0===t._categoriesMap&&(t._categoriesMap={}),void 0!==t._categoriesMap[e])return t._categoriesMap[e];t._categories.push(e);var r=t._categories.length-1;return t._categoriesMap[e]=r,r}return f},t.r2d=t.c2d=t.l2d=b,t.d2r=t.d2l_noadd=x,t.r2c=function(e){var r=x(e);return void 0!==r?r:t.fraction2r(.5)},t.l2r=t.c2r=c,t.r2l=x,t.d2p=function(e){return t.l2p(t.r2c(e))},t.p2d=function(t){return b(_(t))},t.r2p=t.d2p,t.p2r=_,t.cleanPos=function(t){return"string"==typeof t&&""!==t?t:c(t)}),t.fraction2r=function(e){var r=t.r2l(t.range[0]),n=t.r2l(t.range[1]);return t.l2r(r+e*(n-r))},t.r2fraction=function(e){var r=t.r2l(t.range[0]),n=t.r2l(t.range[1]);return(t.r2l(e)-r)/(n-r)},t.cleanRange=function(e,n){n||(n={}),e||(e="range");var a,s,l=o.nestedProperty(t,e).get();if(s=(s="date"===t.type?o.dfltRange(t.calendar):"y"===r?d.DFLTRANGEY:n.dfltRange||d.DFLTRANGEX).slice(),l&&2===l.length)for("date"===t.type&&(l[0]=o.cleanDate(l[0],f,t.calendar),l[1]=o.cleanDate(l[1],f,t.calendar)),a=0;a<2;a++)if("date"===t.type){if(!o.isDateTime(l[a],t.calendar)){t[e]=s;break}if(t.r2l(l[0])===t.r2l(l[1])){var c=o.constrain(t.r2l(l[0]),o.MIN_MS+1e3,o.MAX_MS-1e3);l[0]=t.l2r(c-1e3),l[1]=t.l2r(c+1e3);break}}else{if(!i(l[a])){if(!i(l[1-a])){t[e]=s;break}l[a]=l[1-a]*(a?10:.1)}if(l[a]<-h?l[a]=-h:l[a]>h&&(l[a]=h),l[0]===l[1]){var u=Math.max(1,Math.abs(1e-6*l[0]));l[0]-=u,l[1]+=u}}else o.nestedProperty(t,e).set(s)},t.setScale=function(n){var i=e._size;if(t._categories||(t._categories=[]),t._categoriesMap||(t._categoriesMap={}),t.overlaying){var o=p.getFromId({_fullLayout:e},t.overlaying);t.domain=o.domain}var a=n&&t._r?"_r":"range",s=t.calendar;t.cleanRange(a);var l=t.r2l(t[a][0],s),c=t.r2l(t[a][1],s);if("y"===r?(t._offset=i.t+(1-t.domain[1])*i.h,t._length=i.h*(t.domain[1]-t.domain[0]),t._m=t._length/(l-c),t._b=-t._m*c):(t._offset=i.l+t.domain[0]*i.w,t._length=i.w*(t.domain[1]-t.domain[0]),t._m=t._length/(c-l),t._b=-t._m*l),!isFinite(t._m)||!isFinite(t._b))throw e._replotting=!1,new Error("Something went wrong with axis scaling")},t.makeCalcdata=function(e,r){var n,i,o,a="date"===t.type&&e[r+"calendar"];if(r in e)for(n=e[r],i=new Array(n.length),o=0;o<n.length;o++)i[o]=t.d2c(n[o],0,a);else{var s=r+"0"in e?t.d2c(e[r+"0"],0,a):0,l=e["d"+r]?Number(e["d"+r]):1;for(n=e[{x:"y",y:"x"}[r]],i=new Array(n.length),o=0;o<n.length;o++)i[o]=s+o*l}return i},t.isValidRange=function(e){return Array.isArray(e)&&2===e.length&&i(t.r2l(e[0]))&&i(t.r2l(e[1]))},t.isPtWithinRange=function(e,n){var i=t.c2l(e[r],null,n);return i>=t.r2l(t.range[0])&&i<=t.r2l(t.range[1])},t._min=[],t._max=[];var k=e._d3locale;"date"===t.type&&(t._dateFormat=k?k.timeFormat.utc:n.time.format.utc),t._separators=e.separators,t._numFormat=k?k.numberFormat:n.format,delete t._minDtick,delete t._forceTick0}},function(t,e,r){"use strict";var n=r(6),i=r(1),o=r(21).BADNUM;t.exports=function(t,e){return function(t,e){for(var r,o=0,a=0,s=Math.max(1,(t.length-1)/1e3),l=0;l<t.length;l+=s)r=t[Math.round(l)],i.isDateTime(r,e)&&(o+=1),n(r)&&(a+=1);return o>2*a}(t,e)?"date":function(t){for(var e,r=Math.max(1,(t.length-1)/1e3),n=0,a=0,s=0;s<t.length;s+=r)e=t[Math.round(s)],i.cleanNumber(e)!==o?n++:"string"==typeof e&&""!==e&&"None"!==e&&a++;return a>2*n}(t)?"category":function(t){if(!t)return!1;for(var e=0;e<t.length;e++)if(n(t[e]))return!0;return!1}(t)?"linear":"-"}},function(t,e,r){"use strict";e.manage=r(331)},function(t,e,r){"use strict";var n=r(12),i=r(1),o=r(105),a=r(106),s=r(107),l={format:{valType:"enumerated",values:["png","jpeg","webp","svg"],dflt:"png",description:"Sets the format of exported image."},width:{valType:"number",min:1,description:["Sets the exported image width.","Defaults to the value found in `layout.width`"].join(" ")},height:{valType:"number",min:1,description:["Sets the exported image height.","Defaults to the value found in `layout.height`"].join(" ")},scale:{valType:"number",min:0,dflt:1,description:["Sets a scaling for the generated image.","If set, all features of a graphs (e.g. text, line width)","are scaled, unlike simply setting","a bigger *width* and *height*."].join(" ")},setBackground:{valType:"any",dflt:!1,description:["Sets the image background mode.","By default, the image background is determined by `layout.paper_bgcolor`,","the *transparent* mode.","One might consider setting `setBackground` to *opaque*","when exporting a *jpeg* image as JPEGs do not support opacity."].join(" ")},imageDataOnly:{valType:"boolean",dflt:!1,description:["Determines whether or not the return value is prefixed by","the image format's corresponding 'data:image;' spec."].join(" ")}},c=/^data:image\/\w+;base64,/;t.exports=function(t,e){var r,u,h;function f(t){return!(t in e)||i.validate(e[t],l[t])}if(e=e||{},i.isPlainObject(t)?(r=t.data||[],u=t.layout||{},h=t.config||{}):(t=i.getGraphDiv(t),r=i.extendDeep([],t.data),u=i.extendDeep({},t.layout),h=t._context),!f("width")||!f("height"))throw new Error("Height and width should be pixel values.");if(!f("format"))throw new Error("Image format is not jpeg, png, svg or webp.");var d={};function p(t,r){return i.coerce(e,d,l,t,r)}var v=p("format"),y=p("width"),g=p("height"),m=p("scale"),b=p("setBackground"),x=p("imageDataOnly"),w=document.createElement("div");w.style.position="absolute",w.style.left="-5000px",document.body.appendChild(w);var _=i.extendFlat({},u);y&&(_.width=y),g&&(_.height=g);var k=i.extendFlat({},h,{staticPlot:!0,setBackground:b}),T=o.getRedrawFunc(w);function A(){return new Promise(function(t){setTimeout(t,o.getDelay(w._fullLayout))})}function M(){return new Promise(function(t,e){var r=a(w,v,m),o=w._fullLayout.width,l=w._fullLayout.height;if(n.purge(w),document.body.removeChild(w),"svg"===v)return t(x?r:"data:image/svg+xml,"+encodeURIComponent(r));var c=document.createElement("canvas");c.id=i.randstr(),s({format:v,width:o,height:l,scale:m,canvas:c,svg:r,promise:!0}).then(t).catch(e)})}return new Promise(function(t,e){n.plot(w,r,_,k).then(T).then(A).then(M).then(function(e){t(function(t){return x?t.replace(c,""):t}(e))}).catch(function(t){e(t)})})}},function(t,e,r){"use strict";(function(e){var n,i=r(336);n="function"==typeof e.matchMedia?!e.matchMedia("(hover: none)").matches:i,t.exports=n}).call(e,r(51))},function(t,e,r){"use strict";var n=r(1),i=r(63);var o={add:function(t,e,r,n,o){var a,s;t.undoQueue=t.undoQueue||{index:0,queue:[],sequence:!1},s=t.undoQueue.index,t.autoplay?t.undoQueue.inSequence||(t.autoplay=!1):(!t.undoQueue.sequence||t.undoQueue.beginSequence?(a={undo:{calls:[],args:[]},redo:{calls:[],args:[]}},t.undoQueue.queue.splice(s,t.undoQueue.queue.length-s,a),t.undoQueue.index+=1):a=t.undoQueue.queue[s-1],t.undoQueue.beginSequence=!1,a&&(a.undo.calls.unshift(e),a.undo.args.unshift(r),a.redo.calls.push(n),a.redo.args.push(o)),t.undoQueue.queue.length>i.queueLength&&(t.undoQueue.queue.shift(),t.undoQueue.index--))},startSequence:function(t){t.undoQueue=t.undoQueue||{index:0,queue:[],sequence:!1},t.undoQueue.sequence=!0,t.undoQueue.beginSequence=!0},stopSequence:function(t){t.undoQueue=t.undoQueue||{index:0,queue:[],sequence:!1},t.undoQueue.sequence=!1,t.undoQueue.beginSequence=!1},undo:function(t){var e,r;if(t.framework&&t.framework.isPolar)t.framework.undo();else if(!(void 0===t.undoQueue||isNaN(t.undoQueue.index)||t.undoQueue.index<=0)){for(t.undoQueue.index--,e=t.undoQueue.queue[t.undoQueue.index],t.undoQueue.inSequence=!0,r=0;r<e.undo.calls.length;r++)o.plotDo(t,e.undo.calls[r],e.undo.args[r]);t.undoQueue.inSequence=!1,t.autoplay=!1}},redo:function(t){var e,r;if(t.framework&&t.framework.isPolar)t.framework.redo();else if(!(void 0===t.undoQueue||isNaN(t.undoQueue.index)||t.undoQueue.index>=t.undoQueue.queue.length)){for(e=t.undoQueue.queue[t.undoQueue.index],t.undoQueue.inSequence=!0,r=0;r<e.redo.calls.length;r++)o.plotDo(t,e.redo.calls[r],e.redo.args[r]);t.undoQueue.inSequence=!1,t.autoplay=!1,t.undoQueue.index++}}};o.plotDo=function(t,e,r){t.autoplay=!0,r=function(t,e){for(var r,i=[],o=0;o<e.length;o++)r=e[o],i[o]=r===t?r:"object"==typeof r?Array.isArray(r)?n.extendDeep([],r):n.extendDeepAll({},r):r;return i}(t,r),e.apply(null,r)},t.exports=o},function(t,e,r){var n=r(3),i=r(1).extendDeepAll,o=r(25).MID_SHIFT,a=t.exports={version:"0.2.2"};a.Axis=function(){var t,e,r,s,l={data:[],layout:{}},c={},u={},h=n.dispatch("hover"),f={};return f.render=function(c){return function(c){e=c||e;var h=l.data,f=l.layout;("string"==typeof e||e.nodeName)&&(e=n.select(e)),e.datum(h).each(function(e,l){var c=e.slice();u={data:a.util.cloneJson(c),layout:a.util.cloneJson(f)};var h=0;c.forEach(function(t,e){t.color||(t.color=f.defaultColorRange[h],h=(h+1)%f.defaultColorRange.length),t.strokeColor||(t.strokeColor="LinePlot"===t.geometry?t.color:n.rgb(t.color).darker().toString()),u.data[e].color=t.color,u.data[e].strokeColor=t.strokeColor,u.data[e].strokeDash=t.strokeDash,u.data[e].strokeSize=t.strokeSize});var d=c.filter(function(t,e){var r=t.visible;return void 0===r||!0===r}),p=!1,v=d.map(function(t,e){return p=p||void 0!==t.groupId,t});if(p){var y=[],g=n.nest().key(function(t,e){return void 0!==t.groupId?t.groupId:"unstacked"}).entries(v).map(function(t,e){if("unstacked"===t.key)return t.values;var r=t.values[0].r.map(function(t,e){return 0});return t.values.forEach(function(t,e,n){t.yStack=[r],y.push(r),r=a.util.sumArrays(t.r,r)}),t.values});d=n.merge(g)}d.forEach(function(t,e){t.t=Array.isArray(t.t[0])?t.t:[t.t],t.r=Array.isArray(t.r[0])?t.r:[t.r]});var m=Math.min(f.width-f.margin.left-f.margin.right,f.height-f.margin.top-f.margin.bottom)/2;m=Math.max(10,m);var b,x=[f.margin.left+m,f.margin.top+m];b=p?[0,n.max(a.util.sumArrays(a.util.arrayLast(d).r[0],a.util.arrayLast(y)))]:n.extent(a.util.flattenArray(d.map(function(t,e){return t.r}))),f.radialAxis.domain!=a.DATAEXTENT&&(b[0]=0),r=n.scale.linear().domain(f.radialAxis.domain!=a.DATAEXTENT&&f.radialAxis.domain?f.radialAxis.domain:b).range([0,m]),u.layout.radialAxis.domain=r.domain();var w,_=a.util.flattenArray(d.map(function(t,e){return t.t})),k="string"==typeof _[0];k&&(_=a.util.deduplicate(_),w=_.slice(),_=n.range(_.length),d=d.map(function(t,e){var r=t;return t.t=[_],p&&(r.yStack=t.yStack),r}));var T=d.filter(function(t,e){return"LinePlot"===t.geometry||"DotPlot"===t.geometry}).length===d.length,A=null===f.needsEndSpacing?k||!T:f.needsEndSpacing,M=f.angularAxis.domain&&f.angularAxis.domain!=a.DATAEXTENT&&!k&&f.angularAxis.domain[0]>=0?f.angularAxis.domain:n.extent(_),S=Math.abs(_[1]-_[0]);T&&!k&&(S=0);var O=M.slice();A&&k&&(O[1]+=S);var C=f.angularAxis.ticksCount||4;C>8&&(C=C/(C/8)+C%8),f.angularAxis.ticksStep&&(C=(O[1]-O[0])/C);var L=f.angularAxis.ticksStep||(O[1]-O[0])/(C*(f.minorTicks+1));w&&(L=Math.max(Math.round(L),1)),O[2]||(O[2]=L);var j=n.range.apply(this,O);if(j=j.map(function(t,e){return parseFloat(t.toPrecision(12))}),s=n.scale.linear().domain(O.slice(0,2)).range("clockwise"===f.direction?[0,360]:[360,0]),u.layout.angularAxis.domain=s.domain(),u.layout.angularAxis.endPadding=A?S:0,void 0===(t=n.select(this).select("svg.chart-root"))||t.empty()){var I=(new DOMParser).parseFromString("<svg xmlns='http://www.w3.org/2000/svg' class='chart-root'>' + '<g class='outer-group'>' + '<g class='chart-group'>' + '<circle class='background-circle'></circle>' + '<g class='geometry-group'></g>' + '<g class='radial axis-group'>' + '<circle class='outside-circle'></circle>' + '</g>' + '<g class='angular axis-group'></g>' + '<g class='guides-group'><line></line><circle r='0'></circle></g>' + '</g>' + '<g class='legend-group'></g>' + '<g class='tooltips-group'></g>' + '<g class='title-group'><text></text></g>' + '</g>' + '</svg>","application/xml"),P=this.appendChild(this.ownerDocument.importNode(I.documentElement,!0));t=n.select(P)}t.select(".guides-group").style({"pointer-events":"none"}),t.select(".angular.axis-group").style({"pointer-events":"none"}),t.select(".radial.axis-group").style({"pointer-events":"none"});var E,z=t.select(".chart-group"),N={fill:"none",stroke:f.tickColor},D={"font-size":f.font.size,"font-family":f.font.family,fill:f.font.color,"text-shadow":["-1px 0px","1px -1px","-1px 1px","1px 1px"].map(function(t,e){return" "+t+" 0 "+f.font.outlineColor}).join(",")};if(f.showLegend){E=t.select(".legend-group").attr({transform:"translate("+[m,f.margin.top]+")"}).style({display:"block"});var R=d.map(function(t,e){var r=a.util.cloneJson(t);return r.symbol="DotPlot"===t.geometry?t.dotType||"circle":"LinePlot"!=t.geometry?"square":"line",r.visibleInLegend=void 0===t.visibleInLegend||t.visibleInLegend,r.color="LinePlot"===t.geometry?t.strokeColor:t.color,r});a.Legend().config({data:d.map(function(t,e){return t.name||"Element"+e}),legendConfig:i({},a.Legend.defaultConfig().legendConfig,{container:E,elements:R,reverseOrder:f.legend.reverseOrder})})();var F=E.node().getBBox();m=Math.min(f.width-F.width-f.margin.left-f.margin.right,f.height-f.margin.top-f.margin.bottom)/2,m=Math.max(10,m),x=[f.margin.left+m,f.margin.top+m],r.range([0,m]),u.layout.radialAxis.domain=r.domain(),E.attr("transform","translate("+[x[0]+m,x[1]-m]+")")}else E=t.select(".legend-group").style({display:"none"});t.attr({width:f.width,height:f.height}).style({opacity:f.opacity}),z.attr("transform","translate("+x+")").style({cursor:"crosshair"});var B=[(f.width-(f.margin.left+f.margin.right+2*m+(F?F.width:0)))/2,(f.height-(f.margin.top+f.margin.bottom+2*m))/2];if(B[0]=Math.max(0,B[0]),B[1]=Math.max(0,B[1]),t.select(".outer-group").attr("transform","translate("+B+")"),f.title){var V=t.select("g.title-group text").style(D).text(f.title),q=V.node().getBBox();V.attr({x:x[0]-q.width/2,y:x[1]-m-20})}var H=t.select(".radial.axis-group");if(f.radialAxis.gridLinesVisible){var U=H.selectAll("circle.grid-circle").data(r.ticks(5));U.enter().append("circle").attr({class:"grid-circle"}).style(N),U.attr("r",r),U.exit().remove()}H.select("circle.outside-circle").attr({r:m}).style(N);var W=t.select("circle.background-circle").attr({r:m}).style({fill:f.backgroundColor,stroke:f.stroke});function G(t,e){return s(t)%360+f.orientation}if(f.radialAxis.visible){var Y=n.svg.axis().scale(r).ticks(5).tickSize(5);H.call(Y).attr({transform:"rotate("+f.radialAxis.orientation+")"}),H.selectAll(".domain").style(N),H.selectAll("g>text").text(function(t,e){return this.textContent+f.radialAxis.ticksSuffix}).style(D).style({"text-anchor":"start"}).attr({x:0,y:0,dx:0,dy:0,transform:function(t,e){return"horizontal"===f.radialAxis.tickOrientation?"rotate("+-f.radialAxis.orientation+") translate("+[0,D["font-size"]]+")":"translate("+[0,D["font-size"]]+")"}}),H.selectAll("g>line").style({stroke:"black"})}var X=t.select(".angular.axis-group").selectAll("g.angular-tick").data(j),Z=X.enter().append("g").classed("angular-tick",!0);X.attr({transform:function(t,e){return"rotate("+G(t)+")"}}).style({display:f.angularAxis.visible?"block":"none"}),X.exit().remove(),Z.append("line").classed("grid-line",!0).classed("major",function(t,e){return e%(f.minorTicks+1)==0}).classed("minor",function(t,e){return!(e%(f.minorTicks+1)==0)}).style(N),Z.selectAll(".minor").style({stroke:f.minorTickColor}),X.select("line.grid-line").attr({x1:f.tickLength?m-f.tickLength:0,x2:m}).style({display:f.angularAxis.gridLinesVisible?"block":"none"}),Z.append("text").classed("axis-text",!0).style(D);var J=X.select("text.axis-text").attr({x:m+f.labelOffset,dy:o+"em",transform:function(t,e){var r=G(t),n=m+f.labelOffset,i=f.angularAxis.tickOrientation;return"horizontal"==i?"rotate("+-r+" "+n+" 0)":"radial"==i?r<270&&r>90?"rotate(180 "+n+" 0)":null:"rotate("+(r<=180&&r>0?-90:90)+" "+n+" 0)"}}).style({"text-anchor":"middle",display:f.angularAxis.labelsVisible?"block":"none"}).text(function(t,e){return e%(f.minorTicks+1)!=0?"":w?w[t]+f.angularAxis.ticksSuffix:t+f.angularAxis.ticksSuffix}).style(D);f.angularAxis.rewriteTicks&&J.text(function(t,e){return e%(f.minorTicks+1)!=0?"":f.angularAxis.rewriteTicks(this.textContent,e)});var $=n.max(z.selectAll(".angular-tick text")[0].map(function(t,e){return t.getCTM().e+t.getBBox().width}));E.attr({transform:"translate("+[m+$,f.margin.top]+")"});var Q=t.select("g.geometry-group").selectAll("g").size()>0,K=t.select("g.geometry-group").selectAll("g.geometry").data(d);if(K.enter().append("g").attr({class:function(t,e){return"geometry geometry"+e}}),K.exit().remove(),d[0]||Q){var tt=[];d.forEach(function(t,e){var n={};n.radialScale=r,n.angularScale=s,n.container=K.filter(function(t,r){return r==e}),n.geometry=t.geometry,n.orientation=f.orientation,n.direction=f.direction,n.index=e,tt.push({data:t,geometryConfig:n})});var et=[];n.nest().key(function(t,e){return void 0!==t.data.groupId||"unstacked"}).entries(tt).forEach(function(t,e){"unstacked"===t.key?et=et.concat(t.values.map(function(t,e){return[t]})):et.push(t.values)}),et.forEach(function(t,e){var r;r=Array.isArray(t)?t[0].geometryConfig.geometry:t.geometryConfig.geometry;var n=t.map(function(t,e){return i(a[r].defaultConfig(),t)});a[r]().config(n)()})}var rt,nt,it=t.select(".guides-group"),ot=t.select(".tooltips-group"),at=a.tooltipPanel().config({container:ot,fontSize:8})(),st=a.tooltipPanel().config({container:ot,fontSize:8})(),lt=a.tooltipPanel().config({container:ot,hasTick:!0})();if(!k){var ct=it.select("line").attr({x1:0,y1:0,y2:0}).style({stroke:"grey","pointer-events":"none"});z.on("mousemove.angular-guide",function(t,e){var r=a.util.getMousePos(W).angle;ct.attr({x2:-m,transform:"rotate("+r+")"}).style({opacity:.5});var n=(r+180+360-f.orientation)%360;rt=s.invert(n);var i=a.util.convertToCartesian(m+12,r+180);at.text(a.util.round(rt)).move([i[0]+x[0],i[1]+x[1]])}).on("mouseout.angular-guide",function(t,e){it.select("line").style({opacity:0})})}var ut=it.select("circle").style({stroke:"grey",fill:"none"});z.on("mousemove.radial-guide",function(t,e){var n=a.util.getMousePos(W).radius;ut.attr({r:n}).style({opacity:.5}),nt=r.invert(a.util.getMousePos(W).radius);var i=a.util.convertToCartesian(n,f.radialAxis.orientation);st.text(a.util.round(nt)).move([i[0]+x[0],i[1]+x[1]])}).on("mouseout.radial-guide",function(t,e){ut.style({opacity:0}),lt.hide(),at.hide(),st.hide()}),t.selectAll(".geometry-group .mark").on("mouseover.tooltip",function(e,r){var i=n.select(this),o=this.style.fill,s="black",l=this.style.opacity||1;if(i.attr({"data-opacity":l}),o&&"none"!==o){i.attr({"data-fill":o}),s=n.hsl(o).darker().toString(),i.style({fill:s,opacity:1});var c={t:a.util.round(e[0]),r:a.util.round(e[1])};k&&(c.t=w[e[0]]);var u="t: "+c.t+", r: "+c.r,h=this.getBoundingClientRect(),f=t.node().getBoundingClientRect(),d=[h.left+h.width/2-B[0]-f.left,h.top+h.height/2-B[1]-f.top];lt.config({color:s}).text(u),lt.move(d)}else o=this.style.stroke||"black",i.attr({"data-stroke":o}),s=n.hsl(o).darker().toString(),i.style({stroke:s,opacity:1})}).on("mousemove.tooltip",function(t,e){if(0!=n.event.which)return!1;n.select(this).attr("data-fill")&&lt.show()}).on("mouseout.tooltip",function(t,e){lt.hide();var r=n.select(this),i=r.attr("data-fill");i?r.style({fill:i,opacity:r.attr("data-opacity")}):r.style({stroke:r.attr("data-stroke"),opacity:r.attr("data-opacity")})})})}(c),this},f.config=function(t){if(!arguments.length)return l;var e=a.util.cloneJson(t);return e.data.forEach(function(t,e){l.data[e]||(l.data[e]={}),i(l.data[e],a.Axis.defaultConfig().data[0]),i(l.data[e],t)}),i(l.layout,a.Axis.defaultConfig().layout),i(l.layout,e.layout),this},f.getLiveConfig=function(){return u},f.getinputConfig=function(){return c},f.radialScale=function(t){return r},f.angularScale=function(t){return s},f.svg=function(){return t},n.rebind(f,h,"on"),f},a.Axis.defaultConfig=function(t,e){return{data:[{t:[1,2,3,4],r:[10,11,12,13],name:"Line1",geometry:"LinePlot",color:null,strokeDash:"solid",strokeColor:null,strokeSize:"1",visibleInLegend:!0,opacity:1}],layout:{defaultColorRange:n.scale.category10().range(),title:null,height:450,width:500,margin:{top:40,right:40,bottom:40,left:40},font:{size:12,color:"gray",outlineColor:"white",family:"Tahoma, sans-serif"},direction:"clockwise",orientation:0,labelOffset:10,radialAxis:{domain:null,orientation:-45,ticksSuffix:"",visible:!0,gridLinesVisible:!0,tickOrientation:"horizontal",rewriteTicks:null},angularAxis:{domain:[0,360],ticksSuffix:"",visible:!0,gridLinesVisible:!0,labelsVisible:!0,tickOrientation:"horizontal",rewriteTicks:null,ticksCount:null,ticksStep:null},minorTicks:0,tickLength:null,tickColor:"silver",minorTickColor:"#eee",backgroundColor:"none",needsEndSpacing:null,showLegend:!0,legend:{reverseOrder:!1},opacity:1}}},a.util={},a.DATAEXTENT="dataExtent",a.AREA="AreaChart",a.LINE="LinePlot",a.DOT="DotPlot",a.BAR="BarChart",a.util._override=function(t,e){for(var r in t)r in e&&(e[r]=t[r])},a.util._extend=function(t,e){for(var r in t)e[r]=t[r]},a.util._rndSnd=function(){return 2*Math.random()-1+(2*Math.random()-1)+(2*Math.random()-1)},a.util.dataFromEquation2=function(t,e){var r=e||6;return n.range(0,360+r,r).map(function(e,r){var n=e*Math.PI/180;return[e,t(n)]})},a.util.dataFromEquation=function(t,e,r){var i=e||6,o=[],a=[];n.range(0,360+i,i).forEach(function(e,r){var n=e*Math.PI/180,i=t(n);o.push(e),a.push(i)});var s={t:o,r:a};return r&&(s.name=r),s},a.util.ensureArray=function(t,e){if(void 0===t)return null;var r=[].concat(t);return n.range(e).map(function(t,e){return r[e]||r[0]})},a.util.fillArrays=function(t,e,r){return e.forEach(function(e,n){t[e]=a.util.ensureArray(t[e],r)}),t},a.util.cloneJson=function(t){return JSON.parse(JSON.stringify(t))},a.util.validateKeys=function(t,e){"string"==typeof e&&(e=e.split("."));var r=e.shift();return t[r]&&(!e.length||objHasKeys(t[r],e))},a.util.sumArrays=function(t,e){return n.zip(t,e).map(function(t,e){return n.sum(t)})},a.util.arrayLast=function(t){return t[t.length-1]},a.util.arrayEqual=function(t,e){for(var r=Math.max(t.length,e.length,1);r-- >=0&&t[r]===e[r];);return-2===r},a.util.flattenArray=function(t){for(var e=[];!a.util.arrayEqual(e,t);)e=t,t=[].concat.apply([],t);return t},a.util.deduplicate=function(t){return t.filter(function(t,e,r){return r.indexOf(t)==e})},a.util.convertToCartesian=function(t,e){var r=e*Math.PI/180;return[t*Math.cos(r),t*Math.sin(r)]},a.util.round=function(t,e){var r=e||2,n=Math.pow(10,r);return Math.round(t*n)/n},a.util.getMousePos=function(t){var e=n.mouse(t.node()),r=e[0],i=e[1],o={};return o.x=r,o.y=i,o.pos=e,o.angle=180*(Math.atan2(i,r)+Math.PI)/Math.PI,o.radius=Math.sqrt(r*r+i*i),o},a.util.duplicatesCount=function(t){for(var e,r={},n={},i=0,o=t.length;i<o;i++)(e=t[i])in r?(r[e]++,n[e]=r[e]):r[e]=1;return n},a.util.duplicates=function(t){return Object.keys(a.util.duplicatesCount(t))},a.util.translator=function(t,e,r,n){if(n){var i=r.slice();r=e,e=i}var o=e.reduce(function(t,e){if(void 0!==t)return t[e]},t);void 0!==o&&(e.reduce(function(t,r,n){if(void 0!==t)return n===e.length-1&&delete t[r],t[r]},t),r.reduce(function(t,e,n){return void 0===t[e]&&(t[e]={}),n===r.length-1&&(t[e]=o),t[e]},t))},a.PolyChart=function(){var t=[a.PolyChart.defaultConfig()],e=n.dispatch("hover"),r={solid:"none",dash:[5,2],dot:[2,5]};function o(){var e=t[0].geometryConfig,i=e.container;"string"==typeof i&&(i=n.select(i)),i.datum(t).each(function(t,i){var o=!!t[0].data.yStack,a=t.map(function(t,e){return o?n.zip(t.data.t[0],t.data.r[0],t.data.yStack[0]):n.zip(t.data.t[0],t.data.r[0])}),s=e.angularScale,l=e.radialScale.domain()[0],c={bar:function(r,i,o){var a=t[o].data,l=e.radialScale(r[1])-e.radialScale(0),c=e.radialScale(r[2]||0),u=a.barWidth;n.select(this).attr({class:"mark bar",d:"M"+[[l+c,-u/2],[l+c,u/2],[c,u/2],[c,-u/2]].join("L")+"Z",transform:function(t,r){return"rotate("+(e.orientation+s(t[0]))+")"}})}};c.dot=function(r,i,o){var a=r[2]?[r[0],r[1]+r[2]]:r,s=n.svg.symbol().size(t[o].data.dotSize).type(t[o].data.dotType)(r,i);n.select(this).attr({class:"mark dot",d:s,transform:function(t,r){var n,i,o,s=(n=function(t,r){var n=e.radialScale(t[1]),i=(e.angularScale(t[0])+e.orientation)*Math.PI/180;return{r:n,t:i}}(a),i=n.r*Math.cos(n.t),o=n.r*Math.sin(n.t),{x:i,y:o});return"translate("+[s.x,s.y]+")"}})};var u=n.svg.line.radial().interpolate(t[0].data.lineInterpolation).radius(function(t){return e.radialScale(t[1])}).angle(function(t){return e.angularScale(t[0])*Math.PI/180});c.line=function(r,i,o){var s=r[2]?a[o].map(function(t,e){return[t[0],t[1]+t[2]]}):a[o];if(n.select(this).each(c.dot).style({opacity:function(e,r){return+t[o].data.dotVisible},fill:p.stroke(r,i,o)}).attr({class:"mark dot"}),!(i>0)){var l=n.select(this.parentNode).selectAll("path.line").data([0]);l.enter().insert("path"),l.attr({class:"line",d:u(s),transform:function(t,r){return"rotate("+(e.orientation+90)+")"},"pointer-events":"none"}).style({fill:function(t,e){return p.fill(r,i,o)},"fill-opacity":0,stroke:function(t,e){return p.stroke(r,i,o)},"stroke-width":function(t,e){return p["stroke-width"](r,i,o)},"stroke-dasharray":function(t,e){return p["stroke-dasharray"](r,i,o)},opacity:function(t,e){return p.opacity(r,i,o)},display:function(t,e){return p.display(r,i,o)}})}};var h=e.angularScale.range(),f=Math.abs(h[1]-h[0])/a[0].length*Math.PI/180,d=n.svg.arc().startAngle(function(t){return-f/2}).endAngle(function(t){return f/2}).innerRadius(function(t){return e.radialScale(l+(t[2]||0))}).outerRadius(function(t){return e.radialScale(l+(t[2]||0))+e.radialScale(t[1])});c.arc=function(t,r,i){n.select(this).attr({class:"mark arc",d:d,transform:function(t,r){return"rotate("+(e.orientation+s(t[0])+90)+")"}})};var p={fill:function(e,r,n){return t[n].data.color},stroke:function(e,r,n){return t[n].data.strokeColor},"stroke-width":function(e,r,n){return t[n].data.strokeSize+"px"},"stroke-dasharray":function(e,n,i){return r[t[i].data.strokeDash]},opacity:function(e,r,n){return t[n].data.opacity},display:function(e,r,n){return void 0===t[n].data.visible||t[n].data.visible?"block":"none"}},v=n.select(this).selectAll("g.layer").data(a);v.enter().append("g").attr({class:"layer"});var y=v.selectAll("path.mark").data(function(t,e){return t});y.enter().append("path").attr({class:"mark"}),y.style(p).each(c[e.geometryType]),y.exit().remove(),v.exit().remove()})}return o.config=function(e){return arguments.length?(e.forEach(function(e,r){t[r]||(t[r]={}),i(t[r],a.PolyChart.defaultConfig()),i(t[r],e)}),this):t},o.getColorScale=function(){},n.rebind(o,e,"on"),o},a.PolyChart.defaultConfig=function(){return{data:{name:"geom1",t:[[1,2,3,4]],r:[[1,2,3,4]],dotType:"circle",dotSize:64,dotVisible:!1,barWidth:20,color:"#ffa500",strokeSize:1,strokeColor:"silver",strokeDash:"solid",opacity:1,index:0,visible:!0,visibleInLegend:!0},geometryConfig:{geometry:"LinePlot",geometryType:"arc",direction:"clockwise",orientation:0,container:"body",radialScale:null,angularScale:null,colorScale:n.scale.category20()}}},a.BarChart=function(){return a.PolyChart()},a.BarChart.defaultConfig=function(){return{geometryConfig:{geometryType:"bar"}}},a.AreaChart=function(){return a.PolyChart()},a.AreaChart.defaultConfig=function(){return{geometryConfig:{geometryType:"arc"}}},a.DotPlot=function(){return a.PolyChart()},a.DotPlot.defaultConfig=function(){return{geometryConfig:{geometryType:"dot",dotType:"circle"}}},a.LinePlot=function(){return a.PolyChart()},a.LinePlot.defaultConfig=function(){return{geometryConfig:{geometryType:"line"}}},a.Legend=function(){var t=a.Legend.defaultConfig(),e=n.dispatch("hover");function r(){var e=t.legendConfig,o=t.data.map(function(t,r){return[].concat(t).map(function(t,n){var o=i({},e.elements[r]);return o.name=t,o.color=[].concat(e.elements[r].color)[n],o})}),a=n.merge(o);a=a.filter(function(t,r){return e.elements[r]&&(e.elements[r].visibleInLegend||void 0===e.elements[r].visibleInLegend)}),e.reverseOrder&&(a=a.reverse());var s=e.container;("string"==typeof s||s.nodeName)&&(s=n.select(s));var l=a.map(function(t,e){return t.color}),c=e.fontSize,u=null==e.isContinuous?"number"==typeof a[0]:e.isContinuous,h=u?e.height:c*a.length,f=s.classed("legend-group",!0).selectAll("svg").data([0]),d=f.enter().append("svg").attr({width:300,height:h+c,xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",version:"1.1"});d.append("g").classed("legend-axis",!0),d.append("g").classed("legend-marks",!0);var p=n.range(a.length),v=n.scale[u?"linear":"ordinal"]().domain(p).range(l),y=n.scale[u?"linear":"ordinal"]().domain(p)[u?"range":"rangePoints"]([0,h]);if(u){var g=f.select(".legend-marks").append("defs").append("linearGradient").attr({id:"grad1",x1:"0%",y1:"0%",x2:"0%",y2:"100%"}).selectAll("stop").data(l);g.enter().append("stop"),g.attr({offset:function(t,e){return e/(l.length-1)*100+"%"}}).style({"stop-color":function(t,e){return t}}),f.append("rect").classed("legend-mark",!0).attr({height:e.height,width:e.colorBandWidth,fill:"url(#grad1)"})}else{var m=f.select(".legend-marks").selectAll("path.legend-mark").data(a);m.enter().append("path").classed("legend-mark",!0),m.attr({transform:function(t,e){return"translate("+[c/2,y(e)+c/2]+")"},d:function(t,e){var r,i,o,a=t.symbol;return o=3*(i=c),"line"===(r=a)?"M"+[[-i/2,-i/12],[i/2,-i/12],[i/2,i/12],[-i/2,i/12]]+"Z":-1!=n.svg.symbolTypes.indexOf(r)?n.svg.symbol().type(r).size(o)():n.svg.symbol().type("square").size(o)()},fill:function(t,e){return v(e)}}),m.exit().remove()}var b=n.svg.axis().scale(y).orient("right"),x=f.select("g.legend-axis").attr({transform:"translate("+[u?e.colorBandWidth:c,c/2]+")"}).call(b);return x.selectAll(".domain").style({fill:"none",stroke:"none"}),x.selectAll("line").style({fill:"none",stroke:u?e.textColor:"none"}),x.selectAll("text").style({fill:e.textColor,"font-size":e.fontSize}).text(function(t,e){return a[e].name}),r}return r.config=function(e){return arguments.length?(i(t,e),this):t},n.rebind(r,e,"on"),r},a.Legend.defaultConfig=function(t,e){return{data:["a","b","c"],legendConfig:{elements:[{symbol:"line",color:"red"},{symbol:"square",color:"yellow"},{symbol:"diamond",color:"limegreen"}],height:150,colorBandWidth:30,fontSize:12,container:"body",isContinuous:null,textColor:"grey",reverseOrder:!1}}},a.tooltipPanel=function(){var t,e,r,o={container:null,hasTick:!1,fontSize:12,color:"white",padding:5},s="tooltip-"+a.tooltipPanel.uid++,l=10,c=function(){var n=(t=o.container.selectAll("g."+s).data([0])).enter().append("g").classed(s,!0).style({"pointer-events":"none",display:"none"});return r=n.append("path").style({fill:"white","fill-opacity":.9}).attr({d:"M0 0"}),e=n.append("text").attr({dx:o.padding+l,dy:.3*+o.fontSize}),c};return c.text=function(i){var a=n.hsl(o.color).l,s=a>=.5?"#aaa":"white",u=a>=.5?"black":"white",h=i||"";e.style({fill:u,"font-size":o.fontSize+"px"}).text(h);var f=o.padding,d=e.node().getBBox(),p={fill:o.color,stroke:s,"stroke-width":"2px"},v=d.width+2*f+l,y=d.height+2*f;return r.attr({d:"M"+[[l,-y/2],[l,-y/4],[o.hasTick?0:l,0],[l,y/4],[l,y/2],[v,y/2],[v,-y/2]].join("L")+"Z"}).style(p),t.attr({transform:"translate("+[l,-y/2+2*f]+")"}),t.style({display:"block"}),c},c.move=function(e){if(t)return t.attr({transform:"translate("+[e[0],e[1]]+")"}).style({display:"block"}),c},c.hide=function(){if(t)return t.style({display:"none"}),c},c.show=function(){if(t)return t.style({display:"block"}),c},c.config=function(t){return i(o,t),c},c},a.tooltipPanel.uid=1,a.adapter={},a.adapter.plotly=function(){var t={convert:function(t,e){var r={};if(t.data&&(r.data=t.data.map(function(t,r){var n=i({},t);return[[n,["marker","color"],["color"]],[n,["marker","opacity"],["opacity"]],[n,["marker","line","color"],["strokeColor"]],[n,["marker","line","dash"],["strokeDash"]],[n,["marker","line","width"],["strokeSize"]],[n,["marker","symbol"],["dotType"]],[n,["marker","size"],["dotSize"]],[n,["marker","barWidth"],["barWidth"]],[n,["line","interpolation"],["lineInterpolation"]],[n,["showlegend"],["visibleInLegend"]]].forEach(function(t,r){a.util.translator.apply(null,t.concat(e))}),e||delete n.marker,e&&delete n.groupId,e?("LinePlot"===n.geometry?(n.type="scatter",!0===n.dotVisible?(delete n.dotVisible,n.mode="lines+markers"):n.mode="lines"):"DotPlot"===n.geometry?(n.type="scatter",n.mode="markers"):"AreaChart"===n.geometry?n.type="area":"BarChart"===n.geometry&&(n.type="bar"),delete n.geometry):("scatter"===n.type?"lines"===n.mode?n.geometry="LinePlot":"markers"===n.mode?n.geometry="DotPlot":"lines+markers"===n.mode&&(n.geometry="LinePlot",n.dotVisible=!0):"area"===n.type?n.geometry="AreaChart":"bar"===n.type&&(n.geometry="BarChart"),delete n.mode,delete n.type),n}),!e&&t.layout&&"stack"===t.layout.barmode)){var o=a.util.duplicates(r.data.map(function(t,e){return t.geometry}));r.data.forEach(function(t,e){var n=o.indexOf(t.geometry);-1!=n&&(r.data[e].groupId=n)})}if(t.layout){var s=i({},t.layout);if([[s,["plot_bgcolor"],["backgroundColor"]],[s,["showlegend"],["showLegend"]],[s,["radialaxis"],["radialAxis"]],[s,["angularaxis"],["angularAxis"]],[s.angularaxis,["showline"],["gridLinesVisible"]],[s.angularaxis,["showticklabels"],["labelsVisible"]],[s.angularaxis,["nticks"],["ticksCount"]],[s.angularaxis,["tickorientation"],["tickOrientation"]],[s.angularaxis,["ticksuffix"],["ticksSuffix"]],[s.angularaxis,["range"],["domain"]],[s.angularaxis,["endpadding"],["endPadding"]],[s.radialaxis,["showline"],["gridLinesVisible"]],[s.radialaxis,["tickorientation"],["tickOrientation"]],[s.radialaxis,["ticksuffix"],["ticksSuffix"]],[s.radialaxis,["range"],["domain"]],[s.angularAxis,["showline"],["gridLinesVisible"]],[s.angularAxis,["showticklabels"],["labelsVisible"]],[s.angularAxis,["nticks"],["ticksCount"]],[s.angularAxis,["tickorientation"],["tickOrientation"]],[s.angularAxis,["ticksuffix"],["ticksSuffix"]],[s.angularAxis,["range"],["domain"]],[s.angularAxis,["endpadding"],["endPadding"]],[s.radialAxis,["showline"],["gridLinesVisible"]],[s.radialAxis,["tickorientation"],["tickOrientation"]],[s.radialAxis,["ticksuffix"],["ticksSuffix"]],[s.radialAxis,["range"],["domain"]],[s.font,["outlinecolor"],["outlineColor"]],[s.legend,["traceorder"],["reverseOrder"]],[s,["labeloffset"],["labelOffset"]],[s,["defaultcolorrange"],["defaultColorRange"]]].forEach(function(t,r){a.util.translator.apply(null,t.concat(e))}),e?(void 0!==s.tickLength&&(s.angularaxis.ticklen=s.tickLength,delete s.tickLength),s.tickColor&&(s.angularaxis.tickcolor=s.tickColor,delete s.tickColor)):(s.angularAxis&&void 0!==s.angularAxis.ticklen&&(s.tickLength=s.angularAxis.ticklen),s.angularAxis&&void 0!==s.angularAxis.tickcolor&&(s.tickColor=s.angularAxis.tickcolor)),s.legend&&"boolean"!=typeof s.legend.reverseOrder&&(s.legend.reverseOrder="normal"!=s.legend.reverseOrder),s.legend&&"boolean"==typeof s.legend.traceorder&&(s.legend.traceorder=s.legend.traceorder?"reversed":"normal",delete s.legend.reverseOrder),s.margin&&void 0!==s.margin.t){var l=["t","r","b","l","pad"],c=["top","right","bottom","left","pad"],u={};n.entries(s.margin).forEach(function(t,e){u[c[l.indexOf(t.key)]]=t.value}),s.margin=u}e&&(delete s.needsEndSpacing,delete s.minorTickColor,delete s.minorTicks,delete s.angularaxis.ticksCount,delete s.angularaxis.ticksCount,delete s.angularaxis.ticksStep,delete s.angularaxis.rewriteTicks,delete s.angularaxis.nticks,delete s.radialaxis.ticksCount,delete s.radialaxis.ticksCount,delete s.radialaxis.ticksStep,delete s.radialaxis.rewriteTicks,delete s.radialaxis.nticks),r.layout=s}return r}};return t}},function(t,e,r){"use strict";var n=r(32),i=r(33),o=r(22),a=r(350).makeDragBox;t.exports=function(t){var e=t._fullLayout;if((e._has("cartesian")||e._has("gl2d"))&&!t._context.staticPlot){Object.keys(e._plots||{}).sort(function(t,r){if((e._plots[t].mainplot&&!0)===(e._plots[r].mainplot&&!0)){var n=t.split("y"),i=r.split("y");return n[0]===i[0]?Number(n[1]||1)-Number(i[1]||1):Number(n[0]||1)-Number(i[0]||1)}return e._plots[t].mainplot?1:-1}).forEach(function(r){var s=e._plots[r],l=s.xaxis,c=s.yaxis,u=o.DRAGGERSIZE;if(!s.mainplot){var h=a(t,s,l._offset,c._offset,l._length,c._length,"ns","ew");h.onmousemove=function(e){t._fullLayout._rehover=function(){t._fullLayout._hoversubplot===r&&n.hover(t,e,r)},n.hover(t,e,r),t._fullLayout._lasthover=h,t._fullLayout._hoversubplot=r},h.onmouseout=function(e){t._dragging||(t._fullLayout._hoversubplot=null,i.unhover(t,e))},t._context.showAxisDragHandles&&(a(t,s,l._offset-u,c._offset-u,u,u,"n","w"),a(t,s,l._offset+l._length,c._offset-u,u,u,"n","e"),a(t,s,l._offset-u,c._offset+c._length,u,u,"s","w"),a(t,s,l._offset+l._length,c._offset+c._length,u,u,"s","e"))}if(t._context.showAxisDragHandles){if(r===l._mainSubplot){var f=l._mainLinePosition;"top"===l.side&&(f-=u),a(t,s,l._offset+.1*l._length,f,.8*l._length,u,"","ew"),a(t,s,l._offset,f,.1*l._length,u,"","w"),a(t,s,l._offset+.9*l._length,f,.1*l._length,u,"","e")}if(r===c._mainSubplot){var d=c._mainLinePosition;"right"!==c.side&&(d-=u),a(t,s,d,c._offset+.1*c._length,u,.8*c._length,"ns",""),a(t,s,d,c._offset+.9*c._length,u,.1*c._length,"s",""),a(t,s,d,c._offset,u,.1*c._length,"n","")}}});var r=e._hoverlayer.node();r.onmousemove=function(r){r.target=e._lasthover,n.hover(t,r,e._hoversubplot)},r.onclick=function(r){r.target=e._lasthover,n.click(t,r)},r.onmousedown=function(t){e._lasthover.onmousedown(t)}}}},function(t,e,r){"use strict";var n=r(1);t.exports=function(t,e,r,i){r("hoverlabel.bgcolor",(i=i||{}).bgcolor),r("hoverlabel.bordercolor",i.bordercolor),r("hoverlabel.namelength",i.namelength),n.coerceFont(r,"hoverlabel.font",i.font)}},function(t,e,r){"use strict";var n=r(149).dot,i=r(21).BADNUM,o=t.exports={};o.tester=function(t){if(Array.isArray(t[0][0]))return o.multitester(t);var e,r=t.slice(),n=r[0][0],a=n,s=r[0][1],l=s;for(r.push(r[0]),e=1;e<r.length;e++)n=Math.min(n,r[e][0]),a=Math.max(a,r[e][0]),s=Math.min(s,r[e][1]),l=Math.max(l,r[e][1]);var c,u=!1;5===r.length&&(r[0][0]===r[1][0]?r[2][0]===r[3][0]&&r[0][1]===r[3][1]&&r[1][1]===r[2][1]&&(u=!0,c=function(t){return t[0]===r[0][0]}):r[0][1]===r[1][1]&&r[2][1]===r[3][1]&&r[0][0]===r[3][0]&&r[1][0]===r[2][0]&&(u=!0,c=function(t){return t[1]===r[0][1]}));var h=!0,f=r[0];for(e=1;e<r.length;e++)if(f[0]!==r[e][0]||f[1]!==r[e][1]){h=!1;break}return{xmin:n,xmax:a,ymin:s,ymax:l,pts:r,contains:u?function(t,e){var r=t[0],o=t[1];return!(r===i||r<n||r>a||o===i||o<s||o>l||e&&c(t))}:function(t,e){var o=t[0],c=t[1];if(o===i||o<n||o>a||c===i||c<s||c>l)return!1;var u,h,f,d,p,v=r.length,y=r[0][0],g=r[0][1],m=0;for(u=1;u<v;u++)if(h=y,f=g,y=r[u][0],g=r[u][1],!(o<(d=Math.min(h,y))||o>Math.max(h,y)||c>Math.max(f,g)))if(c<Math.min(f,g))o!==d&&m++;else{if(c===(p=y===h?c:f+(o-h)*(g-f)/(y-h)))return 1!==u||!e;c<=p&&o!==d&&m++}return m%2==1},isRect:u,degenerate:h}},o.multitester=function(t){for(var e=[],r=t[0][0][0],n=r,i=t[0][0][1],a=i,s=0;s<t.length;s++){var l=o.tester(t[s]);l.subtract=t[s].subtract,e.push(l),r=Math.min(r,l.xmin),n=Math.max(n,l.xmax),i=Math.min(i,l.ymin),a=Math.max(a,l.ymax)}return{xmin:r,xmax:n,ymin:i,ymax:a,pts:[],contains:function(t,r){for(var n=!1,i=0;i<e.length;i++)e[i].contains(t,r)&&(n=!1===e[i].subtract);return n},isRect:!1,degenerate:!1}};var a=o.isSegmentBent=function(t,e,r,i){var o,a,s,l=t[e],c=[t[r][0]-l[0],t[r][1]-l[1]],u=n(c,c),h=Math.sqrt(u),f=[-c[1]/h,c[0]/h];for(o=e+1;o<r;o++)if(a=[t[o][0]-l[0],t[o][1]-l[1]],(s=n(a,c))<0||s>u||Math.abs(n(a,f))>i)return!0;return!1};o.filter=function(t,e){var r=[t[0]],n=0,i=0;function o(o){t.push(o);var s=r.length,l=n;r.splice(i+1);for(var c=l+1;c<t.length;c++)(c===t.length-1||a(t,l,c+1,e))&&(r.push(t[c]),r.length<s-2&&(n=c,i=r.length-1),l=c)}t.length>1&&o(t.pop());return{addPt:o,raw:t,filtered:r}}},function(t,e,r){"use strict";var n=r(25).FROM_BL;t.exports=function(t,e,r){void 0===r&&(r=n[t.constraintoward||"center"]);var i=[t.r2l(t.range[0]),t.r2l(t.range[1])],o=i[0]+(i[1]-i[0])*r;t.range=t._input.range=[t.l2r(o+(i[0]-o)*e),t.l2r(o+(i[1]-o)*e)]}},function(t,e){var r,n,i=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(t){if(r===setTimeout)return setTimeout(t,0);if((r===o||!r)&&setTimeout)return r=setTimeout,setTimeout(t,0);try{return r(t,0)}catch(e){try{return r.call(null,t,0)}catch(e){return r.call(this,t,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:o}catch(t){r=o}try{n="function"==typeof clearTimeout?clearTimeout:a}catch(t){n=a}}();var l,c=[],u=!1,h=-1;function f(){u&&l&&(u=!1,l.length?c=l.concat(c):h=-1,c.length&&d())}function d(){if(!u){var t=s(f);u=!0;for(var e=c.length;e;){for(l=c,c=[];++h<e;)l&&l[h].run();h=-1,e=c.length}l=null,u=!1,function(t){if(n===clearTimeout)return clearTimeout(t);if((n===a||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(t);try{n(t)}catch(e){try{return n.call(null,t)}catch(e){return n.call(this,t)}}}(t)}}function p(t,e){this.fun=t,this.array=e}function v(){}i.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];c.push(new p(t,e)),1!==c.length||u||s(d)},p.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=v,i.addListener=v,i.once=v,i.off=v,i.removeListener=v,i.removeAllListeners=v,i.emit=v,i.prependListener=v,i.prependOnceListener=v,i.listeners=function(t){return[]},i.binding=function(t){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(t){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(t,e,r){"use strict";var n=r(5);t.exports=function(t,e,r,i){var o,a=i("x"),s=i("y");if(n.getComponentMethod("calendars","handleTraceDefaults")(t,e,["x","y"],r),a)s?((o=Math.min(a.length,s.length))<a.length&&(e.x=a.slice(0,o)),o<s.length&&(e.y=s.slice(0,o))):(o=a.length,i("y0"),i("dy"));else{if(!s)return 0;o=e.y.length,i("x0"),i("dx")}return o}},function(t,e,r){"use strict";var n=r(1);t.exports=function(t,e){for(var r=0;r<t.length;r++)t[r].i=r;n.mergeArray(e.text,t,"tx"),n.mergeArray(e.hovertext,t,"htx"),n.mergeArray(e.customdata,t,"data"),n.mergeArray(e.textposition,t,"tp"),e.textfont&&(n.mergeArray(e.textfont.size,t,"ts"),n.mergeArray(e.textfont.color,t,"tc"),n.mergeArray(e.textfont.family,t,"tf"));var i=e.marker;if(i){n.mergeArray(i.size,t,"ms"),n.mergeArray(i.opacity,t,"mo"),n.mergeArray(i.symbol,t,"mx"),n.mergeArray(i.color,t,"mc");var o=i.line;i.line&&(n.mergeArray(o.color,t,"mlc"),n.mergeArray(o.width,t,"mlw"));var a=i.gradient;a&&"none"!==a.type&&(n.mergeArray(a.type,t,"mgt"),n.mergeArray(a.color,t,"mgc"))}}},function(t,e,r){"use strict";var n=r(1);t.exports=function(t,e){Array.isArray(e.selectedpoints)&&n.tagSelected(t,e)}},function(t,e,r){"use strict";var n=r(6),i=r(1),o=r(14),a=r(154),s=r(385);t.exports=function(t,e){var r=e[0].trace,l=r.marker,c="cb"+r.uid;if(t._fullLayout._infolayer.selectAll("."+c).remove(),void 0!==l&&l.showscale){var u=l.color,h=l.cmin,f=l.cmax;n(h)||(h=i.aggNums(Math.min,null,u)),n(f)||(f=i.aggNums(Math.max,null,u));var d=e[0].t.cb=s(t,c),p=a.makeColorScaleFunc(a.extractScale(l.colorscale,h,f),{noNumericCheck:!0});d.fillcolor(p).filllevels({start:h,end:f,size:(f-h)/254}).options(l.colorbar)()}else o.autoMargin(t,c)}},function(t,e,r){"use strict";var n=r(5),i=r(1),o=r(34),a=r(155),s=r(156),l=r(157),c=r(386),u=r(387),h=r(158),f=r(388);t.exports=function(t,e,r,d,p){var v=d.letter,y=d.font||{},g=r("visible",!d.cheateronly),m=e.type;"date"===m&&n.getComponentMethod("calendars","handleDefaults")(t,e,"calendar",d.calendar);if(h(e,p),r("autorange",!e.isValidRange(t.range))&&r("rangemode"),r("range"),e.cleanRange(),c(t,e,r),e._initialCategories="category"===m?f(v,e.categoryorder,e.categoryarray,d.data):[],!g)return e;var b=r("color"),x=b===t.color?b:y.color;return r("title",p._dfltTitle[v]),i.coerceFont(r,"titlefont",{family:y.family,size:Math.round(1.2*y.size),color:x}),a(t,e,r,m),l(t,e,r,m,d),s(t,e,r,d),u(t,e,r,{dfltColor:b,bgColor:d.bgColor,showGrid:d.showGrid,attributes:o}),(e.showline||e.ticks)&&r("mirror"),e}},function(t,e,r){"use strict";var n=r(6),i=r(1);t.exports=function(t,e,r,o){var a=o.counterAxes||[],s=o.overlayableAxes||[],l=o.letter;"free"===i.coerce(t,e,{anchor:{valType:"enumerated",values:["free"].concat(a),dflt:n(t.position)?"free":a[0]||"free"}},"anchor")&&r("position"),i.coerce(t,e,{side:{valType:"enumerated",values:"x"===l?["bottom","top"]:["left","right"],dflt:"x"===l?"bottom":"left"}},"side");var c=!1;if(s.length&&(c=i.coerce(t,e,{overlaying:{valType:"enumerated",values:[!1].concat(s),dflt:!1}},"overlaying")),!c){var u=r("domain");u[0]>u[1]-.01&&(e.domain=[0,1]),i.noneOrAll(t.domain,e.domain,[0,1])}return r("layer"),e}},function(t,e,r){"use strict";var n=r(1);function i(t){return t||0===t}t.exports=function(t,e,r){var o=Array.isArray(r)?function(t){r.push(t)}:function(t){r.text=t},a=n.extractOption(t,e,"htx","hovertext");if(i(a))return o(a);var s=n.extractOption(t,e,"tx","text");return i(s)?o(s):void 0}},function(t,e,r){"use strict";var n=r(20),i=r(31);t.exports={bgcolor:{valType:"color",role:"style",editType:"legend",description:"Sets the legend background color."},bordercolor:{valType:"color",dflt:i.defaultLine,role:"style",editType:"legend",description:"Sets the color of the border enclosing the legend."},borderwidth:{valType:"number",min:0,dflt:0,role:"style",editType:"legend",description:"Sets the width (in px) of the border enclosing the legend."},font:n({editType:"legend",description:"Sets the font used to text the legend items."}),orientation:{valType:"enumerated",values:["v","h"],dflt:"v",role:"info",editType:"legend",description:"Sets the orientation of the legend."},traceorder:{valType:"flaglist",flags:["reversed","grouped"],extras:["normal"],role:"style",editType:"legend",description:["Determines the order at which the legend items are displayed.","If *normal*, the items are displayed top-to-bottom in the same","order as the input data.","If *reversed*, the items are displayed in the opposite order","as *normal*.","If *grouped*, the items are displayed in groups","(when a trace `legendgroup` is provided).","if *grouped+reversed*, the items are displayed in the opposite order","as *grouped*."].join(" ")},tracegroupgap:{valType:"number",min:0,dflt:10,role:"style",editType:"legend",description:["Sets the amount of vertical space (in px) between legend groups."].join(" ")},x:{valType:"number",min:-2,max:3,dflt:1.02,role:"style",editType:"legend",description:"Sets the x position (in normalized coordinates) of the legend."},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left",role:"info",editType:"legend",description:["Sets the legend's horizontal position anchor.","This anchor binds the `x` position to the *left*, *center*","or *right* of the legend."].join(" ")},y:{valType:"number",min:-2,max:3,dflt:1,role:"style",editType:"legend",description:"Sets the y position (in normalized coordinates) of the legend."},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"auto",role:"info",editType:"legend",description:["Sets the legend's vertical position anchor","This anchor binds the `y` position to the *top*, *middle*","or *bottom* of the legend."].join(" ")},editType:"legend"}},function(t,e,r){"use strict";var n=r(3),i=r(5),o=r(1),a=r(9),s=r(4),l=r(26),c=r(114);t.exports=function(t,e){t.each(function(t){var e=n.select(this).selectAll("g.layers").data([0]);e.enter().append("g").classed("layers",!0),e.style("opacity",t[0].trace.opacity),e.selectAll("g.legendfill").data([t]).enter().append("g").classed("legendfill",!0),e.selectAll("g.legendlines").data([t]).enter().append("g").classed("legendlines",!0);var r=e.selectAll("g.legendsymbols").data([t]);r.enter().append("g").classed("legendsymbols",!0),r.selectAll("g.legendpoints").data([t]).enter().append("g").classed("legendpoints",!0)}).each(function(t){var e=t[0].trace,r=e.marker||{},o=r.line||{},a=n.select(this).select("g.legendpoints").selectAll("path.legendbar").data(i.traceIs(e,"bar")?[t]:[]);a.enter().append("path").classed("legendbar",!0).attr("d","M6,6H-6V-6H6Z").attr("transform","translate(20,0)"),a.exit().remove(),a.each(function(t){var e=n.select(this),i=t[0],a=(i.mlw+1||o.width+1)-1;e.style("stroke-width",a+"px").call(s.fill,i.mc||r.color),a&&e.call(s.stroke,i.mlc||o.color)})}).each(function(t){var e=t[0].trace,r=n.select(this).select("g.legendpoints").selectAll("path.legendbox").data(i.traceIs(e,"box-violin")&&e.visible?[t]:[]);r.enter().append("path").classed("legendbox",!0).attr("d","M6,6H-6V-6H6Z").attr("transform","translate(20,0)"),r.exit().remove(),r.each(function(){var t=e.line.width,r=n.select(this);r.style("stroke-width",t+"px").call(s.fill,e.fillcolor),t&&r.call(s.stroke,e.line.color)})}).each(function(t){var e=t[0].trace,r=n.select(this).select("g.legendpoints").selectAll("path.legendpie").data(i.traceIs(e,"pie")&&e.visible?[t]:[]);r.enter().append("path").classed("legendpie",!0).attr("d","M6,6H-6V-6H6Z").attr("transform","translate(20,0)"),r.exit().remove(),r.size()&&r.call(c,t[0],e)}).each(function(t){var e=t[0].trace,r=e.visible&&e.fill&&"none"!==e.fill,i=l.hasLines(e);e&&e._module&&"contourcarpet"===e._module.name&&(i=e.contours.showlines,r="fill"===e.contours.coloring);var o=n.select(this).select(".legendfill").selectAll("path").data(r?[t]:[]);o.enter().append("path").classed("js-fill",!0),o.exit().remove(),o.attr("d","M5,0h30v6h-30z").call(a.fillGroupStyle);var s=n.select(this).select(".legendlines").selectAll("path").data(i?[t]:[]);s.enter().append("path").classed("js-line",!0).attr("d","M5,0h30"),s.exit().remove(),s.call(a.lineGroupStyle)}).each(function(t){var r,i,s=t[0],c=s.trace,u=l.hasMarkers(c),h=l.hasText(c),f=l.hasLines(c);function d(t,e,r){var n=o.nestedProperty(c,t).get(),i=Array.isArray(n)&&e?e(n):n;if(r){if(i<r[0])return r[0];if(i>r[1])return r[1]}return i}function p(t){return t[0]}if(u||h||f){var v={},y={};u&&(v.mc=d("marker.color",p),v.mo=d("marker.opacity",o.mean,[.2,1]),v.ms=d("marker.size",o.mean,[2,16]),v.mlc=d("marker.line.color",p),v.mlw=d("marker.line.width",o.mean,[0,5]),y.marker={sizeref:1,sizemin:1,sizemode:"diameter"}),f&&(y.line={width:d("line.width",p,[0,10])}),h&&(v.tx="Aa",v.tp=d("textposition",p),v.ts=10,v.tc=d("textfont.color",p),v.tf=d("textfont.family",p)),r=[o.minExtend(s,v)],i=o.minExtend(c,y)}var g=n.select(this).select("g.legendpoints"),m=g.selectAll("path.scatterpts").data(u?r:[]);m.enter().append("path").classed("scatterpts",!0).attr("transform","translate(20,0)"),m.exit().remove(),m.call(a.pointStyle,i,e),u&&(r[0].mrc=3);var b=g.selectAll("g.pointtext").data(h?r:[]);b.enter().append("g").classed("pointtext",!0).append("text").attr("transform","translate(20,0)"),b.exit().remove(),b.selectAll("text").call(a.textPointStyle,i,e)})}},function(t,e,r){"use strict";t.exports=[{path:"",backoff:0},{path:"M-2.4,-3V3L0.6,0Z",backoff:.6},{path:"M-3.7,-2.5V2.5L1.3,0Z",backoff:1.3},{path:"M-4.45,-3L-1.65,-0.2V0.2L-4.45,3L1.55,0Z",backoff:1.55},{path:"M-2.2,-2.2L-0.2,-0.2V0.2L-2.2,2.2L-1.4,3L1.6,0L-1.4,-3Z",backoff:1.6},{path:"M-4.4,-2.1L-0.6,-0.2V0.2L-4.4,2.1L-4,3L2,0L-4,-3Z",backoff:2},{path:"M2,0A2,2 0 1,1 0,-2A2,2 0 0,1 2,0Z",backoff:0,noRotate:!0},{path:"M2,2V-2H-2V2Z",backoff:0,noRotate:!0}]},function(t,e,r){"use strict";var n=r(1),i=r(4);t.exports=function(t,e,r,o){o("opacity");var a=o("bgcolor"),s=o("bordercolor"),l=i.opacity(s);o("borderpad");var c=o("borderwidth"),u=o("showarrow");if(o("text",u?" ":r._dfltTitle.annotation),o("textangle"),n.coerceFont(o,"font",r.font),o("width"),o("align"),o("height")&&o("valign"),u){var h,f,d=o("arrowside");-1!==d.indexOf("end")&&(h=o("arrowhead"),f=o("arrowsize")),-1!==d.indexOf("start")&&(o("startarrowhead",h),o("startarrowsize",f)),o("arrowcolor",l?e.bordercolor:i.defaultLine),o("arrowwidth",2*(l&&c||1)),o("standoff"),o("startstandoff")}var p=o("hovertext"),v=r.hoverlabel||{};if(p){var y=o("hoverlabel.bgcolor",v.bgcolor||(i.opacity(a)?i.rgb(a):i.defaultLine)),g=o("hoverlabel.bordercolor",v.bordercolor||i.contrast(y));n.coerceFont(o,"hoverlabel.font",{family:v.font.family,size:v.font.size,color:v.font.color||g})}o("captureevents",!!p)}},function(t,e,r){"use strict";t.exports={segmentRE:/[MLHVQCTSZ][^MLHVQCTSZ]*/g,paramRE:/[^\s,]+/g,paramIsX:{M:{0:!0,drawn:0},L:{0:!0,drawn:0},H:{0:!0,drawn:0},V:{},Q:{0:!0,2:!0,drawn:2},C:{0:!0,2:!0,4:!0,drawn:4},T:{0:!0,drawn:0},S:{0:!0,2:!0,drawn:2},Z:{}},paramIsY:{M:{1:!0,drawn:1},L:{1:!0,drawn:1},H:{},V:{0:!0,drawn:0},Q:{1:!0,3:!0,drawn:3},C:{1:!0,3:!0,5:!0,drawn:5},T:{1:!0,drawn:1},S:{1:!0,3:!0,drawn:5},Z:{}},numParams:{M:2,L:2,H:1,V:1,Q:4,C:6,T:2,S:4,Z:0}}},function(t,e,r){"use strict";var n=r(71),i=r(50).line,o=r(96).dash,a=r(18).extendFlat;t.exports={_isLinkedToArray:"shape",visible:{valType:"boolean",role:"info",dflt:!0,editType:"calcIfAutorange",description:["Determines whether or not this shape is visible."].join(" ")},type:{valType:"enumerated",values:["circle","rect","path","line"],role:"info",editType:"calcIfAutorange",description:["Specifies the shape type to be drawn.","If *line*, a line is drawn from (`x0`,`y0`) to (`x1`,`y1`)","If *circle*, a circle is drawn from","((`x0`+`x1`)/2, (`y0`+`y1`)/2))","with radius","(|(`x0`+`x1`)/2 - `x0`|, |(`y0`+`y1`)/2 -`y0`)|)","If *rect*, a rectangle is drawn linking","(`x0`,`y0`), (`x1`,`y0`), (`x1`,`y1`), (`x0`,`y1`), (`x0`,`y0`)","If *path*, draw a custom SVG path using `path`."].join(" ")},layer:{valType:"enumerated",values:["below","above"],dflt:"above",role:"info",editType:"arraydraw",description:"Specifies whether shapes are drawn below or above traces."},xref:a({},n.xref,{description:["Sets the shape's x coordinate axis.","If set to an x axis id (e.g. *x* or *x2*), the `x` position","refers to an x coordinate","If set to *paper*, the `x` position refers to the distance from","the left side of the plotting area in normalized coordinates","where *0* (*1*) corresponds to the left (right) side.","If the axis `type` is *log*, then you must take the","log of your desired range.","If the axis `type` is *date*, then you must convert","the date to unix time in milliseconds."].join(" ")}),x0:{valType:"any",role:"info",editType:"calcIfAutorange",description:["Sets the shape's starting x position.","See `type` for more info."].join(" ")},x1:{valType:"any",role:"info",editType:"calcIfAutorange",description:["Sets the shape's end x position.","See `type` for more info."].join(" ")},yref:a({},n.yref,{description:["Sets the annotation's y coordinate axis.","If set to an y axis id (e.g. *y* or *y2*), the `y` position","refers to an y coordinate","If set to *paper*, the `y` position refers to the distance from","the bottom of the plotting area in normalized coordinates","where *0* (*1*) corresponds to the bottom (top)."].join(" ")}),y0:{valType:"any",role:"info",editType:"calcIfAutorange",description:["Sets the shape's starting y position.","See `type` for more info."].join(" ")},y1:{valType:"any",role:"info",editType:"calcIfAutorange",description:["Sets the shape's end y position.","See `type` for more info."].join(" ")},path:{valType:"string",role:"info",editType:"calcIfAutorange",description:["For `type` *path* - a valid SVG path but with the pixel values","replaced by data values. There are a few restrictions / quirks","only absolute instructions, not relative. So the allowed segments","are: M, L, H, V, Q, C, T, S, and Z","arcs (A) are not allowed because radius rx and ry are relative.","In the future we could consider supporting relative commands,","but we would have to decide on how to handle date and log axes.","Note that even as is, Q and C Bezier paths that are smooth on","linear axes may not be smooth on log, and vice versa.",'no chained "polybezier" commands - specify the segment type for',"each one.","On category axes, values are numbers scaled to the serial numbers","of categories because using the categories themselves there would","be no way to describe fractional positions","On data axes: because space and T are both normal components of path","strings, we can't use either to separate date from time parts.","Therefore we'll use underscore for this purpose:","2015-02-21_13:45:56.789"].join(" ")},opacity:{valType:"number",min:0,max:1,dflt:1,role:"info",editType:"arraydraw",description:"Sets the opacity of the shape."},line:{color:a({},i.color,{editType:"arraydraw"}),width:a({},i.width,{editType:"calcIfAutorange"}),dash:a({},o,{editType:"arraydraw"}),role:"info",editType:"calcIfAutorange"},fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)",role:"info",editType:"arraydraw",description:["Sets the color filling the shape's interior."].join(" ")},editType:"arraydraw"}},function(t,e,r){"use strict";var n=r(22);t.exports={_isLinkedToArray:"image",visible:{valType:"boolean",role:"info",dflt:!0,editType:"arraydraw",description:["Determines whether or not this image is visible."].join(" ")},source:{valType:"string",role:"info",editType:"arraydraw",description:["Specifies the URL of the image to be used.","The URL must be accessible from the domain where the","plot code is run, and can be either relative or absolute."].join(" ")},layer:{valType:"enumerated",values:["below","above"],dflt:"above",role:"info",editType:"arraydraw",description:["Specifies whether images are drawn below or above traces.","When `xref` and `yref` are both set to `paper`,","image is drawn below the entire plot area."].join(" ")},sizex:{valType:"number",role:"info",dflt:0,editType:"arraydraw",description:["Sets the image container size horizontally.","The image will be sized based on the `position` value.","When `xref` is set to `paper`, units are sized relative","to the plot width."].join(" ")},sizey:{valType:"number",role:"info",dflt:0,editType:"arraydraw",description:["Sets the image container size vertically.","The image will be sized based on the `position` value.","When `yref` is set to `paper`, units are sized relative","to the plot height."].join(" ")},sizing:{valType:"enumerated",values:["fill","contain","stretch"],dflt:"contain",role:"info",editType:"arraydraw",description:["Specifies which dimension of the image to constrain."].join(" ")},opacity:{valType:"number",role:"info",min:0,max:1,dflt:1,editType:"arraydraw",description:"Sets the opacity of the image."},x:{valType:"any",role:"info",dflt:0,editType:"arraydraw",description:["Sets the image's x position.","When `xref` is set to `paper`, units are sized relative","to the plot height.","See `xref` for more info"].join(" ")},y:{valType:"any",role:"info",dflt:0,editType:"arraydraw",description:["Sets the image's y position.","When `yref` is set to `paper`, units are sized relative","to the plot height.","See `yref` for more info"].join(" ")},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left",role:"info",editType:"arraydraw",description:"Sets the anchor for the x position"},yanchor:{valType:"enumerated",values:["top","middle","bottom"],dflt:"top",role:"info",editType:"arraydraw",description:"Sets the anchor for the y position."},xref:{valType:"enumerated",values:["paper",n.idRegex.x.toString()],dflt:"paper",role:"info",editType:"arraydraw",description:["Sets the images's x coordinate axis.","If set to a x axis id (e.g. *x* or *x2*), the `x` position","refers to an x data coordinate","If set to *paper*, the `x` position refers to the distance from","the left of plot in normalized coordinates","where *0* (*1*) corresponds to the left (right)."].join(" ")},yref:{valType:"enumerated",values:["paper",n.idRegex.y.toString()],dflt:"paper",role:"info",editType:"arraydraw",description:["Sets the images's y coordinate axis.","If set to a y axis id (e.g. *y* or *y2*), the `y` position","refers to a y data coordinate.","If set to *paper*, the `y` position refers to the distance from","the bottom of the plot in normalized coordinates","where *0* (*1*) corresponds to the bottom (top)."].join(" ")},editType:"arraydraw"}},function(t,e,r){"use strict";var n=r(20),i=r(31),o=r(18).extendFlat,a=r(39).overrideAll,s=r(185),l={_isLinkedToArray:"button",method:{valType:"enumerated",values:["restyle","relayout","animate","update","skip"],dflt:"restyle",role:"info",description:["Sets the Plotly method to be called on click.","If the `skip` method is used, the API updatemenu will function as normal","but will perform no API calls and will not bind automatically to state","updates. This may be used to create a component interface and attach to","updatemenu events manually via JavaScript."].join(" ")},args:{valType:"info_array",role:"info",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}],description:["Sets the arguments values to be passed to the Plotly","method set in `method` on click."].join(" ")},label:{valType:"string",role:"info",dflt:"",description:"Sets the text label to appear on the button."},execute:{valType:"boolean",role:"info",dflt:!0,description:["When true, the API method is executed. When false, all other behaviors are the same","and command execution is skipped. This may be useful when hooking into, for example,","the `plotly_buttonclicked` method and executing the API command manually without losing","the benefit of the updatemenu automatically binding to the state of the plot through the","specification of `method` and `args`."].join(" ")}};t.exports=a({_isLinkedToArray:"updatemenu",_arrayAttrRegexps:[/^updatemenus\[(0|[1-9][0-9]+)\]\.buttons/],visible:{valType:"boolean",role:"info",description:["Determines whether or not the update menu is visible."].join(" ")},type:{valType:"enumerated",values:["dropdown","buttons"],dflt:"dropdown",role:"info",description:["Determines whether the buttons are accessible via a dropdown menu","or whether the buttons are stacked horizontally or vertically"].join(" ")},direction:{valType:"enumerated",values:["left","right","up","down"],dflt:"down",role:"info",description:["Determines the direction in which the buttons are laid out, whether","in a dropdown menu or a row/column of buttons. For `left` and `up`,","the buttons will still appear in left-to-right or top-to-bottom order","respectively."].join(" ")},active:{valType:"integer",role:"info",min:-1,dflt:0,description:["Determines which button (by index starting from 0) is","considered active."].join(" ")},showactive:{valType:"boolean",role:"info",dflt:!0,description:"Highlights active dropdown item or active button if true."},buttons:l,x:{valType:"number",min:-2,max:3,dflt:-.05,role:"style",description:"Sets the x position (in normalized coordinates) of the update menu."},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"right",role:"info",description:["Sets the update menu's horizontal position anchor.","This anchor binds the `x` position to the *left*, *center*","or *right* of the range selector."].join(" ")},y:{valType:"number",min:-2,max:3,dflt:1,role:"style",description:"Sets the y position (in normalized coordinates) of the update menu."},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"top",role:"info",description:["Sets the update menu's vertical position anchor","This anchor binds the `y` position to the *top*, *middle*","or *bottom* of the range selector."].join(" ")},pad:o({},s,{description:"Sets the padding around the buttons or dropdown menu."}),font:n({description:"Sets the font of the update menu button text."}),bgcolor:{valType:"color",role:"style",description:"Sets the background color of the update menu buttons."},bordercolor:{valType:"color",dflt:i.borderLine,role:"style",description:"Sets the color of the border enclosing the update menu."},borderwidth:{valType:"number",min:0,dflt:1,role:"style",editType:"arraydraw",description:"Sets the width (in px) of the border enclosing the update menu."}},"arraydraw","from-root")},function(t,e,r){"use strict";t.exports={t:{valType:"number",dflt:0,role:"style",editType:"arraydraw",description:"The amount of padding (in px) along the top of the component."},r:{valType:"number",dflt:0,role:"style",editType:"arraydraw",description:"The amount of padding (in px) on the right side of the component."},b:{valType:"number",dflt:0,role:"style",editType:"arraydraw",description:"The amount of padding (in px) along the bottom of the component."},l:{valType:"number",dflt:0,role:"style",editType:"arraydraw",description:"The amount of padding (in px) on the left side of the component."},editType:"arraydraw"}},function(t,e,r){"use strict";var n=r(20),i=r(185),o=r(18).extendDeepAll,a=r(39).overrideAll,s=r(95),l=r(72),c={_isLinkedToArray:"step",method:{valType:"enumerated",values:["restyle","relayout","animate","update","skip"],dflt:"restyle",role:"info",description:["Sets the Plotly method to be called when the slider value is changed.","If the `skip` method is used, the API slider will function as normal","but will perform no API calls and will not bind automatically to state","updates. This may be used to create a component interface and attach to","slider events manually via JavaScript."].join(" ")},args:{valType:"info_array",role:"info",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}],description:["Sets the arguments values to be passed to the Plotly","method set in `method` on slide."].join(" ")},label:{valType:"string",role:"info",description:"Sets the text label to appear on the slider"},value:{valType:"string",role:"info",description:["Sets the value of the slider step, used to refer to the step programatically.","Defaults to the slider label if not provided."].join(" ")},execute:{valType:"boolean",role:"info",dflt:!0,description:["When true, the API method is executed. When false, all other behaviors are the same","and command execution is skipped. This may be useful when hooking into, for example,","the `plotly_sliderchange` method and executing the API command manually without losing","the benefit of the slider automatically binding to the state of the plot through the","specification of `method` and `args`."].join(" ")}};t.exports=a({_isLinkedToArray:"slider",visible:{valType:"boolean",role:"info",dflt:!0,description:["Determines whether or not the slider is visible."].join(" ")},active:{valType:"number",role:"info",min:0,dflt:0,description:["Determines which button (by index starting from 0) is","considered active."].join(" ")},steps:c,lenmode:{valType:"enumerated",values:["fraction","pixels"],role:"info",dflt:"fraction",description:["Determines whether this slider length","is set in units of plot *fraction* or in *pixels.","Use `len` to set the value."].join(" ")},len:{valType:"number",min:0,dflt:1,role:"style",description:["Sets the length of the slider","This measure excludes the padding of both ends.","That is, the slider's length is this length minus the","padding on both ends."].join(" ")},x:{valType:"number",min:-2,max:3,dflt:0,role:"style",description:"Sets the x position (in normalized coordinates) of the slider."},pad:o({},i,{description:"Set the padding of the slider component along each side."},{t:{dflt:20}}),xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left",role:"info",description:["Sets the slider's horizontal position anchor.","This anchor binds the `x` position to the *left*, *center*","or *right* of the range selector."].join(" ")},y:{valType:"number",min:-2,max:3,dflt:0,role:"style",description:"Sets the y position (in normalized coordinates) of the slider."},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"top",role:"info",description:["Sets the slider's vertical position anchor","This anchor binds the `y` position to the *top*, *middle*","or *bottom* of the range selector."].join(" ")},transition:{duration:{valType:"number",role:"info",min:0,dflt:150,description:"Sets the duration of the slider transition"},easing:{valType:"enumerated",values:s.transition.easing.values,role:"info",dflt:"cubic-in-out",description:"Sets the easing function of the slider transition"}},currentvalue:{visible:{valType:"boolean",role:"info",dflt:!0,description:["Shows the currently-selected value above the slider."].join(" ")},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left",role:"info",description:["The alignment of the value readout relative to the length of the slider."].join(" ")},offset:{valType:"number",dflt:10,role:"info",description:["The amount of space, in pixels, between the current value label","and the slider."].join(" ")},prefix:{valType:"string",role:"info",description:"When currentvalue.visible is true, this sets the prefix of the label."},suffix:{valType:"string",role:"info",description:"When currentvalue.visible is true, this sets the suffix of the label."},font:n({description:"Sets the font of the current value label text."})},font:n({description:"Sets the font of the slider step labels."}),activebgcolor:{valType:"color",role:"style",dflt:l.gripBgActiveColor,description:["Sets the background color of the slider grip","while dragging."].join(" ")},bgcolor:{valType:"color",role:"style",dflt:l.railBgColor,description:"Sets the background color of the slider."},bordercolor:{valType:"color",dflt:l.railBorderColor,role:"style",description:"Sets the color of the border enclosing the slider."},borderwidth:{valType:"number",min:0,dflt:l.railBorderWidth,role:"style",description:"Sets the width (in px) of the border enclosing the slider."},ticklen:{valType:"number",min:0,dflt:l.tickLength,role:"style",description:"Sets the length in pixels of step tick marks"},tickcolor:{valType:"color",dflt:l.tickColor,role:"style",description:"Sets the color of the border enclosing the slider."},tickwidth:{valType:"number",min:0,dflt:1,role:"style",description:"Sets the tick width (in px)."},minorticklen:{valType:"number",min:0,dflt:l.minorTickLength,role:"style",description:"Sets the length in pixels of minor step tick marks"}},"arraydraw","from-root")},function(t,e,r){"use strict";t.exports={name:"rangeslider",containerClassName:"rangeslider-container",bgClassName:"rangeslider-bg",rangePlotClassName:"rangeslider-rangeplot",maskMinClassName:"rangeslider-mask-min",maskMaxClassName:"rangeslider-mask-max",slideBoxClassName:"rangeslider-slidebox",grabberMinClassName:"rangeslider-grabber-min",grabAreaMinClassName:"rangeslider-grabarea-min",handleMinClassName:"rangeslider-handle-min",grabberMaxClassName:"rangeslider-grabber-max",grabAreaMaxClassName:"rangeslider-grabarea-max",handleMaxClassName:"rangeslider-handle-max",maskColor:"rgba(0,0,0,0.4)",slideBoxFill:"transparent",slideBoxCursor:"ew-resize",grabAreaFill:"transparent",grabAreaCursor:"col-resize",grabAreaWidth:10,handleWidth:4,handleRadius:1,handleStrokeWidth:1,extraPad:15}},function(t,e,r){"use strict";t.exports={step:{valType:"enumerated",role:"info",values:["month","year","day","hour","minute","second","all"],dflt:"month",editType:"plot",description:["The unit of measurement that the `count` value will set the range by."].join(" ")},stepmode:{valType:"enumerated",role:"info",values:["backward","todate"],dflt:"backward",editType:"plot",description:["Sets the range update mode.","If *backward*, the range update shifts the start of range","back *count* times *step* milliseconds.","If *todate*, the range update shifts the start of range","back to the first timestamp from *count* times","*step* milliseconds back.","For example, with `step` set to *year* and `count` set to *1*","the range update shifts the start of the range back to","January 01 of the current year.","Month and year *todate* are currently available only","for the built-in (Gregorian) calendar."].join(" ")},count:{valType:"number",role:"info",min:0,dflt:1,editType:"plot",description:["Sets the number of steps to take to update the range.","Use with `step` to specify the update interval."].join(" ")},label:{valType:"string",role:"info",editType:"plot",description:"Sets the text label to appear on the button."},editType:"plot"}},function(t,e,r){"use strict";t.exports={yPad:.02,minButtonWidth:30,rx:3,ry:3,lightAmount:25,darkAmount:10}},function(t,e,r){"use strict";var n=r(1),i=n.extendFlat,o=n.extendDeep;function a(t){var e;switch(t){case"themes__thumb":e={autosize:!0,width:150,height:150,title:"",showlegend:!1,margin:{l:5,r:5,t:5,b:5,pad:0},annotations:[]};break;case"thumbnail":e={title:"",hidesources:!0,showlegend:!1,borderwidth:0,bordercolor:"",margin:{l:1,r:1,t:1,b:1,pad:0},annotations:[]};break;default:e={}}return e}t.exports=function(t,e){var r;t.framework&&t.framework.isPolar&&(t=t.framework.getConfig());var n,s=t.data,l=t.layout,c=o([],s),u=o({},l,a(e.tileClass)),h=t._context||{};if(e.width&&(u.width=e.width),e.height&&(u.height=e.height),"thumbnail"===e.tileClass||"themes__thumb"===e.tileClass){u.annotations=[];var f=Object.keys(u);for(r=0;r<f.length;r++)n=f[r],["xaxis","yaxis","zaxis"].indexOf(n.slice(0,5))>-1&&(u[f[r]].title="");for(r=0;r<c.length;r++){var d=c[r];d.showscale=!1,d.marker&&(d.marker.showscale=!1),"pie"===d.type&&(d.textposition="none")}}if(Array.isArray(e.annotations))for(r=0;r<e.annotations.length;r++)u.annotations.push(e.annotations[r]);var p=Object.keys(u).filter(function(t){return t.match(/^scene\d*$/)});if(p.length){var v={};for("thumbnail"===e.tileClass&&(v={title:"",showaxeslabels:!1,showticklabels:!1,linetickenable:!1}),r=0;r<p.length;r++){var y=u[p[r]];y.xaxis||(y.xaxis={}),y.yaxis||(y.yaxis={}),y.zaxis||(y.zaxis={}),i(y.xaxis,v),i(y.yaxis,v),i(y.zaxis,v),y._scene=null}}var g=document.createElement("div");e.tileClass&&(g.className=e.tileClass);var m={gd:g,td:g,layout:u,data:c,config:{staticPlot:void 0===e.staticPlot||e.staticPlot,plotGlPixelRatio:void 0===e.plotGlPixelRatio?2:e.plotGlPixelRatio,displaylogo:e.displaylogo||!1,showLink:e.showLink||!1,showTips:e.showTips||!1,mapboxAccessToken:h.mapboxAccessToken}};return"transparent"!==e.setBackground&&(m.config.setBackground=e.setBackground||"opaque"),m.gd.defaultLayout=a(e.tileClass),m}},function(t,e,r){"use strict";t.exports={barmode:{valType:"enumerated",values:["stack","group","overlay","relative"],dflt:"group",role:"info",editType:"calc",description:["Determines how bars at the same location coordinate","are displayed on the graph.","With *stack*, the bars are stacked on top of one another","With *relative*, the bars are stacked on top of one another,","with negative values below the axis, positive values above","With *group*, the bars are plotted next to one another","centered around the shared location.","With *overlay*, the bars are plotted over one another,","you might need to an *opacity* to see multiple bars."].join(" ")},barnorm:{valType:"enumerated",values:["","fraction","percent"],dflt:"",role:"info",editType:"calc",description:["Sets the normalization for bar traces on the graph.","With *fraction*, the value of each bar is divide by the sum of the","values at the location coordinate.","With *percent*, the results form *fraction* are presented in percents."].join(" ")},bargap:{valType:"number",min:0,max:1,role:"style",editType:"calc",description:["Sets the gap (in plot fraction) between bars of","adjacent location coordinates."].join(" ")},bargroupgap:{valType:"number",min:0,max:1,dflt:0,role:"style",editType:"calc",description:["Sets the gap (in plot fraction) between bars of","the same location coordinate."].join(" ")}}},function(t,e,r){"use strict";var n=r(1).mergeArray;t.exports=function(t,e){for(var r=0;r<t.length;r++)t[r].i=r;n(e.text,t,"tx"),n(e.hovertext,t,"htx");var i=e.marker;if(i){n(i.opacity,t,"mo"),n(i.color,t,"mc");var o=i.line;o&&(n(o.color,t,"mlc"),n(o.width,t,"mlw"))}}},function(t,e,r){"use strict";var n=r(27),i=r.n(n),o=r(194),a=r(459);i.a.d3;e.a=class extends o.a{constructor(){super(),this.el=this.el||document.createElement("figure"),this.colors=[]}initColors(t){console.log("color:",this.colors),t.forEach(t=>{const e=this.colors.filter(e=>t.name.toLowerCase()==e.grouping.toLowerCase());t.marker.color=t.x.map((r,n)=>{const i=e.find(e=>!(!e.hasOwnProperty("primaryGroup")||r.toLowerCase()!=e.primaryGroup.toLowerCase())||!e.hasOwnProperty("primaryGroup")&&t.name.toLowerCase()==e.grouping.toLowerCase());return null!=i?i.value:void 0})})}setColors(t=[]){this.colors=t.sort(t=>t.hasOwnProperty("primaryGroup")?-1:1)}drawChart(){console.warn("'drawChart()' method must be implemented in the child class")}getPlotlyData(t,e){const r=[];if(Array.isArray(t[0].values))t.forEach(t=>{const n=new a.a(t,e);r.push(n)});else{console.log("Not Array");const n={key:"",values:t},i=new a.a(n,e);r.push(i)}return r}render(){this.containerEl.appendChild(this.el),this.drawChart(this.el)}}},function(t,e,r){"use strict";var n=r(27),i=r.n(n);const o=i.a.d3;e.a=class{constructor(t=document.createElement("figure")){this.el=t;const e=o.select(this.el).style({width:"100%","margin-left":"0%",height:"80vh","margin-top":"10vh"});this.gd=e.node(),this.initEventListeners()}initEventListeners(){window.addEventListener("resize",t=>{console.log("Resize"),i.a.Plots.resize(this.gd)}),window.addEventListener("orientationchange",()=>{i.a.Plots.resize(this.gd)})}}},function(t,e,r){"use strict";var n=r(31),i=r(20),o=r(47),a=r(469),s=r(18).extendFlat,l=i({editType:"calc",colorEditType:"style",description:"Sets the font used for `textinfo`."});t.exports={labels:{valType:"data_array",editType:"calc",description:["Sets the sector labels.","If `labels` entries are duplicated, we sum associated `values`","or simply count occurrences if `values` is not provided.","For other array attributes (including color) we use the first","non-empty entry among all occurrences of the label."].join(" ")},label0:{valType:"number",role:"info",dflt:0,editType:"calc",description:["Alternate to `labels`.","Builds a numeric set of labels.","Use with `dlabel`","where `label0` is the starting label and `dlabel` the step."].join(" ")},dlabel:{valType:"number",role:"info",dflt:1,editType:"calc",description:"Sets the label step. See `label0` for more info."},values:{valType:"data_array",editType:"calc",description:["Sets the values of the sectors of this pie chart.","If omitted, we count occurrences of each label."].join(" ")},marker:{colors:{valType:"data_array",editType:"calc",description:["Sets the color of each sector of this pie chart.","If not specified, the default trace color set is used","to pick the sector colors."].join(" ")},line:{color:{valType:"color",role:"style",dflt:n.defaultLine,arrayOk:!0,editType:"style",description:["Sets the color of the line enclosing each sector."].join(" ")},width:{valType:"number",role:"style",min:0,dflt:0,arrayOk:!0,editType:"style",description:["Sets the width (in px) of the line enclosing each sector."].join(" ")},editType:"calc"},editType:"calc"},text:{valType:"data_array",editType:"calc",description:["Sets text elements associated with each sector.","If trace `textinfo` contains a *text* flag, these elements will seen","on the chart.","If trace `hoverinfo` contains a *text* flag and *hovertext* is not set,","these elements will be seen in the hover labels."].join(" ")},hovertext:{valType:"string",role:"info",dflt:"",arrayOk:!0,editType:"style",description:["Sets hover text elements associated with each sector.","If a single string, the same string appears for","all data points.","If an array of string, the items are mapped in order of","this trace's sectors.","To be seen, trace `hoverinfo` must contain a *text* flag."].join(" ")},scalegroup:{valType:"string",role:"info",dflt:"",editType:"calc",description:["If there are multiple pies that should be sized according to","their totals, link them by providing a non-empty group id here","shared by every trace in the same group."].join(" ")},textinfo:{valType:"flaglist",role:"info",flags:["label","text","value","percent"],extras:["none"],editType:"calc",description:["Determines which trace information appear on the graph."].join(" ")},hoverinfo:s({},o.hoverinfo,{flags:["label","text","value","percent","name"]}),textposition:{valType:"enumerated",role:"info",values:["inside","outside","auto","none"],dflt:"auto",arrayOk:!0,editType:"calc",description:["Specifies the location of the `textinfo`."].join(" ")},textfont:s({},l,{description:"Sets the font used for `textinfo`."}),insidetextfont:s({},l,{description:"Sets the font used for `textinfo` lying inside the pie."}),outsidetextfont:s({},l,{description:"Sets the font used for `textinfo` lying outside the pie."}),domain:a({name:"pie",trace:!0,editType:"calc"}),hole:{valType:"number",role:"style",min:0,max:1,dflt:0,editType:"calc",description:["Sets the fraction of the radius to cut out of the pie.","Use this to make a donut chart."].join(" ")},sort:{valType:"boolean",role:"style",dflt:!0,editType:"calc",description:["Determines whether or not the sectors are reordered","from largest to smallest."].join(" ")},direction:{valType:"enumerated",values:["clockwise","counterclockwise"],role:"style",dflt:"counterclockwise",editType:"calc",description:["Specifies the direction at which succeeding sectors follow","one another."].join(" ")},rotation:{valType:"number",role:"style",min:-360,max:360,dflt:0,editType:"calc",description:["Instead of the first slice starting at 12 o'clock,","rotate to some other angle."].join(" ")},pull:{valType:"number",role:"style",min:0,max:1,dflt:0,arrayOk:!0,editType:"calc",description:["Sets the fraction of larger radius to pull the sectors","out from the center. This can be a constant","to pull all slices apart from each other equally","or an array to highlight one or more slices."].join(" ")}}},function(t,e,r){"use strict";t.exports={hiddenlabels:{valType:"data_array",editType:"calc"}}},function(t,e,r){"use strict";var n=r(27),i=r.n(n),o=r(194),a=r(478);i.a.d3;e.a=class extends o.a{constructor(){super(),this.el=this.el||document.createElement("figure"),this.colors=[]}initColors(t){console.log("color:",this.colors),t.forEach(t=>{const e=this.colors.filter(e=>t.name.toLowerCase()==e.grouping.toLowerCase());t.marker.color=t.x.map((r,n)=>{const i=e.find(e=>!(!e.hasOwnProperty("primaryGroup")||r.toLowerCase()!=e.primaryGroup.toLowerCase())||!e.hasOwnProperty("primaryGroup")&&t.name.toLowerCase()==e.grouping.toLowerCase());return null!=i?i.value:void 0})})}setColors(t=[]){this.colors=t.sort(t=>t.hasOwnProperty("primaryGroup")?-1:1)}drawChart(){console.warn("'drawChart()' method must be implemented in the child class")}getPlotlyData(t=[],e){const r=[];if(console.log("data:",t),Array.isArray(t[0].values))t.forEach(t=>{const n=new a.a(t,e);r.push(n)});else{console.log("Not Array");const n={key:"",values:t},i=new a.a(n,e);r.push(i)}return r}render(){this.containerEl.appendChild(this.el),this.drawChart(this.el)}}},function(t,e,r){"use strict";e.isObject=function(t){return null!=t&&"object"==typeof t}},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function n(){this.constructor=t}t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=function(t){function e(e){t.call(this),this.errors=e;var r=Error.call(this,e?e.length+" errors occurred during unsubscription:\n  "+e.map(function(t,e){return e+1+") "+t.toString()}).join("\n  "):"");this.name=r.name="UnsubscriptionError",this.stack=r.stack,this.message=r.message}return n(e,t),e}(Error);e.UnsubscriptionError=i},function(t,e,r){"use strict";e.empty={closed:!0,next:function(t){},error:function(t){throw t},complete:function(){}}},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function n(){this.constructor=t}t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=function(t){function e(e,r){t.call(this),this.subject=e,this.subscriber=r,this.closed=!1}return n(e,t),e.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var t=this.subject,e=t.observers;if(this.subject=null,e&&0!==e.length&&!t.isStopped&&!t.closed){var r=e.indexOf(this.subscriber);-1!==r&&e.splice(r,1)}}},e}(r(13).Subscription);e.SubjectSubscription=i},function(t,e,r){"use strict";e.isArrayLike=function(t){return t&&"number"==typeof t.length}},function(t,e,r){"use strict";e.isPromise=function(t){return t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}},function(t,e,r){"use strict";var n=r(36);e.of=n.ArrayObservable.of},function(t,e,r){"use strict";var n=r(206);e.from=n.FromObservable.create},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function n(){this.constructor=t}t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=r(30),o=r(202),a=r(203),s=r(207),l=r(502),c=r(36),u=r(503),h=r(53),f=r(0),d=r(81),p=r(77),v=function(t){function e(e,r){t.call(this,null),this.ish=e,this.scheduler=r}return n(e,t),e.create=function(t,r){if(null!=t){if("function"==typeof t[p.observable])return t instanceof f.Observable&&!r?t:new e(t,r);if(i.isArray(t))return new c.ArrayObservable(t,r);if(a.isPromise(t))return new s.PromiseObservable(t,r);if("function"==typeof t[h.iterator]||"string"==typeof t)return new l.IteratorObservable(t,r);if(o.isArrayLike(t))return new u.ArrayLikeObservable(t,r)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")},e.prototype._subscribe=function(t){var e=this.ish,r=this.scheduler;return null==r?e[p.observable]().subscribe(t):e[p.observable]().subscribe(new d.ObserveOnSubscriber(t,r,0))},e}(f.Observable);e.FromObservable=v},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function n(){this.constructor=t}t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=r(19),o=function(t){function e(e,r){t.call(this),this.promise=e,this.scheduler=r}return n(e,t),e.create=function(t,r){return new e(t,r)},e.prototype._subscribe=function(t){var e=this,r=this.promise,n=this.scheduler;if(null==n)this._isScalar?t.closed||(t.next(this.value),t.complete()):r.then(function(r){e.value=r,e._isScalar=!0,t.closed||(t.next(r),t.complete())},function(e){t.closed||t.error(e)}).then(null,function(t){i.root.setTimeout(function(){throw t})});else if(this._isScalar){if(!t.closed)return n.schedule(a,0,{value:this.value,subscriber:t})}else r.then(function(r){e.value=r,e._isScalar=!0,t.closed||t.add(n.schedule(a,0,{value:r,subscriber:t}))},function(e){t.closed||t.add(n.schedule(s,0,{err:e,subscriber:t}))}).then(null,function(t){i.root.setTimeout(function(){throw t})})},e}(r(0).Observable);function a(t){var e=t.value,r=t.subscriber;r.closed||(r.next(e),r.complete())}function s(t){var e=t.err,r=t.subscriber;r.closed||r.error(e)}e.PromiseObservable=o},function(t,e,r){"use strict";e.identity=function(t){return t}},function(t,e,r){"use strict";var n=r(553);e.timer=n.TimerObservable.create},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function n(){this.constructor=t}t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=r(19),o=r(17),a=r(16),s=r(0),l=r(2),c=r(60);function u(t,e){return void 0===e&&(e=null),new g({method:"GET",url:t,headers:e})}function h(t,e,r){return new g({method:"POST",url:t,body:e,headers:r})}function f(t,e){return new g({method:"DELETE",url:t,headers:e})}function d(t,e,r){return new g({method:"PUT",url:t,body:e,headers:r})}function p(t,e,r){return new g({method:"PATCH",url:t,body:e,headers:r})}e.ajaxGet=u,e.ajaxPost=h,e.ajaxDelete=f,e.ajaxPut=d,e.ajaxPatch=p;var v=c.map(function(t,e){return t.response});function y(t,e){return v(new g({method:"GET",url:t,responseType:"json",headers:e}))}e.ajaxGetJSON=y;var g=function(t){function e(e){t.call(this);var r={async:!0,createXHR:function(){return this.crossDomain?function(){if(i.root.XMLHttpRequest)return new i.root.XMLHttpRequest;if(i.root.XDomainRequest)return new i.root.XDomainRequest;throw new Error("CORS is not supported by your browser")}.call(this):function(){if(i.root.XMLHttpRequest)return new i.root.XMLHttpRequest;var t=void 0;try{for(var e=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],r=0;r<3;r++)try{if(t=e[r],new i.root.ActiveXObject(t))break}catch(t){}return new i.root.ActiveXObject(t)}catch(t){throw new Error("XMLHttpRequest is not supported by your browser")}}()},crossDomain:!1,withCredentials:!1,headers:{},method:"GET",responseType:"json",timeout:0};if("string"==typeof e)r.url=e;else for(var n in e)e.hasOwnProperty(n)&&(r[n]=e[n]);this.request=r}var r;return n(e,t),e.prototype._subscribe=function(t){return new m(t,this.request)},e.create=((r=function(t){return new e(t)}).get=u,r.post=h,r.delete=f,r.put=d,r.patch=p,r.getJSON=y,r),e}(s.Observable);e.AjaxObservable=g;var m=function(t){function e(e,r){t.call(this,e),this.request=r,this.done=!1;var n=r.headers=r.headers||{};r.crossDomain||n["X-Requested-With"]||(n["X-Requested-With"]="XMLHttpRequest"),"Content-Type"in n||i.root.FormData&&r.body instanceof i.root.FormData||void 0===r.body||(n["Content-Type"]="application/x-www-form-urlencoded; charset=UTF-8"),r.body=this.serializeBody(r.body,r.headers["Content-Type"]),this.send()}return n(e,t),e.prototype.next=function(t){this.done=!0;var e=this.xhr,r=this.request,n=this.destination,i=new b(t,e,r);n.next(i)},e.prototype.send=function(){var t=this.request,e=this.request,r=e.user,n=e.method,i=e.url,s=e.async,l=e.password,c=e.headers,u=e.body,h=t.createXHR,f=o.tryCatch(h).call(t);if(f===a.errorObject)this.error(a.errorObject.e);else{this.xhr=f,this.setupEvents(f,t);if((r?o.tryCatch(f.open).call(f,n,i,s,r,l):o.tryCatch(f.open).call(f,n,i,s))===a.errorObject)return this.error(a.errorObject.e),null;if(s&&(f.timeout=t.timeout,f.responseType=t.responseType),"withCredentials"in f&&(f.withCredentials=!!t.withCredentials),this.setHeaders(f,c),(u?o.tryCatch(f.send).call(f,u):o.tryCatch(f.send).call(f))===a.errorObject)return this.error(a.errorObject.e),null}return f},e.prototype.serializeBody=function(t,e){if(!t||"string"==typeof t)return t;if(i.root.FormData&&t instanceof i.root.FormData)return t;if(e){var r=e.indexOf(";");-1!==r&&(e=e.substring(0,r))}switch(e){case"application/x-www-form-urlencoded":return Object.keys(t).map(function(e){return encodeURI(e)+"="+encodeURI(t[e])}).join("&");case"application/json":return JSON.stringify(t);default:return t}},e.prototype.setHeaders=function(t,e){for(var r in e)e.hasOwnProperty(r)&&t.setRequestHeader(r,e[r])},e.prototype.setupEvents=function(t,e){var r=e.progressSubscriber;function n(t){var e=n,r=e.subscriber,i=e.progressSubscriber,o=e.request;i&&i.error(t),r.error(new _(this,o))}if(t.ontimeout=n,n.request=e,n.subscriber=this,n.progressSubscriber=r,t.upload&&"withCredentials"in t){var o,a;if(r)o=function(t){o.progressSubscriber.next(t)},i.root.XDomainRequest?t.onprogress=o:t.upload.onprogress=o,o.progressSubscriber=r;a=function(t){var e=a,r=e.progressSubscriber,n=e.subscriber,i=e.request;r&&r.error(t),n.error(new x("ajax error",this,i))},t.onerror=a,a.request=e,a.subscriber=this,a.progressSubscriber=r}function s(t){var e=s,r=e.subscriber,n=e.progressSubscriber,i=e.request;if(4===this.readyState){var o=1223===this.status?204:this.status,a="text"===this.responseType?this.response||this.responseText:this.response;0===o&&(o=a?200:0),200<=o&&o<300?(n&&n.complete(),r.next(t),r.complete()):(n&&n.error(t),r.error(new x("ajax error "+o,this,i)))}}t.onreadystatechange=s,s.subscriber=this,s.progressSubscriber=r,s.request=e},e.prototype.unsubscribe=function(){var e=this.done,r=this.xhr;!e&&r&&4!==r.readyState&&"function"==typeof r.abort&&r.abort(),t.prototype.unsubscribe.call(this)},e}(l.Subscriber);e.AjaxSubscriber=m;var b=function(){return function(t,e,r){this.originalEvent=t,this.xhr=e,this.request=r,this.status=e.status,this.responseType=e.responseType||r.responseType,this.response=w(this.responseType,e)}}();e.AjaxResponse=b;var x=function(t){function e(e,r,n){t.call(this,e),this.message=e,this.xhr=r,this.request=n,this.status=r.status,this.responseType=r.responseType||n.responseType,this.response=w(this.responseType,r)}return n(e,t),e}(Error);function w(t,e){switch(t){case"json":return"response"in e?e.responseType?e.response:JSON.parse(e.response||e.responseText||"null"):JSON.parse(e.responseText||"null");case"xml":return e.responseXML;case"text":default:return"response"in e?e.response:e.responseText}}e.AjaxError=x;var _=function(t){function e(e,r){t.call(this,"ajax timeout",e,r)}return n(e,t),e}(x);e.AjaxTimeoutError=_},function(t,e,r){"use strict";var n=r(561),i=r(562);e.queue=new i.QueueScheduler(n.QueueAction)},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function n(){this.constructor=t}t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=r(7),o=r(8);e.buffer=function(t){return function(e){return e.lift(new a(t))}};var a=function(){function t(t){this.closingNotifier=t}return t.prototype.call=function(t,e){return e.subscribe(new s(t,this.closingNotifier))},t}(),s=function(t){function e(e,r){t.call(this,e),this.buffer=[],this.add(o.subscribeToResult(this,r))}return n(e,t),e.prototype._next=function(t){this.buffer.push(t)},e.prototype.notifyNext=function(t,e,r,n,i){var o=this.buffer;this.buffer=[],this.destination.next(o)},e}(i.OuterSubscriber)},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function n(){this.constructor=t}t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=r(2);e.bufferCount=function(t,e){return void 0===e&&(e=null),function(r){return r.lift(new o(t,e))}};var o=function(){function t(t,e){this.bufferSize=t,this.startBufferEvery=e,this.subscriberClass=e&&t!==e?s:a}return t.prototype.call=function(t,e){return e.subscribe(new this.subscriberClass(t,this.bufferSize,this.startBufferEvery))},t}(),a=function(t){function e(e,r){t.call(this,e),this.bufferSize=r,this.buffer=[]}return n(e,t),e.prototype._next=function(t){var e=this.buffer;e.push(t),e.length==this.bufferSize&&(this.destination.next(e),this.buffer=[])},e.prototype._complete=function(){var e=this.buffer;e.length>0&&this.destination.next(e),t.prototype._complete.call(this)},e}(i.Subscriber),s=function(t){function e(e,r,n){t.call(this,e),this.bufferSize=r,this.startBufferEvery=n,this.buffers=[],this.count=0}return n(e,t),e.prototype._next=function(t){var e=this.bufferSize,r=this.startBufferEvery,n=this.buffers,i=this.count;this.count++,i%r==0&&n.push([]);for(var o=n.length;o--;){var a=n[o];a.push(t),a.length===e&&(n.splice(o,1),this.destination.next(a))}},e.prototype._complete=function(){for(var e=this.buffers,r=this.destination;e.length>0;){var n=e.shift();n.length>0&&r.next(n)}t.prototype._complete.call(this)},e}(i.Subscriber)},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function n(){this.constructor=t}t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=r(10),o=r(2),a=r(29);e.bufferTime=function(t){var e=arguments.length,r=i.async;a.isScheduler(arguments[arguments.length-1])&&(r=arguments[arguments.length-1],e--);var n=null;e>=2&&(n=arguments[1]);var o=Number.POSITIVE_INFINITY;return e>=3&&(o=arguments[2]),function(e){return e.lift(new s(t,n,o,r))}};var s=function(){function t(t,e,r,n){this.bufferTimeSpan=t,this.bufferCreationInterval=e,this.maxBufferSize=r,this.scheduler=n}return t.prototype.call=function(t,e){return e.subscribe(new c(t,this.bufferTimeSpan,this.bufferCreationInterval,this.maxBufferSize,this.scheduler))},t}(),l=function(){return function(){this.buffer=[]}}(),c=function(t){function e(e,r,n,i,o){t.call(this,e),this.bufferTimeSpan=r,this.bufferCreationInterval=n,this.maxBufferSize=i,this.scheduler=o,this.contexts=[];var a=this.openContext();if(this.timespanOnly=null==n||n<0,this.timespanOnly){var s={subscriber:this,context:a,bufferTimeSpan:r};this.add(a.closeAction=o.schedule(u,r,s))}else{var l={subscriber:this,context:a},c={bufferTimeSpan:r,bufferCreationInterval:n,subscriber:this,scheduler:o};this.add(a.closeAction=o.schedule(f,r,l)),this.add(o.schedule(h,n,c))}}return n(e,t),e.prototype._next=function(t){for(var e,r=this.contexts,n=r.length,i=0;i<n;i++){var o=r[i],a=o.buffer;a.push(t),a.length==this.maxBufferSize&&(e=o)}e&&this.onBufferFull(e)},e.prototype._error=function(e){this.contexts.length=0,t.prototype._error.call(this,e)},e.prototype._complete=function(){for(var e=this.contexts,r=this.destination;e.length>0;){var n=e.shift();r.next(n.buffer)}t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){this.contexts=null},e.prototype.onBufferFull=function(t){this.closeContext(t);var e=t.closeAction;if(e.unsubscribe(),this.remove(e),!this.closed&&this.timespanOnly){t=this.openContext();var r=this.bufferTimeSpan,n={subscriber:this,context:t,bufferTimeSpan:r};this.add(t.closeAction=this.scheduler.schedule(u,r,n))}},e.prototype.openContext=function(){var t=new l;return this.contexts.push(t),t},e.prototype.closeContext=function(t){this.destination.next(t.buffer);var e=this.contexts;(e?e.indexOf(t):-1)>=0&&e.splice(e.indexOf(t),1)},e}(o.Subscriber);function u(t){var e=t.subscriber,r=t.context;r&&e.closeContext(r),e.closed||(t.context=e.openContext(),t.context.closeAction=this.schedule(t,t.bufferTimeSpan))}function h(t){var e=t.bufferCreationInterval,r=t.bufferTimeSpan,n=t.subscriber,i=t.scheduler,o=n.openContext();n.closed||(n.add(o.closeAction=i.schedule(f,r,{subscriber:n,context:o})),this.schedule(t,e))}function f(t){var e=t.subscriber,r=t.context;e.closeContext(r)}},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function n(){this.constructor=t}t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=r(13),o=r(8),a=r(7);e.bufferToggle=function(t,e){return function(r){return r.lift(new s(t,e))}};var s=function(){function t(t,e){this.openings=t,this.closingSelector=e}return t.prototype.call=function(t,e){return e.subscribe(new l(t,this.openings,this.closingSelector))},t}(),l=function(t){function e(e,r,n){t.call(this,e),this.openings=r,this.closingSelector=n,this.contexts=[],this.add(o.subscribeToResult(this,r))}return n(e,t),e.prototype._next=function(t){for(var e=this.contexts,r=e.length,n=0;n<r;n++)e[n].buffer.push(t)},e.prototype._error=function(e){for(var r=this.contexts;r.length>0;){var n=r.shift();n.subscription.unsubscribe(),n.buffer=null,n.subscription=null}this.contexts=null,t.prototype._error.call(this,e)},e.prototype._complete=function(){for(var e=this.contexts;e.length>0;){var r=e.shift();this.destination.next(r.buffer),r.subscription.unsubscribe(),r.buffer=null,r.subscription=null}this.contexts=null,t.prototype._complete.call(this)},e.prototype.notifyNext=function(t,e,r,n,i){t?this.closeBuffer(t):this.openBuffer(e)},e.prototype.notifyComplete=function(t){this.closeBuffer(t.context)},e.prototype.openBuffer=function(t){try{var e=this.closingSelector.call(this,t);e&&this.trySubscribe(e)}catch(t){this._error(t)}},e.prototype.closeBuffer=function(t){var e=this.contexts;if(e&&t){var r=t.buffer,n=t.subscription;this.destination.next(r),e.splice(e.indexOf(t),1),this.remove(n),n.unsubscribe()}},e.prototype.trySubscribe=function(t){var e=this.contexts,r=new i.Subscription,n={buffer:[],subscription:r};e.push(n);var a=o.subscribeToResult(this,t,n);!a||a.closed?this.closeBuffer(n):(a.context=n,this.add(a),r.add(a))},e}(a.OuterSubscriber)},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function n(){this.constructor=t}t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=r(13),o=r(17),a=r(16),s=r(7),l=r(8);e.bufferWhen=function(t){return function(e){return e.lift(new c(t))}};var c=function(){function t(t){this.closingSelector=t}return t.prototype.call=function(t,e){return e.subscribe(new u(t,this.closingSelector))},t}(),u=function(t){function e(e,r){t.call(this,e),this.closingSelector=r,this.subscribing=!1,this.openBuffer()}return n(e,t),e.prototype._next=function(t){this.buffer.push(t)},e.prototype._complete=function(){var e=this.buffer;e&&this.destination.next(e),t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){this.buffer=null,this.subscribing=!1},e.prototype.notifyNext=function(t,e,r,n,i){this.openBuffer()},e.prototype.notifyComplete=function(){this.subscribing?this.complete():this.openBuffer()},e.prototype.openBuffer=function(){var t=this.closingSubscription;t&&(this.remove(t),t.unsubscribe());var e=this.buffer;this.buffer&&this.destination.next(e),this.buffer=[];var r=o.tryCatch(this.closingSelector)();r===a.errorObject?this.error(a.errorObject.e):(t=new i.Subscription,this.closingSubscription=t,this.add(t),this.subscribing=!0,t.add(l.subscribeToResult(this,r)),this.subscribing=!1)},e}(s.OuterSubscriber)},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function n(){this.constructor=t}t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=r(7),o=r(8);e.catchError=function(t){return function(e){var r=new a(t),n=e.lift(r);return r.caught=n}};var a=function(){function t(t){this.selector=t}return t.prototype.call=function(t,e){return e.subscribe(new s(t,this.selector,this.caught))},t}(),s=function(t){function e(e,r,n){t.call(this,e),this.selector=r,this.caught=n}return n(e,t),e.prototype.error=function(e){if(!this.isStopped){var r=void 0;try{r=this.selector(e,this.caught)}catch(e){return void t.prototype.error.call(this,e)}this._unsubscribeAndRecycle(),this.add(o.subscribeToResult(this,r))}},e}(i.OuterSubscriber)},function(t,e,r){"use strict";var n=r(80);e.combineAll=function(t){return function(e){return e.lift(new n.CombineLatestOperator(t))}}},function(t,e,r){"use strict";var n=r(54),i=r(54);e.concatStatic=i.concat,e.concat=function(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];return function(e){return e.lift.call(n.concat.apply(void 0,[e].concat(t)))}}},function(t,e,r){"use strict";var n=r(130);e.concatMapTo=function(t,e){return n.concatMap(function(){return t},e)}},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function n(){this.constructor=t}t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=r(2);e.count=function(t){return function(e){return e.lift(new o(t,e))}};var o=function(){function t(t,e){this.predicate=t,this.source=e}return t.prototype.call=function(t,e){return e.subscribe(new a(t,this.predicate,this.source))},t}(),a=function(t){function e(e,r,n){t.call(this,e),this.predicate=r,this.source=n,this.count=0,this.index=0}return n(e,t),e.prototype._next=function(t){this.predicate?this._tryPredicate(t):this.count++},e.prototype._tryPredicate=function(t){var e;try{e=this.predicate(t,this.index++,this.source)}catch(t){return void this.destination.error(t)}e&&this.count++},e.prototype._complete=function(){this.destination.next(this.count),this.destination.complete()},e}(i.Subscriber)},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function n(){this.constructor=t}t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=r(2);e.dematerialize=function(){return function(t){return t.lift(new o)}};var o=function(){function t(){}return t.prototype.call=function(t,e){return e.subscribe(new a(t))},t}(),a=function(t){function e(e){t.call(this,e)}return n(e,t),e.prototype._next=function(t){t.observe(this.destination)},e}(i.Subscriber)},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function n(){this.constructor=t}t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=r(7),o=r(8);e.debounce=function(t){return function(e){return e.lift(new a(t))}};var a=function(){function t(t){this.durationSelector=t}return t.prototype.call=function(t,e){return e.subscribe(new s(t,this.durationSelector))},t}(),s=function(t){function e(e,r){t.call(this,e),this.durationSelector=r,this.hasValue=!1,this.durationSubscription=null}return n(e,t),e.prototype._next=function(t){try{var e=this.durationSelector.call(this,t);e&&this._tryNext(t,e)}catch(t){this.destination.error(t)}},e.prototype._complete=function(){this.emitValue(),this.destination.complete()},e.prototype._tryNext=function(t,e){var r=this.durationSubscription;this.value=t,this.hasValue=!0,r&&(r.unsubscribe(),this.remove(r)),(r=o.subscribeToResult(this,e)).closed||this.add(this.durationSubscription=r)},e.prototype.notifyNext=function(t,e,r,n,i){this.emitValue()},e.prototype.notifyComplete=function(){this.emitValue()},e.prototype.emitValue=function(){if(this.hasValue){var e=this.value,r=this.durationSubscription;r&&(this.durationSubscription=null,r.unsubscribe(),this.remove(r)),this.value=null,this.hasValue=!1,t.prototype._next.call(this,e)}},e}(i.OuterSubscriber)},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function n(){this.constructor=t}t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=r(2),o=r(10);e.debounceTime=function(t,e){return void 0===e&&(e=o.async),function(r){return r.lift(new a(t,e))}};var a=function(){function t(t,e){this.dueTime=t,this.scheduler=e}return t.prototype.call=function(t,e){return e.subscribe(new s(t,this.dueTime,this.scheduler))},t}(),s=function(t){function e(e,r,n){t.call(this,e),this.dueTime=r,this.scheduler=n,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}return n(e,t),e.prototype._next=function(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(l,this.dueTime,this))},e.prototype._complete=function(){this.debouncedNext(),this.destination.complete()},e.prototype.debouncedNext=function(){this.clearDebounce(),this.hasValue&&(this.destination.next(this.lastValue),this.lastValue=null,this.hasValue=!1)},e.prototype.clearDebounce=function(){var t=this.debouncedSubscription;null!==t&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)},e}(i.Subscriber);function l(t){t.debouncedNext()}},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function n(){this.constructor=t}t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=r(10),o=r(84),a=r(2),s=r(55);e.delay=function(t,e){void 0===e&&(e=i.async);var r=o.isDate(t)?+t-e.now():Math.abs(t);return function(t){return t.lift(new l(r,e))}};var l=function(){function t(t,e){this.delay=t,this.scheduler=e}return t.prototype.call=function(t,e){return e.subscribe(new c(t,this.delay,this.scheduler))},t}(),c=function(t){function e(e,r,n){t.call(this,e),this.delay=r,this.scheduler=n,this.queue=[],this.active=!1,this.errored=!1}return n(e,t),e.dispatch=function(t){for(var e=t.source,r=e.queue,n=t.scheduler,i=t.destination;r.length>0&&r[0].time-n.now()<=0;)r.shift().notification.observe(i);if(r.length>0){var o=Math.max(0,r[0].time-n.now());this.schedule(t,o)}else e.active=!1},e.prototype._schedule=function(t){this.active=!0,this.add(t.schedule(e.dispatch,this.delay,{source:this,destination:this.destination,scheduler:t}))},e.prototype.scheduleNotification=function(t){if(!0!==this.errored){var e=this.scheduler,r=new u(e.now()+this.delay,t);this.queue.push(r),!1===this.active&&this._schedule(e)}},e.prototype._next=function(t){this.scheduleNotification(s.Notification.createNext(t))},e.prototype._error=function(t){this.errored=!0,this.queue=[],this.destination.error(t)},e.prototype._complete=function(){this.scheduleNotification(s.Notification.createComplete())},e}(a.Subscriber),u=function(){return function(t,e){this.time=t,this.notification=e}}()},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function n(){this.constructor=t}t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=r(2),o=r(0),a=r(7),s=r(8);e.delayWhen=function(t,e){return e?function(r){return new u(r,e).lift(new l(t))}:function(e){return e.lift(new l(t))}};var l=function(){function t(t){this.delayDurationSelector=t}return t.prototype.call=function(t,e){return e.subscribe(new c(t,this.delayDurationSelector))},t}(),c=function(t){function e(e,r){t.call(this,e),this.delayDurationSelector=r,this.completed=!1,this.delayNotifierSubscriptions=[],this.values=[]}return n(e,t),e.prototype.notifyNext=function(t,e,r,n,i){this.destination.next(t),this.removeSubscription(i),this.tryComplete()},e.prototype.notifyError=function(t,e){this._error(t)},e.prototype.notifyComplete=function(t){var e=this.removeSubscription(t);e&&this.destination.next(e),this.tryComplete()},e.prototype._next=function(t){try{var e=this.delayDurationSelector(t);e&&this.tryDelay(e,t)}catch(t){this.destination.error(t)}},e.prototype._complete=function(){this.completed=!0,this.tryComplete()},e.prototype.removeSubscription=function(t){t.unsubscribe();var e=this.delayNotifierSubscriptions.indexOf(t),r=null;return-1!==e&&(r=this.values[e],this.delayNotifierSubscriptions.splice(e,1),this.values.splice(e,1)),r},e.prototype.tryDelay=function(t,e){var r=s.subscribeToResult(this,t,e);r&&!r.closed&&(this.add(r),this.delayNotifierSubscriptions.push(r)),this.values.push(e)},e.prototype.tryComplete=function(){this.completed&&0===this.delayNotifierSubscriptions.length&&this.destination.complete()},e}(a.OuterSubscriber),u=function(t){function e(e,r){t.call(this),this.source=e,this.subscriptionDelay=r}return n(e,t),e.prototype._subscribe=function(t){this.subscriptionDelay.subscribe(new h(t,this.source))},e}(o.Observable),h=function(t){function e(e,r){t.call(this),this.parent=e,this.source=r,this.sourceSubscribed=!1}return n(e,t),e.prototype._next=function(t){this.subscribeToSource()},e.prototype._error=function(t){this.unsubscribe(),this.parent.error(t)},e.prototype._complete=function(){this.subscribeToSource()},e.prototype.subscribeToSource=function(){this.sourceSubscribed||(this.sourceSubscribed=!0,this.unsubscribe(),this.source.subscribe(this.parent))},e}(i.Subscriber)},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function n(){this.constructor=t}t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=r(7),o=r(8),a=r(604);e.distinct=function(t,e){return function(r){return r.lift(new s(t,e))}};var s=function(){function t(t,e){this.keySelector=t,this.flushes=e}return t.prototype.call=function(t,e){return e.subscribe(new l(t,this.keySelector,this.flushes))},t}(),l=function(t){function e(e,r,n){t.call(this,e),this.keySelector=r,this.values=new a.Set,n&&this.add(o.subscribeToResult(this,n))}return n(e,t),e.prototype.notifyNext=function(t,e,r,n,i){this.values.clear()},e.prototype.notifyError=function(t,e){this._error(t)},e.prototype._next=function(t){this.keySelector?this._useKeySelector(t):this._finalizeNext(t,t)},e.prototype._useKeySelector=function(t){var e,r=this.destination;try{e=this.keySelector(t)}catch(t){return void r.error(t)}this._finalizeNext(e,t)},e.prototype._finalizeNext=function(t,e){var r=this.values;r.has(t)||(r.add(t),this.destination.next(e))},e}(i.OuterSubscriber);e.DistinctSubscriber=l},function(t,e,r){"use strict";var n=r(132);e.distinctUntilKeyChanged=function(t,e){return n.distinctUntilChanged(function(r,n){return e?e(r[t],n[t]):r[t]===n[t]})}},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function n(){this.constructor=t}t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=r(2);e.tap=function(t,e,r){return function(n){return n.lift(new o(t,e,r))}};var o=function(){function t(t,e,r){this.nextOrObserver=t,this.error=e,this.complete=r}return t.prototype.call=function(t,e){return e.subscribe(new a(t,this.nextOrObserver,this.error,this.complete))},t}(),a=function(t){function e(e,r,n,o){t.call(this,e);var a=new i.Subscriber(r,n,o);a.syncErrorThrowable=!0,this.add(a),this.safeSubscriber=a}return n(e,t),e.prototype._next=function(t){var e=this.safeSubscriber;e.next(t),e.syncErrorThrown?this.destination.error(e.syncErrorValue):this.destination.next(t)},e.prototype._error=function(t){var e=this.safeSubscriber;e.error(t),e.syncErrorThrown?this.destination.error(e.syncErrorValue):this.destination.error(t)},e.prototype._complete=function(){var t=this.safeSubscriber;t.complete(),t.syncErrorThrown?this.destination.error(t.syncErrorValue):this.destination.complete()},e}(i.Subscriber)},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function n(){this.constructor=t}t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=r(7),o=r(8);e.exhaust=function(){return function(t){return t.lift(new a)}};var a=function(){function t(){}return t.prototype.call=function(t,e){return e.subscribe(new s(t))},t}(),s=function(t){function e(e){t.call(this,e),this.hasCompleted=!1,this.hasSubscription=!1}return n(e,t),e.prototype._next=function(t){this.hasSubscription||(this.hasSubscription=!0,this.add(o.subscribeToResult(this,t)))},e.prototype._complete=function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete()},e.prototype.notifyComplete=function(t){this.remove(t),this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()},e}(i.OuterSubscriber)},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function n(){this.constructor=t}t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=r(7),o=r(8);e.exhaustMap=function(t,e){return function(r){return r.lift(new a(t,e))}};var a=function(){function t(t,e){this.project=t,this.resultSelector=e}return t.prototype.call=function(t,e){return e.subscribe(new s(t,this.project,this.resultSelector))},t}(),s=function(t){function e(e,r,n){t.call(this,e),this.project=r,this.resultSelector=n,this.hasSubscription=!1,this.hasCompleted=!1,this.index=0}return n(e,t),e.prototype._next=function(t){this.hasSubscription||this.tryNext(t)},e.prototype.tryNext=function(t){var e=this.index++,r=this.destination;try{var n=this.project(t,e);this.hasSubscription=!0,this.add(o.subscribeToResult(this,n,t,e))}catch(t){r.error(t)}},e.prototype._complete=function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete()},e.prototype.notifyNext=function(t,e,r,n,i){var o=this.resultSelector,a=this.destination;o?this.trySelectResult(t,e,r,n):a.next(e)},e.prototype.trySelectResult=function(t,e,r,n){var i=this.resultSelector,o=this.destination;try{var a=i(t,e,r,n);o.next(a)}catch(t){o.error(t)}},e.prototype.notifyError=function(t){this.destination.error(t)},e.prototype.notifyComplete=function(t){this.remove(t),this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()},e}(i.OuterSubscriber)},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function n(){this.constructor=t}t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=r(17),o=r(16),a=r(7),s=r(8);e.expand=function(t,e,r){return void 0===e&&(e=Number.POSITIVE_INFINITY),void 0===r&&(r=void 0),e=(e||0)<1?Number.POSITIVE_INFINITY:e,function(n){return n.lift(new l(t,e,r))}};var l=function(){function t(t,e,r){this.project=t,this.concurrent=e,this.scheduler=r}return t.prototype.call=function(t,e){return e.subscribe(new c(t,this.project,this.concurrent,this.scheduler))},t}();e.ExpandOperator=l;var c=function(t){function e(e,r,n,i){t.call(this,e),this.project=r,this.concurrent=n,this.scheduler=i,this.index=0,this.active=0,this.hasCompleted=!1,n<Number.POSITIVE_INFINITY&&(this.buffer=[])}return n(e,t),e.dispatch=function(t){var e=t.subscriber,r=t.result,n=t.value,i=t.index;e.subscribeToProjection(r,n,i)},e.prototype._next=function(t){var r=this.destination;if(r.closed)this._complete();else{var n=this.index++;if(this.active<this.concurrent){r.next(t);var a=i.tryCatch(this.project)(t,n);if(a===o.errorObject)r.error(o.errorObject.e);else if(this.scheduler){var s={subscriber:this,result:a,value:t,index:n};this.add(this.scheduler.schedule(e.dispatch,0,s))}else this.subscribeToProjection(a,t,n)}else this.buffer.push(t)}},e.prototype.subscribeToProjection=function(t,e,r){this.active++,this.add(s.subscribeToResult(this,t,e,r))},e.prototype._complete=function(){this.hasCompleted=!0,this.hasCompleted&&0===this.active&&this.destination.complete()},e.prototype.notifyNext=function(t,e,r,n,i){this._next(e)},e.prototype.notifyComplete=function(t){var e=this.buffer;this.remove(t),this.active--,e&&e.length>0&&this._next(e.shift()),this.hasCompleted&&0===this.active&&this.destination.complete()},e}(a.OuterSubscriber);e.ExpandSubscriber=c},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function n(){this.constructor=t}t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=r(2),o=r(61);e.elementAt=function(t,e){return function(r){return r.lift(new a(t,e))}};var a=function(){function t(t,e){if(this.index=t,this.defaultValue=e,t<0)throw new o.ArgumentOutOfRangeError}return t.prototype.call=function(t,e){return e.subscribe(new s(t,this.index,this.defaultValue))},t}(),s=function(t){function e(e,r,n){t.call(this,e),this.index=r,this.defaultValue=n}return n(e,t),e.prototype._next=function(t){0==this.index--&&(this.destination.next(t),this.destination.complete())},e.prototype._complete=function(){var t=this.destination;this.index>=0&&(void 0!==this.defaultValue?t.next(this.defaultValue):t.error(new o.ArgumentOutOfRangeError)),t.complete()},e}(i.Subscriber)},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function n(){this.constructor=t}t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=r(2),o=r(13);e.finalize=function(t){return function(e){return e.lift(new a(t))}};var a=function(){function t(t){this.callback=t}return t.prototype.call=function(t,e){return e.subscribe(new s(t,this.callback))},t}(),s=function(t){function e(e,r){t.call(this,e),this.add(new o.Subscription(r))}return n(e,t),e}(i.Subscriber)},function(t,e,r){"use strict";var n=r(134);e.findIndex=function(t,e){return function(r){return r.lift(new n.FindValueOperator(t,r,!0,e))}}},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function n(){this.constructor=t}t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=r(2),o=r(87);e.first=function(t,e,r){return function(n){return n.lift(new a(t,e,r,n))}};var a=function(){function t(t,e,r,n){this.predicate=t,this.resultSelector=e,this.defaultValue=r,this.source=n}return t.prototype.call=function(t,e){return e.subscribe(new s(t,this.predicate,this.resultSelector,this.defaultValue,this.source))},t}(),s=function(t){function e(e,r,n,i,o){t.call(this,e),this.predicate=r,this.resultSelector=n,this.defaultValue=i,this.source=o,this.index=0,this.hasCompleted=!1,this._emitted=!1}return n(e,t),e.prototype._next=function(t){var e=this.index++;this.predicate?this._tryPredicate(t,e):this._emit(t,e)},e.prototype._tryPredicate=function(t,e){var r;try{r=this.predicate(t,e,this.source)}catch(t){return void this.destination.error(t)}r&&this._emit(t,e)},e.prototype._emit=function(t,e){this.resultSelector?this._tryResultSelector(t,e):this._emitFinal(t)},e.prototype._tryResultSelector=function(t,e){var r;try{r=this.resultSelector(t,e)}catch(t){return void this.destination.error(t)}this._emitFinal(r)},e.prototype._emitFinal=function(t){var e=this.destination;this._emitted||(this._emitted=!0,e.next(t),e.complete(),this.hasCompleted=!0)},e.prototype._complete=function(){var t=this.destination;this.hasCompleted||void 0===this.defaultValue?this.hasCompleted||t.error(new o.EmptyError):(t.next(this.defaultValue),t.complete())},e}(i.Subscriber)},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function n(){this.constructor=t}t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=r(2),o=r(13),a=r(0),s=r(15),l=r(631),c=r(633);e.groupBy=function(t,e,r,n){return function(i){return i.lift(new u(t,e,r,n))}};var u=function(){function t(t,e,r,n){this.keySelector=t,this.elementSelector=e,this.durationSelector=r,this.subjectSelector=n}return t.prototype.call=function(t,e){return e.subscribe(new h(t,this.keySelector,this.elementSelector,this.durationSelector,this.subjectSelector))},t}(),h=function(t){function e(e,r,n,i,o){t.call(this,e),this.keySelector=r,this.elementSelector=n,this.durationSelector=i,this.subjectSelector=o,this.groups=null,this.attemptedToUnsubscribe=!1,this.count=0}return n(e,t),e.prototype._next=function(t){var e;try{e=this.keySelector(t)}catch(t){return void this.error(t)}this._group(t,e)},e.prototype._group=function(t,e){var r=this.groups;r||(r=this.groups="string"==typeof e?new c.FastMap:new l.Map);var n,i=r.get(e);if(this.elementSelector)try{n=this.elementSelector(t)}catch(t){this.error(t)}else n=t;if(!i){i=this.subjectSelector?this.subjectSelector():new s.Subject,r.set(e,i);var o=new d(e,i,this);if(this.destination.next(o),this.durationSelector){var a=void 0;try{a=this.durationSelector(new d(e,i))}catch(t){return void this.error(t)}this.add(a.subscribe(new f(e,i,this)))}}i.closed||i.next(n)},e.prototype._error=function(t){var e=this.groups;e&&(e.forEach(function(e,r){e.error(t)}),e.clear()),this.destination.error(t)},e.prototype._complete=function(){var t=this.groups;t&&(t.forEach(function(t,e){t.complete()}),t.clear()),this.destination.complete()},e.prototype.removeGroup=function(t){this.groups.delete(t)},e.prototype.unsubscribe=function(){this.closed||(this.attemptedToUnsubscribe=!0,0===this.count&&t.prototype.unsubscribe.call(this))},e}(i.Subscriber),f=function(t){function e(e,r,n){t.call(this,r),this.key=e,this.group=r,this.parent=n}return n(e,t),e.prototype._next=function(t){this.complete()},e.prototype._unsubscribe=function(){var t=this.parent,e=this.key;this.key=this.parent=null,t&&t.removeGroup(e)},e}(i.Subscriber),d=function(t){function e(e,r,n){t.call(this),this.key=e,this.groupSubject=r,this.refCountSubscription=n}return n(e,t),e.prototype._subscribe=function(t){var e=new o.Subscription,r=this.refCountSubscription,n=this.groupSubject;return r&&!r.closed&&e.add(new p(r)),e.add(n.subscribe(t)),e},e}(a.Observable);e.GroupedObservable=d;var p=function(t){function e(e){t.call(this),this.parent=e,e.count++}return n(e,t),e.prototype.unsubscribe=function(){var e=this.parent;e.closed||this.closed||(t.prototype.unsubscribe.call(this),e.count-=1,0===e.count&&e.attemptedToUnsubscribe&&e.unsubscribe())},e}(o.Subscription)},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function n(){this.constructor=t}t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=r(2),o=r(125);e.ignoreElements=function(){return function(t){return t.lift(new a)}};var a=function(){function t(){}return t.prototype.call=function(t,e){return e.subscribe(new s(t))},t}(),s=function(t){function e(){t.apply(this,arguments)}return n(e,t),e.prototype._next=function(t){o.noop()},e}(i.Subscriber)},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function n(){this.constructor=t}t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=r(2);e.isEmpty=function(){return function(t){return t.lift(new o)}};var o=function(){function t(){}return t.prototype.call=function(t,e){return e.subscribe(new a(t))},t}(),a=function(t){function e(e){t.call(this,e)}return n(e,t),e.prototype.notifyComplete=function(t){var e=this.destination;e.next(t),e.complete()},e.prototype._next=function(t){this.notifyComplete(!1)},e.prototype._complete=function(){this.notifyComplete(!0)},e}(i.Subscriber)},function(t,e,r){"use strict";var n=r(10),i=r(135),o=r(209);e.auditTime=function(t,e){return void 0===e&&(e=n.async),i.audit(function(){return o.timer(t,e)})}},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function n(){this.constructor=t}t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=r(2),o=r(87);e.last=function(t,e,r){return function(n){return n.lift(new a(t,e,r,n))}};var a=function(){function t(t,e,r,n){this.predicate=t,this.resultSelector=e,this.defaultValue=r,this.source=n}return t.prototype.call=function(t,e){return e.subscribe(new s(t,this.predicate,this.resultSelector,this.defaultValue,this.source))},t}(),s=function(t){function e(e,r,n,i,o){t.call(this,e),this.predicate=r,this.resultSelector=n,this.defaultValue=i,this.source=o,this.hasValue=!1,this.index=0,void 0!==i&&(this.lastValue=i,this.hasValue=!0)}return n(e,t),e.prototype._next=function(t){var e=this.index++;if(this.predicate)this._tryPredicate(t,e);else{if(this.resultSelector)return void this._tryResultSelector(t,e);this.lastValue=t,this.hasValue=!0}},e.prototype._tryPredicate=function(t,e){var r;try{r=this.predicate(t,e,this.source)}catch(t){return void this.destination.error(t)}if(r){if(this.resultSelector)return void this._tryResultSelector(t,e);this.lastValue=t,this.hasValue=!0}},e.prototype._tryResultSelector=function(t,e){var r;try{r=this.resultSelector(t,e)}catch(t){return void this.destination.error(t)}this.lastValue=r,this.hasValue=!0},e.prototype._complete=function(){var t=this.destination;this.hasValue?(t.next(this.lastValue),t.complete()):t.error(new o.EmptyError)},e}(i.Subscriber)},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function n(){this.constructor=t}t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=r(2);e.every=function(t,e){return function(r){return r.lift(new o(t,e,r))}};var o=function(){function t(t,e,r){this.predicate=t,this.thisArg=e,this.source=r}return t.prototype.call=function(t,e){return e.subscribe(new a(t,this.predicate,this.thisArg,this.source))},t}(),a=function(t){function e(e,r,n,i){t.call(this,e),this.predicate=r,this.thisArg=n,this.source=i,this.index=0,this.thisArg=n||this}return n(e,t),e.prototype.notifyComplete=function(t){this.destination.next(t),this.destination.complete()},e.prototype._next=function(t){var e=!1;try{e=this.predicate.call(this.thisArg,t,this.index++,this.source)}catch(t){return void this.destination.error(t)}e||this.notifyComplete(!1)},e.prototype._complete=function(){this.notifyComplete(!0)},e}(i.Subscriber)},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function n(){this.constructor=t}t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=r(2);e.mapTo=function(t){return function(e){return e.lift(new o(t))}};var o=function(){function t(t){this.value=t}return t.prototype.call=function(t,e){return e.subscribe(new a(t,this.value))},t}(),a=function(t){function e(e,r){t.call(this,e),this.value=r}return n(e,t),e.prototype._next=function(t){this.destination.next(this.value)},e}(i.Subscriber)},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function n(){this.constructor=t}t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=r(2),o=r(55);e.materialize=function(){return function(t){return t.lift(new a)}};var a=function(){function t(){}return t.prototype.call=function(t,e){return e.subscribe(new s(t))},t}(),s=function(t){function e(e){t.call(this,e)}return n(e,t),e.prototype._next=function(t){this.destination.next(o.Notification.createNext(t))},e.prototype._error=function(t){var e=this.destination;e.next(o.Notification.createError(t)),e.complete()},e.prototype._complete=function(){var t=this.destination;t.next(o.Notification.createComplete()),t.complete()},e}(i.Subscriber)},function(t,e,r){"use strict";var n=r(62);e.max=function(t){var e="function"==typeof t?function(e,r){return t(e,r)>0?e:r}:function(t,e){return t>e?t:e};return n.reduce(e)}},function(t,e,r){"use strict";var n=r(83),i=r(83);e.mergeStatic=i.merge,e.merge=function(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];return function(e){return e.lift.call(n.merge.apply(void 0,[e].concat(t)))}}},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function n(){this.constructor=t}t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=r(7),o=r(8);e.mergeMapTo=function(t,e,r){return void 0===r&&(r=Number.POSITIVE_INFINITY),"number"==typeof e&&(r=e,e=null),function(n){return n.lift(new a(t,e,r))}};var a=function(){function t(t,e,r){void 0===r&&(r=Number.POSITIVE_INFINITY),this.ish=t,this.resultSelector=e,this.concurrent=r}return t.prototype.call=function(t,e){return e.subscribe(new s(t,this.ish,this.resultSelector,this.concurrent))},t}();e.MergeMapToOperator=a;var s=function(t){function e(e,r,n,i){void 0===i&&(i=Number.POSITIVE_INFINITY),t.call(this,e),this.ish=r,this.resultSelector=n,this.concurrent=i,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}return n(e,t),e.prototype._next=function(t){if(this.active<this.concurrent){var e=this.resultSelector,r=this.index++,n=this.ish,i=this.destination;this.active++,this._innerSub(n,i,e,t,r)}else this.buffer.push(t)},e.prototype._innerSub=function(t,e,r,n,i){this.add(o.subscribeToResult(this,t,n,i))},e.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete()},e.prototype.notifyNext=function(t,e,r,n,i){var o=this.resultSelector,a=this.destination;o?this.trySelectResult(t,e,r,n):a.next(e)},e.prototype.trySelectResult=function(t,e,r,n){var i,o=this.resultSelector,a=this.destination;try{i=o(t,e,r,n)}catch(t){return void a.error(t)}a.next(i)},e.prototype.notifyError=function(t){this.destination.error(t)},e.prototype.notifyComplete=function(t){var e=this.buffer;this.remove(t),this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},e}(i.OuterSubscriber);e.MergeMapToSubscriber=s},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function n(){this.constructor=t}t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=r(17),o=r(16),a=r(8),s=r(7);e.mergeScan=function(t,e,r){return void 0===r&&(r=Number.POSITIVE_INFINITY),function(n){return n.lift(new l(t,e,r))}};var l=function(){function t(t,e,r){this.accumulator=t,this.seed=e,this.concurrent=r}return t.prototype.call=function(t,e){return e.subscribe(new c(t,this.accumulator,this.seed,this.concurrent))},t}();e.MergeScanOperator=l;var c=function(t){function e(e,r,n,i){t.call(this,e),this.accumulator=r,this.acc=n,this.concurrent=i,this.hasValue=!1,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}return n(e,t),e.prototype._next=function(t){if(this.active<this.concurrent){var e=this.index++,r=i.tryCatch(this.accumulator)(this.acc,t),n=this.destination;r===o.errorObject?n.error(o.errorObject.e):(this.active++,this._innerSub(r,t,e))}else this.buffer.push(t)},e.prototype._innerSub=function(t,e,r){this.add(a.subscribeToResult(this,t,e,r))},e.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&(!1===this.hasValue&&this.destination.next(this.acc),this.destination.complete())},e.prototype.notifyNext=function(t,e,r,n,i){var o=this.destination;this.acc=e,this.hasValue=!0,o.next(e)},e.prototype.notifyComplete=function(t){var e=this.buffer;this.remove(t),this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&(!1===this.hasValue&&this.destination.next(this.acc),this.destination.complete())},e}(s.OuterSubscriber);e.MergeScanSubscriber=c},function(t,e,r){"use strict";var n=r(62);e.min=function(t){var e="function"==typeof t?function(e,r){return t(e,r)<0?e:r}:function(t,e){return t<e?t:e};return n.reduce(e)}},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function n(){this.constructor=t}t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=r(15),o=r(0),a=r(2),s=r(13),l=r(138),c=function(t){function e(e,r){t.call(this),this.source=e,this.subjectFactory=r,this._refCount=0,this._isComplete=!1}return n(e,t),e.prototype._subscribe=function(t){return this.getSubject().subscribe(t)},e.prototype.getSubject=function(){var t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject},e.prototype.connect=function(){var t=this._connection;return t||(this._isComplete=!1,(t=this._connection=new s.Subscription).add(this.source.subscribe(new h(this.getSubject(),this))),t.closed?(this._connection=null,t=s.Subscription.EMPTY):this._connection=t),t},e.prototype.refCount=function(){return l.refCount()(this)},e}(o.Observable);e.ConnectableObservable=c;var u=c.prototype;e.connectableObservableDescriptor={operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:u._subscribe},_isComplete:{value:u._isComplete,writable:!0},getSubject:{value:u.getSubject},connect:{value:u.connect},refCount:{value:u.refCount}};var h=function(t){function e(e,r){t.call(this,e),this.connectable=r}return n(e,t),e.prototype._error=function(e){this._unsubscribe(),t.prototype._error.call(this,e)},e.prototype._complete=function(){this.connectable._isComplete=!0,this._unsubscribe(),t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){var t=this.connectable;if(t){this.connectable=null;var e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}},e}(i.SubjectSubscriber),f=(function(){function t(t){this.connectable=t}t.prototype.call=function(t,e){var r=this.connectable;r._refCount++;var n=new f(t,r),i=e.subscribe(n);return n.closed||(n.connection=r.connect()),i}}(),function(t){function e(e,r){t.call(this,e),this.connectable=r}return n(e,t),e.prototype._unsubscribe=function(){var t=this.connectable;if(t){this.connectable=null;var e=t._refCount;if(e<=0)this.connection=null;else if(t._refCount=e-1,e>1)this.connection=null;else{var r=this.connection,n=t._connection;this.connection=null,!n||r&&n!==r||n.unsubscribe()}}else this.connection=null},e}(a.Subscriber))},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function n(){this.constructor=t}t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=r(2);e.pairwise=function(){return function(t){return t.lift(new o)}};var o=function(){function t(){}return t.prototype.call=function(t,e){return e.subscribe(new a(t))},t}(),a=function(t){function e(e){t.call(this,e),this.hasPrev=!1}return n(e,t),e.prototype._next=function(t){this.hasPrev?this.destination.next([this.prev,t]):this.hasPrev=!0,this.prev=t},e}(i.Subscriber)},function(t,e,r){"use strict";var n=r(678),i=r(133);e.partition=function(t,e){return function(r){return[i.filter(t,e)(r),i.filter(n.not(t,e))(r)]}}},function(t,e,r){"use strict";var n=r(60);e.pluck=function(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];var r=t.length;if(0===r)throw new Error("list of properties cannot be empty.");return function(e){return n.map(function(t,e){return function(r){for(var n=r,i=0;i<e;i++){var o=n[t[i]];if(void 0===o)return;n=o}return n}}(t,r))(e)}}},function(t,e,r){"use strict";var n=r(15),i=r(40);e.publish=function(t){return t?i.multicast(function(){return new n.Subject},t):i.multicast(new n.Subject)}},function(t,e,r){"use strict";var n=r(256),i=r(40);e.publishBehavior=function(t){return function(e){return i.multicast(new n.BehaviorSubject(t))(e)}}},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function n(){this.constructor=t}t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=r(15),o=r(78),a=function(t){function e(e){t.call(this),this._value=e}return n(e,t),Object.defineProperty(e.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),e.prototype._subscribe=function(e){var r=t.prototype._subscribe.call(this,e);return r&&!r.closed&&e.next(this._value),r},e.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new o.ObjectUnsubscribedError;return this._value},e.prototype.next=function(e){t.prototype.next.call(this,this._value=e)},e}(i.Subject);e.BehaviorSubject=a},function(t,e,r){"use strict";var n=r(86),i=r(40);e.publishReplay=function(t,e,r,o){r&&"function"!=typeof r&&(o=r);var a="function"==typeof r?r:void 0,s=new n.ReplaySubject(t,e,o);return function(t){return i.multicast(function(){return s},a)(t)}}},function(t,e,r){"use strict";var n=r(79),i=r(40);e.publishLast=function(){return function(t){return i.multicast(new n.AsyncSubject)(t)}}},function(t,e,r){"use strict";var n=r(30),i=r(128);e.race=function(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];return function(e){return 1===t.length&&n.isArray(t[0])&&(t=t[0]),e.lift.call(i.race.apply(void 0,[e].concat(t)))}}},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function n(){this.constructor=t}t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=r(2),o=r(37);e.repeat=function(t){return void 0===t&&(t=-1),function(e){return 0===t?new o.EmptyObservable:t<0?e.lift(new a(-1,e)):e.lift(new a(t-1,e))}};var a=function(){function t(t,e){this.count=t,this.source=e}return t.prototype.call=function(t,e){return e.subscribe(new s(t,this.count,this.source))},t}(),s=function(t){function e(e,r,n){t.call(this,e),this.count=r,this.source=n}return n(e,t),e.prototype.complete=function(){if(!this.isStopped){var e=this.source,r=this.count;if(0===r)return t.prototype.complete.call(this);r>-1&&(this.count=r-1),e.subscribe(this._unsubscribeAndRecycle())}},e}(i.Subscriber)},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function n(){this.constructor=t}t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=r(15),o=r(17),a=r(16),s=r(7),l=r(8);e.repeatWhen=function(t){return function(e){return e.lift(new c(t))}};var c=function(){function t(t){this.notifier=t}return t.prototype.call=function(t,e){return e.subscribe(new u(t,this.notifier,e))},t}(),u=function(t){function e(e,r,n){t.call(this,e),this.notifier=r,this.source=n,this.sourceIsBeingSubscribedTo=!0}return n(e,t),e.prototype.notifyNext=function(t,e,r,n,i){this.sourceIsBeingSubscribedTo=!0,this.source.subscribe(this)},e.prototype.notifyComplete=function(e){if(!1===this.sourceIsBeingSubscribedTo)return t.prototype.complete.call(this)},e.prototype.complete=function(){if(this.sourceIsBeingSubscribedTo=!1,!this.isStopped){if(this.retries){if(this.retriesSubscription.closed)return t.prototype.complete.call(this)}else this.subscribeToRetries();this._unsubscribeAndRecycle(),this.notifications.next()}},e.prototype._unsubscribe=function(){var t=this.notifications,e=this.retriesSubscription;t&&(t.unsubscribe(),this.notifications=null),e&&(e.unsubscribe(),this.retriesSubscription=null),this.retries=null},e.prototype._unsubscribeAndRecycle=function(){var e=this.notifications,r=this.retries,n=this.retriesSubscription;return this.notifications=null,this.retries=null,this.retriesSubscription=null,t.prototype._unsubscribeAndRecycle.call(this),this.notifications=e,this.retries=r,this.retriesSubscription=n,this},e.prototype.subscribeToRetries=function(){this.notifications=new i.Subject;var e=o.tryCatch(this.notifier)(this.notifications);if(e===a.errorObject)return t.prototype.complete.call(this);this.retries=e,this.retriesSubscription=l.subscribeToResult(this,e)},e}(s.OuterSubscriber)},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function n(){this.constructor=t}t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=r(2);e.retry=function(t){return void 0===t&&(t=-1),function(e){return e.lift(new o(t,e))}};var o=function(){function t(t,e){this.count=t,this.source=e}return t.prototype.call=function(t,e){return e.subscribe(new a(t,this.count,this.source))},t}(),a=function(t){function e(e,r,n){t.call(this,e),this.count=r,this.source=n}return n(e,t),e.prototype.error=function(e){if(!this.isStopped){var r=this.source,n=this.count;if(0===n)return t.prototype.error.call(this,e);n>-1&&(this.count=n-1),r.subscribe(this._unsubscribeAndRecycle())}},e}(i.Subscriber)},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function n(){this.constructor=t}t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=r(15),o=r(17),a=r(16),s=r(7),l=r(8);e.retryWhen=function(t){return function(e){return e.lift(new c(t,e))}};var c=function(){function t(t,e){this.notifier=t,this.source=e}return t.prototype.call=function(t,e){return e.subscribe(new u(t,this.notifier,this.source))},t}(),u=function(t){function e(e,r,n){t.call(this,e),this.notifier=r,this.source=n}return n(e,t),e.prototype.error=function(e){if(!this.isStopped){var r=this.errors,n=this.retries,s=this.retriesSubscription;if(n)this.errors=null,this.retriesSubscription=null;else{if(r=new i.Subject,(n=o.tryCatch(this.notifier)(r))===a.errorObject)return t.prototype.error.call(this,a.errorObject.e);s=l.subscribeToResult(this,n)}this._unsubscribeAndRecycle(),this.errors=r,this.retries=n,this.retriesSubscription=s,r.next(e)}},e.prototype._unsubscribe=function(){var t=this.errors,e=this.retriesSubscription;t&&(t.unsubscribe(),this.errors=null),e&&(e.unsubscribe(),this.retriesSubscription=null),this.retries=null},e.prototype.notifyNext=function(t,e,r,n,i){var o=this.errors,a=this.retries,s=this.retriesSubscription;this.errors=null,this.retries=null,this.retriesSubscription=null,this._unsubscribeAndRecycle(),this.errors=o,this.retries=a,this.retriesSubscription=s,this.source.subscribe(this)},e}(s.OuterSubscriber)},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function n(){this.constructor=t}t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=r(7),o=r(8);e.sample=function(t){return function(e){return e.lift(new a(t))}};var a=function(){function t(t){this.notifier=t}return t.prototype.call=function(t,e){var r=new s(t),n=e.subscribe(r);return n.add(o.subscribeToResult(r,this.notifier)),n},t}(),s=function(t){function e(){t.apply(this,arguments),this.hasValue=!1}return n(e,t),e.prototype._next=function(t){this.value=t,this.hasValue=!0},e.prototype.notifyNext=function(t,e,r,n,i){this.emitValue()},e.prototype.notifyComplete=function(){this.emitValue()},e.prototype.emitValue=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.value))},e}(i.OuterSubscriber)},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function n(){this.constructor=t}t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=r(2),o=r(10);e.sampleTime=function(t,e){return void 0===e&&(e=o.async),function(r){return r.lift(new a(t,e))}};var a=function(){function t(t,e){this.period=t,this.scheduler=e}return t.prototype.call=function(t,e){return e.subscribe(new s(t,this.period,this.scheduler))},t}(),s=function(t){function e(e,r,n){t.call(this,e),this.period=r,this.scheduler=n,this.hasValue=!1,this.add(n.schedule(l,r,{subscriber:this,period:r}))}return n(e,t),e.prototype._next=function(t){this.lastValue=t,this.hasValue=!0},e.prototype.notifyNext=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.lastValue))},e}(i.Subscriber);function l(t){var e=t.subscriber,r=t.period;e.notifyNext(),this.schedule(t,r)}},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function n(){this.constructor=t}t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=r(2),o=r(17),a=r(16);e.sequenceEqual=function(t,e){return function(r){return r.lift(new s(t,e))}};var s=function(){function t(t,e){this.compareTo=t,this.comparor=e}return t.prototype.call=function(t,e){return e.subscribe(new l(t,this.compareTo,this.comparor))},t}();e.SequenceEqualOperator=s;var l=function(t){function e(e,r,n){t.call(this,e),this.compareTo=r,this.comparor=n,this._a=[],this._b=[],this._oneComplete=!1,this.add(r.subscribe(new c(e,this)))}return n(e,t),e.prototype._next=function(t){this._oneComplete&&0===this._b.length?this.emit(!1):(this._a.push(t),this.checkValues())},e.prototype._complete=function(){this._oneComplete?this.emit(0===this._a.length&&0===this._b.length):this._oneComplete=!0},e.prototype.checkValues=function(){for(var t=this._a,e=this._b,r=this.comparor;t.length>0&&e.length>0;){var n=t.shift(),i=e.shift(),s=!1;r?(s=o.tryCatch(r)(n,i))===a.errorObject&&this.destination.error(a.errorObject.e):s=n===i,s||this.emit(!1)}},e.prototype.emit=function(t){var e=this.destination;e.next(t),e.complete()},e.prototype.nextB=function(t){this._oneComplete&&0===this._a.length?this.emit(!1):(this._b.push(t),this.checkValues())},e}(i.Subscriber);e.SequenceEqualSubscriber=l;var c=function(t){function e(e,r){t.call(this,e),this.parent=r}return n(e,t),e.prototype._next=function(t){this.parent.nextB(t)},e.prototype._error=function(t){this.parent.error(t)},e.prototype._complete=function(){this.parent._complete()},e}(i.Subscriber)},function(t,e,r){"use strict";var n=r(40),i=r(138),o=r(15);function a(){return new o.Subject}e.share=function(){return function(t){return i.refCount()(n.multicast(a)(t))}}},function(t,e,r){"use strict";var n=r(86);e.shareReplay=function(t,e,r){return function(i){return i.lift(function(t,e,r){var i,o,a=0,s=!1,l=!1;return function(c){a++,i&&!s||(s=!1,i=new n.ReplaySubject(t,e,r),o=c.subscribe({next:function(t){i.next(t)},error:function(t){s=!0,i.error(t)},complete:function(){l=!0,i.complete()}}));var u=i.subscribe(this);return function(){a--,u.unsubscribe(),o&&0===a&&l&&o.unsubscribe()}}}(t,e,r))}}},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function n(){this.constructor=t}t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=r(2),o=r(87);e.single=function(t){return function(e){return e.lift(new a(t,e))}};var a=function(){function t(t,e){this.predicate=t,this.source=e}return t.prototype.call=function(t,e){return e.subscribe(new s(t,this.predicate,this.source))},t}(),s=function(t){function e(e,r,n){t.call(this,e),this.predicate=r,this.source=n,this.seenValue=!1,this.index=0}return n(e,t),e.prototype.applySingleValue=function(t){this.seenValue?this.destination.error("Sequence contains more than one element"):(this.seenValue=!0,this.singleValue=t)},e.prototype._next=function(t){var e=this.index++;this.predicate?this.tryNext(t,e):this.applySingleValue(t)},e.prototype.tryNext=function(t,e){try{this.predicate(t,e,this.source)&&this.applySingleValue(t)}catch(t){this.destination.error(t)}},e.prototype._complete=function(){var t=this.destination;this.index>0?(t.next(this.seenValue?this.singleValue:void 0),t.complete()):t.error(new o.EmptyError)},e}(i.Subscriber)},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function n(){this.constructor=t}t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=r(2);e.skip=function(t){return function(e){return e.lift(new o(t))}};var o=function(){function t(t){this.total=t}return t.prototype.call=function(t,e){return e.subscribe(new a(t,this.total))},t}(),a=function(t){function e(e,r){t.call(this,e),this.total=r,this.count=0}return n(e,t),e.prototype._next=function(t){++this.count>this.total&&this.destination.next(t)},e}(i.Subscriber)},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function n(){this.constructor=t}t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=r(2),o=r(61);e.skipLast=function(t){return function(e){return e.lift(new a(t))}};var a=function(){function t(t){if(this._skipCount=t,this._skipCount<0)throw new o.ArgumentOutOfRangeError}return t.prototype.call=function(t,e){return 0===this._skipCount?e.subscribe(new i.Subscriber(t)):e.subscribe(new s(t,this._skipCount))},t}(),s=function(t){function e(e,r){t.call(this,e),this._skipCount=r,this._count=0,this._ring=new Array(r)}return n(e,t),e.prototype._next=function(t){var e=this._skipCount,r=this._count++;if(r<e)this._ring[r]=t;else{var n=r%e,i=this._ring,o=i[n];i[n]=t,this.destination.next(o)}},e}(i.Subscriber)},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function n(){this.constructor=t}t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=r(7),o=r(8);e.skipUntil=function(t){return function(e){return e.lift(new a(t))}};var a=function(){function t(t){this.notifier=t}return t.prototype.call=function(t,e){return e.subscribe(new s(t,this.notifier))},t}(),s=function(t){function e(e,r){t.call(this,e),this.hasValue=!1,this.isInnerStopped=!1,this.add(o.subscribeToResult(this,r))}return n(e,t),e.prototype._next=function(e){this.hasValue&&t.prototype._next.call(this,e)},e.prototype._complete=function(){this.isInnerStopped?t.prototype._complete.call(this):this.unsubscribe()},e.prototype.notifyNext=function(t,e,r,n,i){this.hasValue=!0},e.prototype.notifyComplete=function(){this.isInnerStopped=!0,this.isStopped&&t.prototype._complete.call(this)},e}(i.OuterSubscriber)},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function n(){this.constructor=t}t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=r(2);e.skipWhile=function(t){return function(e){return e.lift(new o(t))}};var o=function(){function t(t){this.predicate=t}return t.prototype.call=function(t,e){return e.subscribe(new a(t,this.predicate))},t}(),a=function(t){function e(e,r){t.call(this,e),this.predicate=r,this.skipping=!0,this.index=0}return n(e,t),e.prototype._next=function(t){var e=this.destination;this.skipping&&this.tryCallPredicate(t),this.skipping||e.next(t)},e.prototype.tryCallPredicate=function(t){try{var e=this.predicate(t,this.index++);this.skipping=Boolean(e)}catch(t){this.destination.error(t)}},e}(i.Subscriber)},function(t,e,r){"use strict";var n=r(36),i=r(126),o=r(37),a=r(54),s=r(29);e.startWith=function(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];return function(e){var r=t[t.length-1];s.isScheduler(r)?t.pop():r=null;var l=t.length;return 1===l?a.concat(new i.ScalarObservable(t[0],r),e):l>1?a.concat(new n.ArrayObservable(t,r),e):a.concat(new o.EmptyObservable(r),e)}}},function(t,e,r){"use strict";var n=r(729),i=r(732);e.asap=new i.AsapScheduler(n.AsapAction)},function(t,e,r){(function(t){var n=Function.prototype.apply;function i(t,e){this._id=t,this._clearFn=e}e.setTimeout=function(){return new i(n.call(setTimeout,window,arguments),clearTimeout)},e.setInterval=function(){return new i(n.call(setInterval,window,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t&&t.close()},i.prototype.unref=i.prototype.ref=function(){},i.prototype.close=function(){this._clearFn.call(window,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout(function(){t._onTimeout&&t._onTimeout()},e))},r(731),e.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==t&&t.setImmediate||this&&this.setImmediate,e.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==t&&t.clearImmediate||this&&this.clearImmediate}).call(e,r(51))},function(t,e,r){"use strict";var n=r(139),i=r(208);e.switchAll=function(){return n.switchMap(i.identity)}},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function n(){this.constructor=t}t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=r(7),o=r(8);e.switchMapTo=function(t,e){return function(r){return r.lift(new a(t,e))}};var a=function(){function t(t,e){this.observable=t,this.resultSelector=e}return t.prototype.call=function(t,e){return e.subscribe(new s(t,this.observable,this.resultSelector))},t}(),s=function(t){function e(e,r,n){t.call(this,e),this.inner=r,this.resultSelector=n,this.index=0}return n(e,t),e.prototype._next=function(t){var e=this.innerSubscription;e&&e.unsubscribe(),this.add(this.innerSubscription=o.subscribeToResult(this,this.inner,t,this.index++))},e.prototype._complete=function(){var e=this.innerSubscription;e&&!e.closed||t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){this.innerSubscription=null},e.prototype.notifyComplete=function(e){this.remove(e),this.innerSubscription=null,this.isStopped&&t.prototype._complete.call(this)},e.prototype.notifyNext=function(t,e,r,n,i){var o=this.resultSelector,a=this.destination;o?this.tryResultSelector(t,e,r,n):a.next(e)},e.prototype.tryResultSelector=function(t,e,r,n){var i,o=this.resultSelector,a=this.destination;try{i=o(t,e,r,n)}catch(t){return void a.error(t)}a.next(i)},e}(i.OuterSubscriber)},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function n(){this.constructor=t}t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=r(2),o=r(61),a=r(37);e.take=function(t){return function(e){return 0===t?new a.EmptyObservable:e.lift(new s(t))}};var s=function(){function t(t){if(this.total=t,this.total<0)throw new o.ArgumentOutOfRangeError}return t.prototype.call=function(t,e){return e.subscribe(new l(t,this.total))},t}(),l=function(t){function e(e,r){t.call(this,e),this.total=r,this.count=0}return n(e,t),e.prototype._next=function(t){var e=this.total,r=++this.count;r<=e&&(this.destination.next(t),r===e&&(this.destination.complete(),this.unsubscribe()))},e}(i.Subscriber)},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function n(){this.constructor=t}t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=r(7),o=r(8);e.takeUntil=function(t){return function(e){return e.lift(new a(t))}};var a=function(){function t(t){this.notifier=t}return t.prototype.call=function(t,e){return e.subscribe(new s(t,this.notifier))},t}(),s=function(t){function e(e,r){t.call(this,e),this.notifier=r,this.add(o.subscribeToResult(this,r))}return n(e,t),e.prototype.notifyNext=function(t,e,r,n,i){this.complete()},e.prototype.notifyComplete=function(){},e}(i.OuterSubscriber)},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function n(){this.constructor=t}t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=r(2);e.takeWhile=function(t){return function(e){return e.lift(new o(t))}};var o=function(){function t(t){this.predicate=t}return t.prototype.call=function(t,e){return e.subscribe(new a(t,this.predicate))},t}(),a=function(t){function e(e,r){t.call(this,e),this.predicate=r,this.index=0}return n(e,t),e.prototype._next=function(t){var e,r=this.destination;try{e=this.predicate(t,this.index++)}catch(t){return void r.error(t)}this.nextOrComplete(t,e)},e.prototype.nextOrComplete=function(t,e){var r=this.destination;Boolean(e)?r.next(t):r.complete()},e}(i.Subscriber)},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function n(){this.constructor=t}t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=r(2),o=r(10),a=r(88);e.throttleTime=function(t,e,r){return void 0===e&&(e=o.async),void 0===r&&(r=a.defaultThrottleConfig),function(n){return n.lift(new s(t,e,r.leading,r.trailing))}};var s=function(){function t(t,e,r,n){this.duration=t,this.scheduler=e,this.leading=r,this.trailing=n}return t.prototype.call=function(t,e){return e.subscribe(new l(t,this.duration,this.scheduler,this.leading,this.trailing))},t}(),l=function(t){function e(e,r,n,i,o){t.call(this,e),this.duration=r,this.scheduler=n,this.leading=i,this.trailing=o,this._hasTrailingValue=!1,this._trailingValue=null}return n(e,t),e.prototype._next=function(t){this.throttled?this.trailing&&(this._trailingValue=t,this._hasTrailingValue=!0):(this.add(this.throttled=this.scheduler.schedule(c,this.duration,{subscriber:this})),this.leading&&this.destination.next(t))},e.prototype.clearThrottle=function(){var t=this.throttled;t&&(this.trailing&&this._hasTrailingValue&&(this.destination.next(this._trailingValue),this._trailingValue=null,this._hasTrailingValue=!1),t.unsubscribe(),this.remove(t),this.throttled=null)},e}(i.Subscriber);function c(t){t.subscriber.clearThrottle()}},function(t,e,r){"use strict";var n=r(10),i=r(284);e.TimeInterval=i.TimeInterval,e.timeInterval=function(t){return void 0===t&&(t=n.async),i.timeInterval(t)(this)}},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function n(){this.constructor=t}t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=r(2),o=r(10);e.timeInterval=function(t){return void 0===t&&(t=o.async),function(e){return e.lift(new s(t))}};var a=function(){return function(t,e){this.value=t,this.interval=e}}();e.TimeInterval=a;var s=function(){function t(t){this.scheduler=t}return t.prototype.call=function(t,e){return e.subscribe(new l(t,this.scheduler))},t}(),l=function(t){function e(e,r){t.call(this,e),this.scheduler=r,this.lastTime=0,this.lastTime=r.now()}return n(e,t),e.prototype._next=function(t){var e=this.scheduler.now(),r=e-this.lastTime;this.lastTime=e,this.destination.next(new a(t,r))},e}(i.Subscriber)},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function n(){this.constructor=t}t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=r(10),o=r(84),a=r(2),s=r(286);e.timeout=function(t,e){void 0===e&&(e=i.async);var r=o.isDate(t),n=r?+t-e.now():Math.abs(t);return function(t){return t.lift(new l(n,r,e,new s.TimeoutError))}};var l=function(){function t(t,e,r,n){this.waitFor=t,this.absoluteTimeout=e,this.scheduler=r,this.errorInstance=n}return t.prototype.call=function(t,e){return e.subscribe(new c(t,this.absoluteTimeout,this.waitFor,this.scheduler,this.errorInstance))},t}(),c=function(t){function e(e,r,n,i,o){t.call(this,e),this.absoluteTimeout=r,this.waitFor=n,this.scheduler=i,this.errorInstance=o,this.action=null,this.scheduleTimeout()}return n(e,t),e.dispatchTimeout=function(t){t.error(t.errorInstance)},e.prototype.scheduleTimeout=function(){var t=this.action;t?this.action=t.schedule(this,this.waitFor):this.add(this.action=this.scheduler.schedule(e.dispatchTimeout,this.waitFor,this))},e.prototype._next=function(e){this.absoluteTimeout||this.scheduleTimeout(),t.prototype._next.call(this,e)},e.prototype._unsubscribe=function(){this.action=null,this.scheduler=null,this.errorInstance=null},e}(a.Subscriber)},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function n(){this.constructor=t}t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=function(t){function e(){var e=t.call(this,"Timeout has occurred");this.name=e.name="TimeoutError",this.stack=e.stack,this.message=e.message}return n(e,t),e}(Error);e.TimeoutError=i},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function n(){this.constructor=t}t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=r(10),o=r(84),a=r(7),s=r(8);e.timeoutWith=function(t,e,r){return void 0===r&&(r=i.async),function(n){var i=o.isDate(t),a=i?+t-r.now():Math.abs(t);return n.lift(new l(a,i,e,r))}};var l=function(){function t(t,e,r,n){this.waitFor=t,this.absoluteTimeout=e,this.withObservable=r,this.scheduler=n}return t.prototype.call=function(t,e){return e.subscribe(new c(t,this.absoluteTimeout,this.waitFor,this.withObservable,this.scheduler))},t}(),c=function(t){function e(e,r,n,i,o){t.call(this,e),this.absoluteTimeout=r,this.waitFor=n,this.withObservable=i,this.scheduler=o,this.action=null,this.scheduleTimeout()}return n(e,t),e.dispatchTimeout=function(t){var e=t.withObservable;t._unsubscribeAndRecycle(),t.add(s.subscribeToResult(t,e))},e.prototype.scheduleTimeout=function(){var t=this.action;t?this.action=t.schedule(this,this.waitFor):this.add(this.action=this.scheduler.schedule(e.dispatchTimeout,this.waitFor,this))},e.prototype._next=function(e){this.absoluteTimeout||this.scheduleTimeout(),t.prototype._next.call(this,e)},e.prototype._unsubscribe=function(){this.action=null,this.scheduler=null,this.withObservable=null},e}(a.OuterSubscriber)},function(t,e,r){"use strict";var n=r(62);function i(t,e,r){return t.push(e),t}e.toArray=function(){return n.reduce(i,[])}},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function n(){this.constructor=t}t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=r(15),o=r(7),a=r(8);e.window=function(t){return function(e){return e.lift(new s(t))}};var s=function(){function t(t){this.windowBoundaries=t}return t.prototype.call=function(t,e){var r=new l(t),n=e.subscribe(r);return n.closed||r.add(a.subscribeToResult(r,this.windowBoundaries)),n},t}(),l=function(t){function e(e){t.call(this,e),this.window=new i.Subject,e.next(this.window)}return n(e,t),e.prototype.notifyNext=function(t,e,r,n,i){this.openWindow()},e.prototype.notifyError=function(t,e){this._error(t)},e.prototype.notifyComplete=function(t){this._complete()},e.prototype._next=function(t){this.window.next(t)},e.prototype._error=function(t){this.window.error(t),this.destination.error(t)},e.prototype._complete=function(){this.window.complete(),this.destination.complete()},e.prototype._unsubscribe=function(){this.window=null},e.prototype.openWindow=function(){var t=this.window;t&&t.complete();var e=this.destination,r=this.window=new i.Subject;e.next(r)},e}(o.OuterSubscriber)},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function n(){this.constructor=t}t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=r(2),o=r(15);e.windowCount=function(t,e){return void 0===e&&(e=0),function(r){return r.lift(new a(t,e))}};var a=function(){function t(t,e){this.windowSize=t,this.startWindowEvery=e}return t.prototype.call=function(t,e){return e.subscribe(new s(t,this.windowSize,this.startWindowEvery))},t}(),s=function(t){function e(e,r,n){t.call(this,e),this.destination=e,this.windowSize=r,this.startWindowEvery=n,this.windows=[new o.Subject],this.count=0,e.next(this.windows[0])}return n(e,t),e.prototype._next=function(t){for(var e=this.startWindowEvery>0?this.startWindowEvery:this.windowSize,r=this.destination,n=this.windowSize,i=this.windows,a=i.length,s=0;s<a&&!this.closed;s++)i[s].next(t);var l=this.count-n+1;if(l>=0&&l%e==0&&!this.closed&&i.shift().complete(),++this.count%e==0&&!this.closed){var c=new o.Subject;i.push(c),r.next(c)}},e.prototype._error=function(t){var e=this.windows;if(e)for(;e.length>0&&!this.closed;)e.shift().error(t);this.destination.error(t)},e.prototype._complete=function(){var t=this.windows;if(t)for(;t.length>0&&!this.closed;)t.shift().complete();this.destination.complete()},e.prototype._unsubscribe=function(){this.count=0,this.windows=null},e}(i.Subscriber)},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function n(){this.constructor=t}t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=r(15),o=r(10),a=r(2),s=r(57),l=r(29);e.windowTime=function(t){var e=o.async,r=null,n=Number.POSITIVE_INFINITY;return l.isScheduler(arguments[3])&&(e=arguments[3]),l.isScheduler(arguments[2])?e=arguments[2]:s.isNumeric(arguments[2])&&(n=arguments[2]),l.isScheduler(arguments[1])?e=arguments[1]:s.isNumeric(arguments[1])&&(r=arguments[1]),function(i){return i.lift(new c(t,r,n,e))}};var c=function(){function t(t,e,r,n){this.windowTimeSpan=t,this.windowCreationInterval=e,this.maxWindowSize=r,this.scheduler=n}return t.prototype.call=function(t,e){return e.subscribe(new h(t,this.windowTimeSpan,this.windowCreationInterval,this.maxWindowSize,this.scheduler))},t}(),u=function(t){function e(){t.apply(this,arguments),this._numberOfNextedValues=0}return n(e,t),e.prototype.next=function(e){this._numberOfNextedValues++,t.prototype.next.call(this,e)},Object.defineProperty(e.prototype,"numberOfNextedValues",{get:function(){return this._numberOfNextedValues},enumerable:!0,configurable:!0}),e}(i.Subject),h=function(t){function e(e,r,n,i,o){t.call(this,e),this.destination=e,this.windowTimeSpan=r,this.windowCreationInterval=n,this.maxWindowSize=i,this.scheduler=o,this.windows=[];var a=this.openWindow();if(null!==n&&n>=0){var s={subscriber:this,window:a,context:null},l={windowTimeSpan:r,windowCreationInterval:n,subscriber:this,scheduler:o};this.add(o.schedule(p,r,s)),this.add(o.schedule(d,n,l))}else{var c={subscriber:this,window:a,windowTimeSpan:r};this.add(o.schedule(f,r,c))}}return n(e,t),e.prototype._next=function(t){for(var e=this.windows,r=e.length,n=0;n<r;n++){var i=e[n];i.closed||(i.next(t),i.numberOfNextedValues>=this.maxWindowSize&&this.closeWindow(i))}},e.prototype._error=function(t){for(var e=this.windows;e.length>0;)e.shift().error(t);this.destination.error(t)},e.prototype._complete=function(){for(var t=this.windows;t.length>0;){var e=t.shift();e.closed||e.complete()}this.destination.complete()},e.prototype.openWindow=function(){var t=new u;return this.windows.push(t),this.destination.next(t),t},e.prototype.closeWindow=function(t){t.complete();var e=this.windows;e.splice(e.indexOf(t),1)},e}(a.Subscriber);function f(t){var e=t.subscriber,r=t.windowTimeSpan,n=t.window;n&&e.closeWindow(n),t.window=e.openWindow(),this.schedule(t,r)}function d(t){var e=t.windowTimeSpan,r=t.subscriber,n=t.scheduler,i=t.windowCreationInterval,o={action:this,subscription:null},a={subscriber:r,window:r.openWindow(),context:o};o.subscription=n.schedule(p,e,a),this.add(o.subscription),this.schedule(t,i)}function p(t){var e=t.subscriber,r=t.window,n=t.context;n&&n.action&&n.subscription&&n.action.remove(n.subscription),e.closeWindow(r)}},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function n(){this.constructor=t}t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=r(15),o=r(13),a=r(17),s=r(16),l=r(7),c=r(8);e.windowToggle=function(t,e){return function(r){return r.lift(new u(t,e))}};var u=function(){function t(t,e){this.openings=t,this.closingSelector=e}return t.prototype.call=function(t,e){return e.subscribe(new h(t,this.openings,this.closingSelector))},t}(),h=function(t){function e(e,r,n){t.call(this,e),this.openings=r,this.closingSelector=n,this.contexts=[],this.add(this.openSubscription=c.subscribeToResult(this,r,r))}return n(e,t),e.prototype._next=function(t){var e=this.contexts;if(e)for(var r=e.length,n=0;n<r;n++)e[n].window.next(t)},e.prototype._error=function(e){var r=this.contexts;if(this.contexts=null,r)for(var n=r.length,i=-1;++i<n;){var o=r[i];o.window.error(e),o.subscription.unsubscribe()}t.prototype._error.call(this,e)},e.prototype._complete=function(){var e=this.contexts;if(this.contexts=null,e)for(var r=e.length,n=-1;++n<r;){var i=e[n];i.window.complete(),i.subscription.unsubscribe()}t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){var t=this.contexts;if(this.contexts=null,t)for(var e=t.length,r=-1;++r<e;){var n=t[r];n.window.unsubscribe(),n.subscription.unsubscribe()}},e.prototype.notifyNext=function(t,e,r,n,l){if(t===this.openings){var u=this.closingSelector,h=a.tryCatch(u)(e);if(h===s.errorObject)return this.error(s.errorObject.e);var f=new i.Subject,d=new o.Subscription,p={window:f,subscription:d};this.contexts.push(p);var v=c.subscribeToResult(this,h,p);v.closed?this.closeWindow(this.contexts.length-1):(v.context=p,d.add(v)),this.destination.next(f)}else this.closeWindow(this.contexts.indexOf(t))},e.prototype.notifyError=function(t){this.error(t)},e.prototype.notifyComplete=function(t){t!==this.openSubscription&&this.closeWindow(this.contexts.indexOf(t.context))},e.prototype.closeWindow=function(t){if(-1!==t){var e=this.contexts,r=e[t],n=r.window,i=r.subscription;e.splice(t,1),n.complete(),i.unsubscribe()}},e}(l.OuterSubscriber)},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function n(){this.constructor=t}t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=r(15),o=r(17),a=r(16),s=r(7),l=r(8);e.windowWhen=function(t){return function(e){return e.lift(new c(t))}};var c=function(){function t(t){this.closingSelector=t}return t.prototype.call=function(t,e){return e.subscribe(new u(t,this.closingSelector))},t}(),u=function(t){function e(e,r){t.call(this,e),this.destination=e,this.closingSelector=r,this.openWindow()}return n(e,t),e.prototype.notifyNext=function(t,e,r,n,i){this.openWindow(i)},e.prototype.notifyError=function(t,e){this._error(t)},e.prototype.notifyComplete=function(t){this.openWindow(t)},e.prototype._next=function(t){this.window.next(t)},e.prototype._error=function(t){this.window.error(t),this.destination.error(t),this.unsubscribeClosingNotification()},e.prototype._complete=function(){this.window.complete(),this.destination.complete(),this.unsubscribeClosingNotification()},e.prototype.unsubscribeClosingNotification=function(){this.closingNotification&&this.closingNotification.unsubscribe()},e.prototype.openWindow=function(t){void 0===t&&(t=null),t&&(this.remove(t),t.unsubscribe());var e=this.window;e&&e.complete();var r=this.window=new i.Subject;this.destination.next(r);var n=o.tryCatch(this.closingSelector)();if(n===a.errorObject){var s=a.errorObject.e;this.destination.error(s),this.window.error(s)}else this.add(this.closingNotification=l.subscribeToResult(this,n))},e}(s.OuterSubscriber)},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function n(){this.constructor=t}t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=r(7),o=r(8);e.withLatestFrom=function(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];return function(e){var r;"function"==typeof t[t.length-1]&&(r=t.pop());var n=t;return e.lift(new a(n,r))}};var a=function(){function t(t,e){this.observables=t,this.project=e}return t.prototype.call=function(t,e){return e.subscribe(new s(t,this.observables,this.project))},t}(),s=function(t){function e(e,r,n){t.call(this,e),this.observables=r,this.project=n,this.toRespond=[];var i=r.length;this.values=new Array(i);for(var a=0;a<i;a++)this.toRespond.push(a);for(a=0;a<i;a++){var s=r[a];this.add(o.subscribeToResult(this,s,s,a))}}return n(e,t),e.prototype.notifyNext=function(t,e,r,n,i){this.values[r]=e;var o=this.toRespond;if(o.length>0){var a=o.indexOf(r);-1!==a&&o.splice(a,1)}},e.prototype.notifyComplete=function(){},e.prototype._next=function(t){if(0===this.toRespond.length){var e=[t].concat(this.values);this.project?this._tryProject(e):this.destination.next(e)}},e.prototype._tryProject=function(t){var e;try{e=this.project.apply(this,t)}catch(t){return void this.destination.error(t)}this.destination.next(e)},e}(i.OuterSubscriber)},function(t,e,r){"use strict";var n=r(85);e.zipAll=function(t){return function(e){return e.lift(new n.ZipOperator(t))}}},function(t,e,r){"use strict";var n=r(297),i=function(){function t(){this.subscriptions=[]}return t.prototype.logSubscribedFrame=function(){return this.subscriptions.push(new n.SubscriptionLog(this.scheduler.now())),this.subscriptions.length-1},t.prototype.logUnsubscribedFrame=function(t){var e=this.subscriptions,r=e[t];e[t]=new n.SubscriptionLog(r.subscribedFrame,this.scheduler.now())},t}();e.SubscriptionLoggable=i},function(t,e,r){"use strict";var n=function(){return function(t,e){void 0===e&&(e=Number.POSITIVE_INFINITY),this.subscribedFrame=t,this.unsubscribedFrame=e}}();e.SubscriptionLog=n},function(t,e,r){"use strict";e.applyMixins=function(t,e){for(var r=0,n=e.length;r<n;r++)for(var i=e[r],o=Object.getOwnPropertyNames(i.prototype),a=0,s=o.length;a<s;a++){var l=o[a];t.prototype[l]=i.prototype[l]}}},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function n(){this.constructor=t}t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=r(58),o=function(t){function e(e,r){var n=this;void 0===e&&(e=a),void 0===r&&(r=Number.POSITIVE_INFINITY),t.call(this,e,function(){return n.frame}),this.maxFrames=r,this.frame=0,this.index=-1}return n(e,t),e.prototype.flush=function(){for(var t,e,r=this.actions,n=this.maxFrames;(e=r.shift())&&(this.frame=e.delay)<=n&&!(t=e.execute(e.state,e.delay)););if(t){for(;e=r.shift();)e.unsubscribe();throw t}},e.frameTimeFactor=10,e}(r(59).AsyncScheduler);e.VirtualTimeScheduler=o;var a=function(t){function e(e,r,n){void 0===n&&(n=e.index+=1),t.call(this,e,r),this.scheduler=e,this.work=r,this.index=n,this.active=!0,this.index=e.index=n}return n(e,t),e.prototype.schedule=function(r,n){if(void 0===n&&(n=0),!this.id)return t.prototype.schedule.call(this,r,n);this.active=!1;var i=new e(this.scheduler,this.work);return this.add(i),i.schedule(r,n)},e.prototype.requestAsyncId=function(t,r,n){void 0===n&&(n=0),this.delay=t.frame+n;var i=t.actions;return i.push(this),i.sort(e.sortActions),!0},e.prototype.recycleAsyncId=function(t,e,r){void 0===r&&(r=0)},e.prototype._execute=function(e,r){if(!0===this.active)return t.prototype._execute.call(this,e,r)},e.sortActions=function(t,e){return t.delay===e.delay?t.index===e.index?0:t.index>e.index?1:-1:t.delay>e.delay?1:-1},e}(i.AsyncAction);e.VirtualAction=a},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});r(301);var n=r(466),i=r(480),o=r(486),a=r(787);r.n(a);const s=new i.a,l={primaryGroup:"specialty"},c=n.a;s.getAll().then(t=>{console.log("Data:",t),window.data=t;const e=document.getElementById("vertical-chart");let r=null,n={data:t};const i=new o.a(n),a=i.getState();document.getElementById("filters").appendChild(i.el),i.render(),a.update(l.filters);a.subscribe(t=>{console.log("Updating config filters",t),null!=r&&e.removeChild(r.el),l.filters=t.filter(t=>t.values.length>0),s.getSum(l).then(t=>{console.log("plotData:",t),(r=new c(t,e)).setColors(l.colors),r.render()})})})},function(t,e,r){"use strict";var n=r(27),i=r.n(n),o=r(446),a=r.n(o);r(458),r(463);i.a.register([a.a])},function(t,e,r){"use strict";var n=r(12);e.version="1.33.1",r(365).polyfill(),r(367),r(368),e.plot=n.plot,e.newPlot=n.newPlot,e.restyle=n.restyle,e.relayout=n.relayout,e.redraw=n.redraw,e.update=n.update,e.extendTraces=n.extendTraces,e.prependTraces=n.prependTraces,e.addTraces=n.addTraces,e.deleteTraces=n.deleteTraces,e.moveTraces=n.moveTraces,e.purge=n.purge,e.setPlotConfig=r(369),e.register=r(370),e.toImage=r(161),e.downloadImage=r(104),e.validate=r(371),e.addFrames=n.addFrames,e.deleteFrames=n.deleteFrames,e.animate=n.animate,e.register(r(372)),e.register([r(32),r(400),r(406),r(413),r(418),r(423),r(427),r(431),r(434),r(438)]),e.register([r(442),r(443)]),e.Icons=r(103),e.Plots=n.Plots,e.Fx=r(32),e.Snapshot=r(444),e.PlotSchema=r(64),e.Queue=r(163),e.d3=r(3)},function(t,e,r){"use strict";var n=r(65),i=/^\w*$/;t.exports=function(t,e,r,o){var a,s;r=r||"name",o=o||"value";var l={};s=e&&e.length?n(t,e).get():t,e=e||"",s=s||[];var c={};for(a=0;a<s.length;a++)c[s[a][r]]=a;var u=i.test(o),h={set:function(t,e){var i=null===e?4:0,a=c[t];void 0===a?(i|=3,a=s.length,c[t]=a):e!==(u?s[a][o]:n(s[a],o).get())&&(i|=2);var f=s[a]=s[a]||{};return f[r]=t,u?f[o]=e:n(f,o).set(e),null!==e&&(i&=-5),l[a]=l[a]|i,h},get:function(t){var e=c[t];return void 0===e?void 0:u?s[e][o]:n(s[e],o).get()},rename:function(t,e){var n=c[t];return void 0===n?h:(l[n]=1|l[n],c[e]=n,delete c[t],s[n][r]=e,h)},remove:function(t){var e=c[t];if(void 0===e)return h;var i=s[e];if(Object.keys(i).length>2)return l[e]=2|l[e],h.set(t,null);if(u){for(a=e;a<s.length;a++)l[a]=3|l[a];for(a=e;a<s.length;a++)c[s[a][r]]--;s.splice(e,1),delete c[t]}else n(i,o).set(null),l[e]=6|l[e];return h},constructUpdate:function(){for(var t,i,a={},c=Object.keys(l),h=0;h<c.length;h++)i=c[h],t=e+"["+i+"]",s[i]?(1&l[i]&&(a[t+"."+r]=s[i][r]),2&l[i]&&(a[t+"."+o]=u?4&l[i]?null:s[i][o]:4&l[i]?null:n(s[i],o).get())):a[t]=null;return a}};return h}},function(t,e,r){"use strict";var n=/^(.*)(\.[^\.\[\]]+|\[\d\])$/,i=/^[^\.\[\]]+$/;t.exports=function(t,e){for(;e;){var r=t.match(n);if(r)t=r[1];else{if(!t.match(i))throw new Error("bad relativeAttr call:"+[t,e]);t=""}if("^"!==e.charAt(0))break;e=e.slice(1)}return t&&"["!==e.charAt(0)?t+"."+e:t+e}},function(t,e,r){"use strict";var n=r(91),i=r(46);t.exports=function t(e,r){for(var o=Object.keys(r||{}),a=0;a<o.length;a++){var s=o[a],l=r[s],c=e[s];if("_"===s.charAt(0)||"function"==typeof l){if(s in e)continue;e[s]=l}else if(n(l)&&n(c)&&i(l[0]))for(var u=0;u<l.length;u++)i(l[u])&&i(c[u])&&t(c[u],l[u]);else i(l)&&i(c)&&(t(c,l),Object.keys(c).length||delete e[s])}}},function(t,e,r){"use strict";t.exports=function(t,e){return Array.isArray(t)||(t=[]),t.length=e,t}},function(t,e,r){"use strict";var n=r(6),i=r(28),o=r(47),a=r(143),s=Object.keys(r(38)),l=r(65),c=r(146).counter,u=r(49).DESELECTDIM,h=r(147).wrap180;e.valObjectMeta={data_array:{description:["An {array} of data.","The value MUST be an {array}, or we ignore it."].join(" "),requiredOpts:[],otherOpts:["dflt"],coerceFunction:function(t,e,r){Array.isArray(t)?e.set(t):void 0!==r&&e.set(r)}},enumerated:{description:["Enumerated value type. The available values are listed","in `values`."].join(" "),requiredOpts:["values"],otherOpts:["dflt","coerceNumber","arrayOk"],coerceFunction:function(t,e,r,n){n.coerceNumber&&(t=+t),-1===n.values.indexOf(t)?e.set(r):e.set(t)},validateFunction:function(t,e){e.coerceNumber&&(t=+t);for(var r=e.values,n=0;n<r.length;n++){var i=String(r[n]);if("/"===i.charAt(0)&&"/"===i.charAt(i.length-1)){if(new RegExp(i.substr(1,i.length-2)).test(t))return!0}else if(t===r[n])return!0}return!1}},boolean:{description:"A boolean (true/false) value.",requiredOpts:[],otherOpts:["dflt"],coerceFunction:function(t,e,r){!0===t||!1===t?e.set(t):e.set(r)}},number:{description:["A number or a numeric value","(e.g. a number inside a string).","When applicable, values greater (less) than `max` (`min`)","are coerced to the `dflt`."].join(" "),requiredOpts:[],otherOpts:["dflt","min","max","arrayOk"],coerceFunction:function(t,e,r,i){!n(t)||void 0!==i.min&&t<i.min||void 0!==i.max&&t>i.max?e.set(r):e.set(+t)}},integer:{description:["An integer or an integer inside a string.","When applicable, values greater (less) than `max` (`min`)","are coerced to the `dflt`."].join(" "),requiredOpts:[],otherOpts:["dflt","min","max","arrayOk"],coerceFunction:function(t,e,r,i){t%1||!n(t)||void 0!==i.min&&t<i.min||void 0!==i.max&&t>i.max?e.set(r):e.set(+t)}},string:{description:["A string value.","Numbers are converted to strings except for attributes with","`strict` set to true."].join(" "),requiredOpts:[],otherOpts:["dflt","noBlank","strict","arrayOk","values"],coerceFunction:function(t,e,r,n){if("string"!=typeof t){var i="number"==typeof t;!0!==n.strict&&i?e.set(String(t)):e.set(r)}else n.noBlank&&!t?e.set(r):e.set(t)}},color:{description:["A string describing color.","Supported formats:","- hex (e.g. '#d3d3d3')","- rgb (e.g. 'rgb(255, 0, 0)')","- rgba (e.g. 'rgb(255, 0, 0, 0.5)')","- hsl (e.g. 'hsl(0, 100%, 50%)')","- hsv (e.g. 'hsv(0, 100%, 100%)')","- named colors (full list: http://www.w3.org/TR/css3-color/#svg-color)"].join(" "),requiredOpts:[],otherOpts:["dflt","arrayOk"],coerceFunction:function(t,e,r){i(t).isValid()?e.set(t):e.set(r)}},colorlist:{description:["A list of colors.","Must be an {array} containing valid colors."].join(" "),requiredOpts:[],otherOpts:["dflt"],coerceFunction:function(t,e,r){Array.isArray(t)&&t.length&&t.every(function(t){return i(t).isValid()})?e.set(t):e.set(r)}},colorscale:{description:["A Plotly colorscale either picked by a name:","(any of",s.join(", "),")","customized as an {array} of 2-element {arrays} where","the first element is the normalized color level value","(starting at *0* and ending at *1*),","and the second item is a valid color string."].join(" "),requiredOpts:[],otherOpts:["dflt"],coerceFunction:function(t,e,r){e.set(a(t,r))}},angle:{description:["A number (in degree) between -180 and 180."].join(" "),requiredOpts:[],otherOpts:["dflt"],coerceFunction:function(t,e,r){"auto"===t?e.set("auto"):n(t)?e.set(h(+t)):e.set(r)}},subplotid:{description:["An id string of a subplot type (given by dflt), optionally","followed by an integer >1. e.g. if dflt='geo', we can have","'geo', 'geo2', 'geo3', ..."].join(" "),requiredOpts:["dflt"],otherOpts:[],coerceFunction:function(t,e,r){"string"==typeof t&&c(r).test(t)?e.set(t):e.set(r)},validateFunction:function(t,e){var r=e.dflt;return t===r||"string"==typeof t&&!!c(r).test(t)}},flaglist:{description:["A string representing a combination of flags","(order does not matter here).","Combine any of the available `flags` with *+*.","(e.g. ('lines+markers')).","Values in `extras` cannot be combined."].join(" "),requiredOpts:["flags"],otherOpts:["dflt","extras","arrayOk"],coerceFunction:function(t,e,r,n){if("string"==typeof t)if(-1===(n.extras||[]).indexOf(t)){for(var i=t.split("+"),o=0;o<i.length;){var a=i[o];-1===n.flags.indexOf(a)||i.indexOf(a)<o?i.splice(o,1):o++}i.length?e.set(i.join("+")):e.set(r)}else e.set(t);else e.set(r)}},any:{description:"Any type.",requiredOpts:[],otherOpts:["dflt","values","arrayOk"],coerceFunction:function(t,e,r){void 0===t?e.set(r):e.set(t)}},info_array:{description:["An {array} of plot information."].join(" "),requiredOpts:["items"],otherOpts:["dflt","freeLength"],coerceFunction:function(t,r,n,i){if(Array.isArray(t)){var o=i.items,a=[];n=Array.isArray(n)?n:[];for(var s=0;s<o.length;s++)e.coerce(t,a,o,"["+s+"]",n[s]);r.set(a)}else r.set(n)},validateFunction:function(t,r){if(!Array.isArray(t))return!1;var n=r.items;if(!r.freeLength&&t.length!==n.length)return!1;for(var i=0;i<t.length;i++){if(!e.validate(t[i],r.items[i]))return!1}return!0}}},e.coerce=function(t,r,n,i,o){var a=l(n,i).get(),s=l(t,i),c=l(r,i),u=s.get();return void 0===o&&(o=a.dflt),a.arrayOk&&Array.isArray(u)?(c.set(u),u):(e.valObjectMeta[a.valType].coerceFunction(u,c,o,a),c.get())},e.coerce2=function(t,r,n,i,o){var a=l(t,i),s=e.coerce(t,r,n,i,o),c=a.get();return void 0!==c&&null!==c&&s},e.coerceFont=function(t,e,r){var n={};return r=r||{},n.family=t(e+".family",r.family),n.size=t(e+".size",r.size),n.color=t(e+".color",r.color),n},e.coerceHoverinfo=function(t,r,n){var i,a=r._module.attributes,s=a.hoverinfo?{hoverinfo:a.hoverinfo}:o,l=s.hoverinfo;if(1===n._dataLength){var c="all"===l.dflt?l.flags.slice():l.dflt.split("+");c.splice(c.indexOf("name"),1),i=c.join("+")}return e.coerce(t,r,s,"hoverinfo",i)},e.coerceSelectionMarkerOpacity=function(t,e){if(t.marker){var r,n,i=t.marker.opacity;Array.isArray(i)||t.selected||t.unselected||(r=i,n=u*i),e("selected.marker.opacity",r),e("unselected.marker.opacity",n)}},e.validate=function(t,r){var n=e.valObjectMeta[r.valType];if(r.arrayOk&&Array.isArray(t))return!0;if(n.validateFunction)return n.validateFunction(t,r);var i={},o=i,a={set:function(t){o=t}};return n.coerceFunction(t,a,i,r),o!==i}},function(t,e,r){"use strict";var n,i,o=r(3),a=r(6),s=r(45),l=r(92),c=r(21),u=c.BADNUM,h=c.ONEDAY,f=c.ONEHOUR,d=c.ONEMIN,p=c.ONESEC,v=c.EPOCHJD,y=r(5),g=o.time.format.utc,m=/^\s*(-?\d\d\d\d|\d\d)(-(\d?\d)(-(\d?\d)([ Tt]([01]?\d|2[0-3])(:([0-5]\d)(:([0-5]\d(\.\d+)?))?(Z|z|[+\-]\d\d:?\d\d)?)?)?)?)?\s*$/m,b=/^\s*(-?\d\d\d\d|\d\d)(-(\d?\di?)(-(\d?\d)([ Tt]([01]?\d|2[0-3])(:([0-5]\d)(:([0-5]\d(\.\d+)?))?(Z|z|[+\-]\d\d:?\d\d)?)?)?)?)?\s*$/m,x=(new Date).getFullYear()-70;function w(t){return t&&y.componentsRegistry.calendars&&"string"==typeof t&&"gregorian"!==t}function _(t,e){return String(t+Math.pow(10,e)).substr(1)}e.dateTick0=function(t,e){return w(t)?e?y.getComponentMethod("calendars","CANONICAL_SUNDAY")[t]:y.getComponentMethod("calendars","CANONICAL_TICK")[t]:e?"2000-01-02":"2000-01-01"},e.dfltRange=function(t){return w(t)?y.getComponentMethod("calendars","DFLTRANGE")[t]:["2000-01-01","2001-01-01"]},e.isJSDate=function(t){return"object"==typeof t&&null!==t&&"function"==typeof t.getTime},e.dateTime2ms=function(t,r){if(e.isJSDate(t))return(t=Number(t)-t.getTimezoneOffset()*d)>=n&&t<=i?t:u;if("string"!=typeof t&&"number"!=typeof t)return u;t=String(t);var o=w(r),a=t.charAt(0);!o||"G"!==a&&"g"!==a||(t=t.substr(1),r="");var s=o&&"chinese"===r.substr(0,7),l=t.match(s?b:m);if(!l)return u;var c=l[1],g=l[3]||"1",_=Number(l[5]||1),k=Number(l[7]||0),T=Number(l[9]||0),A=Number(l[11]||0);if(o){if(2===c.length)return u;var M;c=Number(c);try{var S=y.getComponentMethod("calendars","getCal")(r);if(s){var O="i"===g.charAt(g.length-1);g=parseInt(g,10),M=S.newDate(c,S.toMonthIndex(c,g,O),_)}else M=S.newDate(c,Number(g),_)}catch(t){return u}return M?(M.toJD()-v)*h+k*f+T*d+A*p:u}c=2===c.length?(Number(c)+2e3-x)%100+x:Number(c),g-=1;var C=new Date(Date.UTC(2e3,g,_,k,T));return C.setUTCFullYear(c),C.getUTCMonth()!==g?u:C.getUTCDate()!==_?u:C.getTime()+A*p},n=e.MIN_MS=e.dateTime2ms("-9999"),i=e.MAX_MS=e.dateTime2ms("9999-12-31 23:59:59.9999"),e.isDateTime=function(t,r){return e.dateTime2ms(t,r)!==u};var k=90*h,T=3*f,A=5*d;function M(t,e,r,n,i){if((e||r||n||i)&&(t+=" "+_(e,2)+":"+_(r,2),(n||i)&&(t+=":"+_(n,2),i))){for(var o=4;i%10==0;)o-=1,i/=10;t+="."+_(i,o)}return t}e.ms2DateTime=function(t,e,r){if("number"!=typeof t||!(t>=n&&t<=i))return u;e||(e=0);var o,a,s,c,m,b,x=Math.floor(10*l(t+.05,1)),_=Math.round(t-x/10);if(w(r)){var S=Math.floor(_/h)+v,O=Math.floor(l(t,h));try{o=y.getComponentMethod("calendars","getCal")(r).fromJD(S).formatDate("yyyy-mm-dd")}catch(t){o=g("G%Y-%m-%d")(new Date(_))}if("-"===o.charAt(0))for(;o.length<11;)o="-0"+o.substr(1);else for(;o.length<10;)o="0"+o;a=e<k?Math.floor(O/f):0,s=e<k?Math.floor(O%f/d):0,c=e<T?Math.floor(O%d/p):0,m=e<A?O%p*10+x:0}else b=new Date(_),o=g("%Y-%m-%d")(b),a=e<k?b.getUTCHours():0,s=e<k?b.getUTCMinutes():0,c=e<T?b.getUTCSeconds():0,m=e<A?10*b.getUTCMilliseconds()+x:0;return M(o,a,s,c,m)},e.ms2DateTimeLocal=function(t){if(!(t>=n+h&&t<=i-h))return u;var e=Math.floor(10*l(t+.05,1)),r=new Date(Math.round(t-e/10));return M(o.time.format("%Y-%m-%d")(r),r.getHours(),r.getMinutes(),r.getSeconds(),10*r.getUTCMilliseconds()+e)},e.cleanDate=function(t,r,n){if(e.isJSDate(t)||"number"==typeof t){if(w(n))return s.error("JS Dates and milliseconds are incompatible with world calendars",t),r;if(!(t=e.ms2DateTimeLocal(+t))&&void 0!==r)return r}else if(!e.isDateTime(t,n))return s.error("unrecognized date",t),r;return t};var S=/%\d?f/g;var O=[59,59.9,59.99,59.999,59.9999];function C(t,e){var r=l(t+.05,h),n=_(Math.floor(r/f),2)+":"+_(l(Math.floor(r/d),60),2);if("M"!==e){a(e)||(e=0);var i=(100+Math.min(l(t/p,60),O[e])).toFixed(e).substr(1);e>0&&(i=i.replace(/0+$/,"").replace(/[\.]$/,"")),n+=":"+i}return n}function L(t){return t.formatDate("yyyy")}e.formatDate=function(t,e,r,n,i){var o,a;if(i=w(i)&&i,e)return function(t,e,r,n){t=t.replace(S,function(t){var r=Math.min(+t.charAt(1)||6,6);return(e/1e3%1+2).toFixed(r).substr(2).replace(/0+$/,"")||"0"});var i=new Date(Math.floor(e+.05));if(w(n))try{t=y.getComponentMethod("calendars","worldCalFmt")(t,e,n)}catch(t){return"Invalid"}return r(t)(i)}(e,t,n,i);if(i)try{var s=Math.floor((t+.05)/h)+v,l=y.getComponentMethod("calendars","getCal")(i).fromJD(s);"y"===r?a=L(l):"m"===r?a=function(t){return t.formatDate("M yyyy")}(l):"d"===r?(o=L(l),a=function(t){return t.formatDate("M d")}(l)):(o=function(t){return t.formatDate("M d, yyyy")}(l),a=C(t,r))}catch(t){return"Invalid"}else{var c=new Date(Math.floor(t+.05));"y"===r?a=n("%Y")(c):"m"===r?a=n("%b %Y")(c):"d"===r?(o=n("%Y")(c),a=n("%b %-d")(c)):(o=n("%b %-d, %Y")(c),a=C(t,r))}return a+(o?"\n"+o:"")};var j=3*h;e.incrementMonth=function(t,e,r){r=w(r)&&r;var n=l(t,h);if(t=Math.round(t-n),r)try{var i=Math.round(t/h)+v,o=y.getComponentMethod("calendars","getCal")(r),a=o.fromJD(i);return e%12?o.add(a,e,"m"):o.add(a,e/12,"y"),(a.toJD()-v)*h+n}catch(e){s.error("invalid ms "+t+" in calendar "+r)}var c=new Date(t+j);return c.setUTCMonth(c.getUTCMonth()+e)+n-j},e.findExactDates=function(t,e){for(var r,n,i=0,o=0,s=0,l=0,c=w(e)&&y.getComponentMethod("calendars","getCal")(e),u=0;u<t.length;u++)if(n=t[u],a(n)){if(!(n%h))if(c)try{1===(r=c.fromJD(n/h+v)).day()?1===r.month()?i++:o++:s++}catch(t){}else 1===(r=new Date(n)).getUTCDate()?0===r.getUTCMonth()?i++:o++:s++}else l++;s+=o+=i;var f=t.length-l;return{exactYears:i/f,exactMonths:o/f,exactDays:s/f}}},function(t,e,r){"use strict";var n=r(6);e.aggNums=function(t,r,i,o){var a,s;if(o||(o=i.length),n(r)||(r=!1),Array.isArray(i[0])){for(s=new Array(o),a=0;a<o;a++)s[a]=e.aggNums(t,r,i[a]);i=s}for(a=0;a<o;a++)n(r)?n(i[a])&&(r=t(+r,+i[a])):r=i[a];return r},e.len=function(t){return e.aggNums(function(t){return t+1},0,t)},e.mean=function(t,r){return r||(r=e.len(t)),e.aggNums(function(t,e){return t+e},0,t)/r},e.variance=function(t,r,i){return r||(r=e.len(t)),n(i)||(i=e.mean(t,r)),e.aggNums(function(t,e){return t+Math.pow(e-i,2)},0,t)/r},e.stdev=function(t,r,n){return Math.sqrt(e.variance(t,r,n))},e.interp=function(t,e){if(!n(e))throw"n should be a finite number";if((e=e*t.length-.5)<0)return t[0];if(e>t.length-1)return t[t.length-1];var r=e%1;return r*t[Math.ceil(e)]+(1-r)*t[Math.floor(e)]}},function(t,e,r){"use strict";var n,i,o,a=r(92);function s(t,e,r,n,i,o,a,s){var l=r-t,c=i-t,u=a-i,h=n-e,f=o-e,d=s-o,p=l*d-u*h;if(0===p)return null;var v=(c*d-u*f)/p,y=(c*h-l*f)/p;return y<0||y>1||v<0||v>1?null:{x:t+l*v,y:e+h*v}}function l(t,e,r,n,i){var o=n*t+i*e;if(o<0)return n*n+i*i;if(o>r){var a=n-t,s=i-e;return a*a+s*s}var l=n*e-i*t;return l*l/r}e.segmentsIntersect=s,e.segmentDistance=function(t,e,r,n,i,o,a,c){if(s(t,e,r,n,i,o,a,c))return 0;var u=r-t,h=n-e,f=a-i,d=c-o,p=u*u+h*h,v=f*f+d*d,y=Math.min(l(u,h,p,i-t,o-e),l(u,h,p,a-t,c-e),l(f,d,v,t-i,e-o),l(f,d,v,r-i,n-o));return Math.sqrt(y)},e.getTextLocation=function(t,e,r,s){if(t===i&&s===o||(n={},i=t,o=s),n[r])return n[r];var l=t.getPointAtLength(a(r-s/2,e)),c=t.getPointAtLength(a(r+s/2,e)),u=Math.atan((c.y-l.y)/(c.x-l.x)),h=t.getPointAtLength(a(r,e)),f={x:(4*h.x+l.x+c.x)/6,y:(4*h.y+l.y+c.y)/6,theta:u};return n[r]=f,f},e.clearLocationCache=function(){i=null},e.getVisibleSegment=function(t,e,r){var n,i,o=e.left,a=e.right,s=e.top,l=e.bottom,c=0,u=t.getTotalLength(),h=u;function f(e){var r=t.getPointAtLength(e);0===e?n=r:e===u&&(i=r);var c=r.x<o?o-r.x:r.x>a?r.x-a:0,h=r.y<s?s-r.y:r.y>l?r.y-l:0;return Math.sqrt(c*c+h*h)}for(var d=f(c);d;){if((c+=d+r)>h)return;d=f(c)}for(d=f(h);d;){if(c>(h-=d+r))return;d=f(h)}return{min:c,max:h,len:h-c,total:u,isClosed:0===c&&h===u&&Math.abs(n.x-i.x)<.1&&Math.abs(n.y-i.y)<.1}},e.findPointOnPath=function(t,e,r,n){for(var i,o,a,s=(n=n||{}).pathLength||t.getTotalLength(),l=n.tolerance||.001,c=n.iterationLimit||30,u=t.getPointAtLength(0)[r]>t.getPointAtLength(s)[r]?-1:1,h=0,f=0,d=s;h<c;){if(i=(f+d)/2,a=(o=t.getPointAtLength(i))[r]-e,Math.abs(a)<l)return o;u*a>0?d=i:f=i,h++}return o}},function(t,e,r){"use strict";var n=r(5);t.exports=function(t,e){for(var r=t._context.locale,i=0;i<2;i++){for(var o=t._context.locales,a=0;a<2;a++){var s=(o[r]||{}).dictionary;if(s){var l=s[e];if(l)return l}o=n.localeRegistry}var c=r.split("-")[0];if(c===r)break;r=c}return e}},function(t,e,r){"use strict";var n=r(3),i=r(6),o=[];t.exports=function(t,e){if(-1===o.indexOf(t)){o.push(t);var r=1e3;i(e)?r=e:"long"===e&&(r=3e3);var a=n.select("body").selectAll(".plotly-notifier").data([0]);a.enter().append("div").classed("plotly-notifier",!0),a.selectAll(".notifier-note").data(o).enter().append("div").classed("notifier-note",!0).style("opacity",0).each(function(t){var e=n.select(this);e.append("button").classed("notifier-close",!0).html("&times;").on("click",function(){e.transition().call(s)});for(var i=e.append("p"),o=t.split(/<br\s*\/?>/g),a=0;a<o.length;a++)a&&i.append("br"),i.append("span").text(o[a]);e.transition().duration(700).style("opacity",1).transition().delay(r).call(s)})}function s(t){t.duration(700).style("opacity",0).each("end",function(t){var e=o.indexOf(t);-1!==e&&o.splice(e,1),n.select(this).remove()})}}},function(t,e,r){"use strict";t.exports=function(t){for(var e={},r=[],n=0,i=0;i<t.length;i++){var o=t[i];1!==e[o]&&(e[o]=1,r[n++]=o)}return r}},function(t,e,r){"use strict";function n(t){return!0===t.visible}function i(t){return!0===t[0].trace.visible}t.exports=function(t){for(var e,r=(e=t,Array.isArray(e)&&Array.isArray(e[0])&&e[0][0]&&e[0][0].trace?i:n),o=[],a=0;a<t.length;a++){var s=t[a];r(s)&&o.push(s)}return o}},function(t,e,r){"use strict";var n=r(6),i=r(21).BADNUM,o=/^['"%,$#\s']+|[, ]|['"%,$#\s']+$/g;t.exports=function(t){return"string"==typeof t&&(t=t.replace(o,"")),n(t)?Number(t):i}},function(t,e,r){"use strict";t.exports=function(t){return t}},function(t,e,r){"use strict";var n=r(50),i=n.marker;t.exports={r:n.r,t:n.t,marker:{color:i.color,size:i.size,symbol:i.symbol,opacity:i.opacity,editType:"calc"}}},function(t,e,r){"use strict";var n=r(1);t.exports=function(t){return n.isPlainObject(t.colorbar)}},function(t,e,r){"use strict";var n=r(1),i=r(155),o=r(156),a=r(157),s=r(67);t.exports=function(t,e,r){var l=e.colorbar={},c=t.colorbar||{};function u(t,e){return n.coerce(c,l,s,t,e)}u("thickness","fraction"===u("thicknessmode")?30/(r.width-r.margin.l-r.margin.r):30),u("len","fraction"===u("lenmode")?1:r.height-r.margin.t-r.margin.b),u("x"),u("xanchor"),u("xpad"),u("y"),u("yanchor"),u("ypad"),n.noneOrAll(c,l,["x","y"]),u("outlinecolor"),u("outlinewidth"),u("bordercolor"),u("borderwidth"),u("bgcolor"),i(c,l,u,"linear"),a(c,l,u,"linear",{outerTicks:!1,font:r.font,noHover:!0}),o(c,l,u,"linear",{outerTicks:!1,font:r.font,noHover:!0}),u("title",r._dfltTitle.colorbar),n.coerceFont(u,"titlefont",r.font),u("titleside")}},function(t,e,r){"use strict";t.exports=function(t,e,r){for(var n=t.length,i=new Array(n),o=new Array(n),a=0;a<n;a++){var s=t[a];i[a]=e+s[0]*(r-e),o[a]=s[1]}return{domain:i,range:o}}},function(t,e,r){"use strict";var n=r(3),i=r(28),o=r(6),a=r(4);function s(t){var e={r:t[0],g:t[1],b:t[2],a:t[3]};return i(e).toRgbString()}t.exports=function(t,e){e=e||{};for(var r=t.domain,l=t.range,c=l.length,u=new Array(c),h=0;h<c;h++){var f=i(l[h]).toRgb();u[h]=[f.r,f.g,f.b,f.a]}var d,p=n.scale.linear().domain(r).range(u).clamp(!0),v=e.noNumericCheck,y=e.returnArray;return(d=v&&y?p:v?function(t){return s(p(t))}:y?function(t){return o(t)?p(t):i(t).isValid()?t:a.defaultLine}:function(t){return o(t)?s(p(t)):i(t).isValid()?t:a.defaultLine}).domain=p.domain,d.range=function(){return l},d}},function(t,e,r){"use strict";t.exports={entityToUnicode:{mu:"","#956":"",amp:"&","#28":"&",lt:"<","#60":"<",gt:">","#62":">",nbsp:"","#160":"",times:"","#215":"",plusmn:"","#177":"",deg:"","#176":""}}},function(t,e,r){"use strict";var n=r(6);t.exports=function(t){var e=t.marker,r=e.sizeref||1,i=e.sizemin||0,o="area"===e.sizemode?function(t){return Math.sqrt(t/r)}:function(t){return t/r};return function(t){var e=o(t/2);return n(e)&&e>0?Math.max(e,i):0}}},function(t,e,r){"use strict";var n=r(3);t.exports={circle:{n:0,f:function(t){var e=n.round(t,2);return"M"+e+",0A"+e+","+e+" 0 1,1 0,-"+e+"A"+e+","+e+" 0 0,1 "+e+",0Z"}},square:{n:1,f:function(t){var e=n.round(t,2);return"M"+e+","+e+"H-"+e+"V-"+e+"H"+e+"Z"}},diamond:{n:2,f:function(t){var e=n.round(1.3*t,2);return"M"+e+",0L0,"+e+"L-"+e+",0L0,-"+e+"Z"}},cross:{n:3,f:function(t){var e=n.round(.4*t,2),r=n.round(1.2*t,2);return"M"+r+","+e+"H"+e+"V"+r+"H-"+e+"V"+e+"H-"+r+"V-"+e+"H-"+e+"V-"+r+"H"+e+"V-"+e+"H"+r+"Z"}},x:{n:4,f:function(t){var e=n.round(.8*t/Math.sqrt(2),2),r="l"+e+","+e,i="l"+e+",-"+e,o="l-"+e+",-"+e,a="l-"+e+","+e;return"M0,"+e+r+i+o+i+o+a+o+a+r+a+r+"Z"}},"triangle-up":{n:5,f:function(t){var e=n.round(2*t/Math.sqrt(3),2);return"M-"+e+","+n.round(t/2,2)+"H"+e+"L0,-"+n.round(t,2)+"Z"}},"triangle-down":{n:6,f:function(t){var e=n.round(2*t/Math.sqrt(3),2);return"M-"+e+",-"+n.round(t/2,2)+"H"+e+"L0,"+n.round(t,2)+"Z"}},"triangle-left":{n:7,f:function(t){var e=n.round(2*t/Math.sqrt(3),2);return"M"+n.round(t/2,2)+",-"+e+"V"+e+"L-"+n.round(t,2)+",0Z"}},"triangle-right":{n:8,f:function(t){var e=n.round(2*t/Math.sqrt(3),2);return"M-"+n.round(t/2,2)+",-"+e+"V"+e+"L"+n.round(t,2)+",0Z"}},"triangle-ne":{n:9,f:function(t){var e=n.round(.6*t,2),r=n.round(1.2*t,2);return"M-"+r+",-"+e+"H"+e+"V"+r+"Z"}},"triangle-se":{n:10,f:function(t){var e=n.round(.6*t,2),r=n.round(1.2*t,2);return"M"+e+",-"+r+"V"+e+"H-"+r+"Z"}},"triangle-sw":{n:11,f:function(t){var e=n.round(.6*t,2),r=n.round(1.2*t,2);return"M"+r+","+e+"H-"+e+"V-"+r+"Z"}},"triangle-nw":{n:12,f:function(t){var e=n.round(.6*t,2),r=n.round(1.2*t,2);return"M-"+e+","+r+"V-"+e+"H"+r+"Z"}},pentagon:{n:13,f:function(t){var e=n.round(.951*t,2),r=n.round(.588*t,2),i=n.round(-t,2),o=n.round(-.309*t,2);return"M"+e+","+o+"L"+r+","+n.round(.809*t,2)+"H-"+r+"L-"+e+","+o+"L0,"+i+"Z"}},hexagon:{n:14,f:function(t){var e=n.round(t,2),r=n.round(t/2,2),i=n.round(t*Math.sqrt(3)/2,2);return"M"+i+",-"+r+"V"+r+"L0,"+e+"L-"+i+","+r+"V-"+r+"L0,-"+e+"Z"}},hexagon2:{n:15,f:function(t){var e=n.round(t,2),r=n.round(t/2,2),i=n.round(t*Math.sqrt(3)/2,2);return"M-"+r+","+i+"H"+r+"L"+e+",0L"+r+",-"+i+"H-"+r+"L-"+e+",0Z"}},octagon:{n:16,f:function(t){var e=n.round(.924*t,2),r=n.round(.383*t,2);return"M-"+r+",-"+e+"H"+r+"L"+e+",-"+r+"V"+r+"L"+r+","+e+"H-"+r+"L-"+e+","+r+"V-"+r+"Z"}},star:{n:17,f:function(t){var e=1.4*t,r=n.round(.225*e,2),i=n.round(.951*e,2),o=n.round(.363*e,2),a=n.round(.588*e,2),s=n.round(-e,2),l=n.round(-.309*e,2),c=n.round(.118*e,2),u=n.round(.809*e,2);return"M"+r+","+l+"H"+i+"L"+o+","+c+"L"+a+","+u+"L0,"+n.round(.382*e,2)+"L-"+a+","+u+"L-"+o+","+c+"L-"+i+","+l+"H-"+r+"L0,"+s+"Z"}},hexagram:{n:18,f:function(t){var e=n.round(.66*t,2),r=n.round(.38*t,2),i=n.round(.76*t,2);return"M-"+i+",0l-"+r+",-"+e+"h"+i+"l"+r+",-"+e+"l"+r+","+e+"h"+i+"l-"+r+","+e+"l"+r+","+e+"h-"+i+"l-"+r+","+e+"l-"+r+",-"+e+"h-"+i+"Z"}},"star-triangle-up":{n:19,f:function(t){var e=n.round(t*Math.sqrt(3)*.8,2),r=n.round(.8*t,2),i=n.round(1.6*t,2),o=n.round(4*t,2),a="A "+o+","+o+" 0 0 1 ";return"M-"+e+","+r+a+e+","+r+a+"0,-"+i+a+"-"+e+","+r+"Z"}},"star-triangle-down":{n:20,f:function(t){var e=n.round(t*Math.sqrt(3)*.8,2),r=n.round(.8*t,2),i=n.round(1.6*t,2),o=n.round(4*t,2),a="A "+o+","+o+" 0 0 1 ";return"M"+e+",-"+r+a+"-"+e+",-"+r+a+"0,"+i+a+e+",-"+r+"Z"}},"star-square":{n:21,f:function(t){var e=n.round(1.1*t,2),r=n.round(2*t,2),i="A "+r+","+r+" 0 0 1 ";return"M-"+e+",-"+e+i+"-"+e+","+e+i+e+","+e+i+e+",-"+e+i+"-"+e+",-"+e+"Z"}},"star-diamond":{n:22,f:function(t){var e=n.round(1.4*t,2),r=n.round(1.9*t,2),i="A "+r+","+r+" 0 0 1 ";return"M-"+e+",0"+i+"0,"+e+i+e+",0"+i+"0,-"+e+i+"-"+e+",0Z"}},"diamond-tall":{n:23,f:function(t){var e=n.round(.7*t,2),r=n.round(1.4*t,2);return"M0,"+r+"L"+e+",0L0,-"+r+"L-"+e+",0Z"}},"diamond-wide":{n:24,f:function(t){var e=n.round(1.4*t,2),r=n.round(.7*t,2);return"M0,"+r+"L"+e+",0L0,-"+r+"L-"+e+",0Z"}},hourglass:{n:25,f:function(t){var e=n.round(t,2);return"M"+e+","+e+"H-"+e+"L"+e+",-"+e+"H-"+e+"Z"},noDot:!0},bowtie:{n:26,f:function(t){var e=n.round(t,2);return"M"+e+","+e+"V-"+e+"L-"+e+","+e+"V-"+e+"Z"},noDot:!0},"circle-cross":{n:27,f:function(t){var e=n.round(t,2);return"M0,"+e+"V-"+e+"M"+e+",0H-"+e+"M"+e+",0A"+e+","+e+" 0 1,1 0,-"+e+"A"+e+","+e+" 0 0,1 "+e+",0Z"},needLine:!0,noDot:!0},"circle-x":{n:28,f:function(t){var e=n.round(t,2),r=n.round(t/Math.sqrt(2),2);return"M"+r+","+r+"L-"+r+",-"+r+"M"+r+",-"+r+"L-"+r+","+r+"M"+e+",0A"+e+","+e+" 0 1,1 0,-"+e+"A"+e+","+e+" 0 0,1 "+e+",0Z"},needLine:!0,noDot:!0},"square-cross":{n:29,f:function(t){var e=n.round(t,2);return"M0,"+e+"V-"+e+"M"+e+",0H-"+e+"M"+e+","+e+"H-"+e+"V-"+e+"H"+e+"Z"},needLine:!0,noDot:!0},"square-x":{n:30,f:function(t){var e=n.round(t,2);return"M"+e+","+e+"L-"+e+",-"+e+"M"+e+",-"+e+"L-"+e+","+e+"M"+e+","+e+"H-"+e+"V-"+e+"H"+e+"Z"},needLine:!0,noDot:!0},"diamond-cross":{n:31,f:function(t){var e=n.round(1.3*t,2);return"M"+e+",0L0,"+e+"L-"+e+",0L0,-"+e+"ZM0,-"+e+"V"+e+"M-"+e+",0H"+e},needLine:!0,noDot:!0},"diamond-x":{n:32,f:function(t){var e=n.round(1.3*t,2),r=n.round(.65*t,2);return"M"+e+",0L0,"+e+"L-"+e+",0L0,-"+e+"ZM-"+r+",-"+r+"L"+r+","+r+"M-"+r+","+r+"L"+r+",-"+r},needLine:!0,noDot:!0},"cross-thin":{n:33,f:function(t){var e=n.round(1.4*t,2);return"M0,"+e+"V-"+e+"M"+e+",0H-"+e},needLine:!0,noDot:!0,noFill:!0},"x-thin":{n:34,f:function(t){var e=n.round(t,2);return"M"+e+","+e+"L-"+e+",-"+e+"M"+e+",-"+e+"L-"+e+","+e},needLine:!0,noDot:!0,noFill:!0},asterisk:{n:35,f:function(t){var e=n.round(1.2*t,2),r=n.round(.85*t,2);return"M0,"+e+"V-"+e+"M"+e+",0H-"+e+"M"+r+","+r+"L-"+r+",-"+r+"M"+r+",-"+r+"L-"+r+","+r},needLine:!0,noDot:!0,noFill:!0},hash:{n:36,f:function(t){var e=n.round(t/2,2),r=n.round(t,2);return"M"+e+","+r+"V-"+r+"m-"+r+",0V"+r+"M"+r+","+e+"H-"+r+"m0,-"+r+"H"+r},needLine:!0,noFill:!0},"y-up":{n:37,f:function(t){var e=n.round(1.2*t,2),r=n.round(1.6*t,2),i=n.round(.8*t,2);return"M-"+e+","+i+"L0,0M"+e+","+i+"L0,0M0,-"+r+"L0,0"},needLine:!0,noDot:!0,noFill:!0},"y-down":{n:38,f:function(t){var e=n.round(1.2*t,2),r=n.round(1.6*t,2),i=n.round(.8*t,2);return"M-"+e+",-"+i+"L0,0M"+e+",-"+i+"L0,0M0,"+r+"L0,0"},needLine:!0,noDot:!0,noFill:!0},"y-left":{n:39,f:function(t){var e=n.round(1.2*t,2),r=n.round(1.6*t,2),i=n.round(.8*t,2);return"M"+i+","+e+"L0,0M"+i+",-"+e+"L0,0M-"+r+",0L0,0"},needLine:!0,noDot:!0,noFill:!0},"y-right":{n:40,f:function(t){var e=n.round(1.2*t,2),r=n.round(1.6*t,2),i=n.round(.8*t,2);return"M-"+i+","+e+"L0,0M-"+i+",-"+e+"L0,0M"+r+",0L0,0"},needLine:!0,noDot:!0,noFill:!0},"line-ew":{n:41,f:function(t){var e=n.round(1.4*t,2);return"M"+e+",0H-"+e},needLine:!0,noDot:!0,noFill:!0},"line-ns":{n:42,f:function(t){var e=n.round(1.4*t,2);return"M0,"+e+"V-"+e},needLine:!0,noDot:!0,noFill:!0},"line-ne":{n:43,f:function(t){var e=n.round(t,2);return"M"+e+",-"+e+"L-"+e+","+e},needLine:!0,noDot:!0,noFill:!0},"line-nw":{n:44,f:function(t){var e=n.round(t,2);return"M"+e+","+e+"L-"+e+",-"+e},needLine:!0,noDot:!0,noFill:!0}}},function(t,e,r){"use strict";var n=r(34),i=r(18).extendFlat,o=r(39).overrideAll,a=i({},n.domain,{description:["Polar chart subplots are not supported yet.","This key has currently no effect."].join(" ")});function s(t,e){var r={showline:{valType:"boolean",role:"style",description:["Determines whether or not the line bounding this",t,"axis","will be shown on the figure."].join(" ")},showticklabels:{valType:"boolean",role:"style",description:["Determines whether or not the",t,"axis ticks","will feature tick labels."].join(" ")},tickorientation:{valType:"enumerated",values:["horizontal","vertical"],role:"style",description:["Sets the orientation (from the paper perspective)","of the",t,"axis tick labels."].join(" ")},ticklen:{valType:"number",min:0,role:"style",description:["Sets the length of the tick lines on this",t,"axis."].join(" ")},tickcolor:{valType:"color",role:"style",description:["Sets the color of the tick lines on this",t,"axis."].join(" ")},ticksuffix:{valType:"string",role:"style",description:["Sets the length of the tick lines on this",t,"axis."].join(" ")},endpadding:{valType:"number",role:"style"},visible:{valType:"boolean",role:"info",description:["Determines whether or not this axis will be visible."].join(" ")}};return i({},e,r)}t.exports=o({radialaxis:s("radial",{range:{valType:"info_array",role:"info",items:[{valType:"number"},{valType:"number"}],description:["Defines the start and end point of this radial axis."].join(" ")},domain:a,orientation:{valType:"number",role:"style",description:["Sets the orientation (an angle with respect to the origin)","of the radial axis."].join(" ")}}),angularaxis:s("angular",{range:{valType:"info_array",role:"info",items:[{valType:"number",dflt:0},{valType:"number",dflt:360}],description:["Defines the start and end point of this angular axis."].join(" ")},domain:a}),layout:{direction:{valType:"enumerated",values:["clockwise","counterclockwise"],role:"info",description:["For polar plots only.","Sets the direction corresponding to positive angles."].join(" ")},orientation:{valType:"angle",role:"info",description:["For polar plots only.","Rotates the entire polar by the given angle."].join(" ")}}},"plot","nested")},function(t,e,r){"use strict";var n=r(6),i=r(5),o=r(11),a=r(327);function s(t,e,r,i){var s=e["error_"+i]||{},l=[];if(s.visible&&-1!==["linear","log"].indexOf(r.type)){for(var c=a(s),u=0;u<t.length;u++){var h=t[u],f=h[i];if(n(r.c2l(f))){var d=c(f,u);if(n(d[0])&&n(d[1])){var p=h[i+"s"]=f-d[0],v=h[i+"h"]=f+d[1];l.push(p,v)}}}o.expand(r,l,{padded:!0})}}t.exports=function(t){for(var e=t.calcdata,r=0;r<e.length;r++){var n=e[r],a=n[0].trace;if(i.traceIs(a,"errorBarsOK")){var l=o.getFromId(t,a.xaxis),c=o.getFromId(t,a.yaxis);s(n,a,l,"x"),s(n,a,c,"y")}}}},function(t,e,r){"use strict";function n(t,e){return"percent"===t?function(t){return Math.abs(t*e/100)}:"constant"===t?function(){return Math.abs(e)}:"sqrt"===t?function(t){return Math.sqrt(Math.abs(t))}:void 0}t.exports=function(t){var e=t.type,r=t.symmetric;if("data"===e){var i=t.array,o=t.arrayminus;return r||void 0===o?function(t,e){var r=+i[e];return[r,r]}:function(t,e){return[+o[e],+i[e]]}}var a=n(e,t.value),s=n(e,t.valueminus);return r||void 0===t.valueminus?function(t){var e=a(t);return[e,e]}:function(t){return[s(t),a(t)]}}},function(t,e,r){"use strict";var n=r(3),i=r(6),o=r(9),a=r(26);t.exports=function(t,e,r){var s=e.xaxis,l=e.yaxis,c=r&&r.duration>0;t.each(function(t){var u,h=t[0].trace,f=h.error_x||{},d=h.error_y||{};h.ids&&(u=function(t){return t.id});var p=a.hasMarkers(h)&&h.marker.maxdisplayed>0;d.visible||f.visible||(t=[]);var v=n.select(this).selectAll("g.errorbar").data(t,u);if(v.exit().remove(),t.length){f.visible||v.selectAll("path.xerror").remove(),d.visible||v.selectAll("path.yerror").remove(),v.style("opacity",1);var y=v.enter().append("g").classed("errorbar",!0);c&&y.style("opacity",0).transition().duration(r.duration).style("opacity",1),o.setClipUrl(v,e.layerClipId),v.each(function(t){var e=n.select(this),o=function(t,e,r){var n={x:e.c2p(t.x),y:r.c2p(t.y)};void 0!==t.yh&&(n.yh=r.c2p(t.yh),n.ys=r.c2p(t.ys),i(n.ys)||(n.noYS=!0,n.ys=r.c2p(t.ys,!0)));void 0!==t.xh&&(n.xh=e.c2p(t.xh),n.xs=e.c2p(t.xs),i(n.xs)||(n.noXS=!0,n.xs=e.c2p(t.xs,!0)));return n}(t,s,l);if(!p||t.vis){var a;if(d.visible&&i(o.x)&&i(o.yh)&&i(o.ys)){var u=d.width;a="M"+(o.x-u)+","+o.yh+"h"+2*u+"m-"+u+",0V"+o.ys,o.noYS||(a+="m-"+u+",0h"+2*u);var h=e.select("path.yerror");!h.size()?h=e.append("path").style("vector-effect","non-scaling-stroke").classed("yerror",!0):c&&(h=h.transition().duration(r.duration).ease(r.easing)),h.attr("d",a)}if(f.visible&&i(o.y)&&i(o.xh)&&i(o.xs)){var v=(f.copy_ystyle?d:f).width;a="M"+o.xh+","+(o.y-v)+"v"+2*v+"m0,-"+v+"H"+o.xs,o.noXS||(a+="m0,-"+v+"v"+2*v);var y=e.select("path.xerror");!y.size()?y=e.append("path").style("vector-effect","non-scaling-stroke").classed("xerror",!0):c&&(y=y.transition().duration(r.duration).ease(r.easing)),y.attr("d",a)}}})}})}},function(t,e,r){"use strict";var n=r(3),i=r(4);t.exports=function(t){t.each(function(t){var e=t[0].trace,r=e.error_y||{},o=e.error_x||{},a=n.select(this);a.selectAll("path.yerror").style("stroke-width",r.thickness+"px").call(i.stroke,r.color),o.copy_ystyle&&(o=r),a.selectAll("path.xerror").style("stroke-width",o.thickness+"px").call(i.stroke,o.color)})}},function(t,e,r){"use strict";var n=r(12),i=r(1);function o(t,e,r){var n,o,a,s=!1;if("data"===e.type)n=t._fullData[null!==e.traces?e.traces[0]:0];else{if("layout"!==e.type)return!1;n=t._fullLayout}return o=i.nestedProperty(n,e.prop).get(),(a=r[e.type]=r[e.type]||{}).hasOwnProperty(e.prop)&&a[e.prop]!==o&&(s=!0),a[e.prop]=o,{changed:s,value:o}}function a(t,e){var r=[],n=e[0],o={};if("string"==typeof n)o[n]=e[1];else{if(!i.isPlainObject(n))return r;o=n}return l(o,function(t,e,n){r.push({type:"layout",prop:t,value:n})},"",0),r}function s(t,e){var r,n,o,a,s=[];if(n=e[0],o=e[1],r=e[2],a={},"string"==typeof n)a[n]=o;else{if(!i.isPlainObject(n))return s;a=n,void 0===r&&(r=o)}return void 0===r&&(r=null),l(a,function(e,n,i){var o;if(Array.isArray(i)){var a=Math.min(i.length,t.data.length);r&&(a=Math.min(a,r.length)),o=[];for(var l=0;l<a;l++)o[l]=r?r[l]:l}else o=r?r.slice(0):null;if(null===o)Array.isArray(i)&&(i=i[0]);else if(Array.isArray(o)){if(!Array.isArray(i)){var c=i;i=[];for(var u=0;u<o.length;u++)i[u]=c}i.length=Math.min(o.length,i.length)}s.push({type:"data",prop:e,traces:o,value:i})},"",0),s}function l(t,e,r,n){Object.keys(t).forEach(function(o){var a=t[o];if("_"!==o[0]){var s=r+(n>0?".":"")+o;i.isPlainObject(a)?l(a,e,s,n+1):e(s,o,a)}})}e.manageCommandObserver=function(t,r,n,a){var s={},l=!0;r&&r._commandObserver&&(s=r._commandObserver),s.cache||(s.cache={}),s.lookupTable={};var c=e.hasSimpleAPICommandBindings(t,n,s.lookupTable);if(r&&r._commandObserver){if(c)return s;if(r._commandObserver.remove)return r._commandObserver.remove(),r._commandObserver=null,s}if(c){o(t,c,s.cache),s.check=function(){if(l){var e=o(t,c,s.cache);return e.changed&&a&&void 0!==s.lookupTable[e.value]&&(s.disable(),Promise.resolve(a({value:e.value,type:c.type,prop:c.prop,traces:c.traces,index:s.lookupTable[e.value]})).then(s.enable,s.enable)),e.changed}};for(var u=["plotly_relayout","plotly_redraw","plotly_restyle","plotly_update","plotly_animatingframe","plotly_afterplot"],h=0;h<u.length;h++)t._internalOn(u[h],s.check);s.remove=function(){for(var e=0;e<u.length;e++)t._removeInternalListener(u[e],s.check)}}else i.log("Unable to automatically bind plot updates to API command"),s.lookupTable={},s.remove=function(){};return s.disable=function(){l=!1},s.enable=function(){l=!0},r&&(r._commandObserver=s),s},e.hasSimpleAPICommandBindings=function(t,r,n){var i,o,a=r.length;for(i=0;i<a;i++){var s,l=r[i],c=l.method,u=l.args;if(Array.isArray(u)||(u=[]),!c)return!1;var h=e.computeAPICommandBindings(t,c,u);if(1!==h.length)return!1;if(o){if((s=h[0]).type!==o.type)return!1;if(s.prop!==o.prop)return!1;if(Array.isArray(o.traces)){if(!Array.isArray(s.traces))return!1;s.traces.sort();for(var f=0;f<o.traces.length;f++)if(o.traces[f]!==s.traces[f])return!1}else if(s.prop!==o.prop)return!1}else o=h[0],Array.isArray(o.traces)&&o.traces.sort();var d=(s=h[0]).value;if(Array.isArray(d)){if(1!==d.length)return!1;d=d[0]}n&&(n[d]=i)}return o},e.executeAPICommand=function(t,e,r){if("skip"===e)return Promise.resolve();var o=n[e],a=[t];Array.isArray(r)||(r=[]);for(var s=0;s<r.length;s++)a.push(r[s]);return o.apply(null,a).catch(function(t){return i.warn("API call to Plotly."+e+" rejected.",t),Promise.reject(t)})},e.computeAPICommandBindings=function(t,e,r){var n;switch(Array.isArray(r)||(r=[]),e){case"restyle":n=s(t,r);break;case"relayout":n=a(t,r);break;case"update":n=s(t,[r[0],r[2]]).concat(a(t,[r[1]]));break;case"animate":n=function(t,e){return Array.isArray(e[0])&&1===e[0].length&&-1!==["string","number"].indexOf(typeof e[0][0])?[{type:"layout",prop:"_currentFrame",value:e[0][0].toString()}]:[]}(0,r);break;default:n=[]}return n}},function(t,e,r){"use strict";var n=r(24),i=r(26),o=r(5),a=r(332),s=r(333);function l(t,e){if(e.length)if(Array.isArray(e[0]))for(var r=0;r<e.length;r++)t.push(e[r]);else t.push(e);return t}t.exports=function(t){var e=t._fullLayout,r=t._context,c=e._modeBar;if(r.displayModeBar){if(!Array.isArray(r.modeBarButtonsToRemove))throw new Error(["*modeBarButtonsToRemove* configuration options","must be an array."].join(" "));if(!Array.isArray(r.modeBarButtonsToAdd))throw new Error(["*modeBarButtonsToAdd* configuration options","must be an array."].join(" "));var u,h=r.modeBarButtons;u=Array.isArray(h)&&h.length?function(t){for(var e=0;e<t.length;e++)for(var r=t[e],n=0;n<r.length;n++){var i=r[n];if("string"==typeof i){if(void 0===s[i])throw new Error(["*modeBarButtons* configuration options","invalid button name"].join(" "));t[e][n]=s[i]}}return t}(h):function(t,e,r){var a=t._fullLayout,c=t._fullData,u=a._has("cartesian"),h=a._has("gl3d"),f=a._has("geo"),d=a._has("pie"),p=a._has("gl2d"),v=a._has("ternary"),y=a._has("mapbox"),g=a._has("polar"),m=[];function b(t){for(var r=[],n=0;n<t.length;n++){var i=t[n];-1===e.indexOf(i)&&r.push(s[i])}m.push(r)}if(b(["toImage","sendDataToCloud"]),(u||p||d||v)+f+h>1)return b(["resetViews","toggleHover"]),l(m,r);h&&(b(["zoom3d","pan3d","orbitRotation","tableRotation"]),b(["resetCameraDefault3d","resetCameraLastSave3d"]),b(["hoverClosest3d"]));var x=function(t){for(var e=n.list({_fullLayout:t},null,!0),r=0;r<e.length;r++)if(!e[r].fixedrange)return!1;return!0}(a),w=[];((u||p)&&!x||v)&&(w=["zoom2d","pan2d"]);(y||f)&&(w=["pan2d"]);g&&(w=["zoom2d"]);(function(t){for(var e=!1,r=0;r<t.length&&!e;r++){var n=t[r];n._module&&n._module.selectPoints&&(o.traceIs(n,"scatter-like")?(i.hasMarkers(n)||i.hasText(n))&&(e=!0):o.traceIs(n,"box-violin")&&"all"!==n.boxpoints&&"all"!==n.points||(e=!0))}return e})(c)&&(w.push("select2d"),w.push("lasso2d"));w.length&&b(w);!u&&!p||x||v||b(["zoomIn2d","zoomOut2d","autoScale2d","resetScale2d"]);u&&d?b(["toggleHover"]):p?b(["hoverClosestGl2d"]):u?b(["toggleSpikelines","hoverClosestCartesian","hoverCompareCartesian"]):d?b(["hoverClosestPie"]):y?b(["resetViewMapbox","toggleHover"]):f&&(b(["zoomInGeo","zoomOutGeo","resetGeo"]),b(["hoverClosestGeo"]));return l(m,r)}(t,r.modeBarButtonsToRemove,r.modeBarButtonsToAdd),c?c.update(t,u):e._modeBar=a(t,u)}else c&&(c.destroy(),delete e._modeBar)}},function(t,e,r){"use strict";var n=r(3),i=r(1),o=r(103);function a(t){this.container=t.container,this.element=document.createElement("div"),this.update(t.graphInfo,t.buttons),this.container.appendChild(this.element)}var s=a.prototype;s.update=function(t,e){this.graphInfo=t;var r=this.graphInfo._context;"hover"===r.displayModeBar?this.element.className="modebar modebar--hover":this.element.className="modebar";var n=!this.hasButtons(e),i=this.hasLogo!==r.displaylogo;(n||i)&&(this.removeAllButtons(),this.updateButtons(e),r.displaylogo&&(this.element.appendChild(this.getLogo()),this.hasLogo=!0)),this.updateActiveButton()},s.updateButtons=function(t){var e=this;this.buttons=t,this.buttonElements=[],this.buttonsNames=[],this.buttons.forEach(function(t){var r=e.createGroup();t.forEach(function(t){var n=t.name;if(!n)throw new Error("must provide button 'name' in button config");if(-1!==e.buttonsNames.indexOf(n))throw new Error("button name '"+n+"' is taken");e.buttonsNames.push(n);var i=e.createButton(t);e.buttonElements.push(i),r.appendChild(i)}),e.element.appendChild(r)})},s.createGroup=function(){var t=document.createElement("div");return t.className="modebar-group",t},s.createButton=function(t){var e=this,r=document.createElement("a");r.setAttribute("rel","tooltip"),r.className="modebar-btn";var i=t.title;void 0===i?i=t.name:"function"==typeof i&&(i=i(this.graphInfo)),(i||0===i)&&r.setAttribute("data-title",i),void 0!==t.attr&&r.setAttribute("data-attr",t.attr);var a=t.val;if(void 0!==a&&("function"==typeof a&&(a=a(this.graphInfo)),r.setAttribute("data-val",a)),"function"!=typeof t.click)throw new Error("must provide button 'click' function in button config");return r.addEventListener("click",function(r){t.click(e.graphInfo,r),e.updateActiveButton(r.currentTarget)}),r.setAttribute("data-toggle",t.toggle||!1),t.toggle&&n.select(r).classed("active",!0),r.appendChild(this.createIcon(t.icon||o.question,t.name)),r.setAttribute("data-gravity",t.gravity||"n"),r},s.createIcon=function(t,e){var r=t.ascent-t.descent,n="http://www.w3.org/2000/svg",i=document.createElementNS(n,"svg"),o=document.createElementNS(n,"path");i.setAttribute("height","1em"),i.setAttribute("width",t.width/r+"em"),i.setAttribute("viewBox",[0,0,t.width,r].join(" "));var a="toggleSpikelines"===e?"matrix(1.5 0 0 -1.5 0 "+t.ascent+")":"matrix(1 0 0 -1 0 "+t.ascent+")";return o.setAttribute("d",t.path),o.setAttribute("transform",a),i.appendChild(o),i},s.updateActiveButton=function(t){var e=this.graphInfo._fullLayout,r=void 0!==t?t.getAttribute("data-attr"):null;this.buttonElements.forEach(function(t){var o=t.getAttribute("data-val")||!0,a=t.getAttribute("data-attr"),s="true"===t.getAttribute("data-toggle"),l=n.select(t);if(s)a===r&&l.classed("active",!l.classed("active"));else{var c=null===a?a:i.nestedProperty(e,a).get();l.classed("active",c===o)}})},s.hasButtons=function(t){var e=this.buttons;if(!e)return!1;if(t.length!==e.length)return!1;for(var r=0;r<t.length;++r){if(t[r].length!==e[r].length)return!1;for(var n=0;n<t[r].length;n++)if(t[r][n].name!==e[r][n].name)return!1}return!0},s.getLogo=function(){var t=this.createGroup(),e=document.createElement("a");return e.href="https://plot.ly/",e.target="_blank",e.setAttribute("data-title",i._(this.graphInfo,"Produced with Plotly")),e.className="modebar-btn plotlyjsicon modebar-btn--logo",e.appendChild(this.createIcon(o.plotlylogo)),t.appendChild(e),t},s.removeAllButtons=function(){for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);this.hasLogo=!1},s.destroy=function(){i.removeElement(this.container.querySelector(".modebar"))},t.exports=function(t,e){var r=t._fullLayout,i=new a({graphInfo:t,container:r._paperdiv.node(),buttons:e});return r._privateplot&&n.select(i.element).append("span").classed("badge-private float--left",!0).text("PRIVATE"),i}},function(t,e,r){"use strict";var n=r(12),i=r(14),o=r(24),a=r(1),s=r(104),l=r(103),c=a._,u=t.exports={};function h(t,e){var r,i,a=e.currentTarget,s=a.getAttribute("data-attr"),l=a.getAttribute("data-val")||!0,c=t._fullLayout,u={},h=o.list(t,null,!0),f="on";if("zoom"===s){var d,p="in"===l?.5:2,v=(1+p)/2,y=(1-p)/2;for(i=0;i<h.length;i++)if(!(r=h[i]).fixedrange)if(d=r._name,"auto"===l)u[d+".autorange"]=!0;else if("reset"===l){if(void 0===r._rangeInitial)u[d+".autorange"]=!0;else{var g=r._rangeInitial.slice();u[d+".range[0]"]=g[0],u[d+".range[1]"]=g[1]}void 0!==r._showSpikeInitial&&(u[d+".showspikes"]=r._showSpikeInitial,"on"!==f||r._showSpikeInitial||(f="off"))}else{var m=[r.r2l(r.range[0]),r.r2l(r.range[1])],b=[v*m[0]+y*m[1],v*m[1]+y*m[0]];u[d+".range[0]"]=r.l2r(b[0]),u[d+".range[1]"]=r.l2r(b[1])}c._cartesianSpikesEnabled=f}else{if("hovermode"!==s||"x"!==l&&"y"!==l){if("hovermode"===s&&"closest"===l){for(i=0;i<h.length;i++)r=h[i],"on"!==f||r.showspikes||(f="off");c._cartesianSpikesEnabled=f}}else l=c._isHoriz?"y":"x",a.setAttribute("data-val",l);u[s]=l}n.relayout(t,u)}function f(t,e){for(var r=e.currentTarget,i=r.getAttribute("data-attr"),o=r.getAttribute("data-val")||!0,a=t._fullLayout._subplots.gl3d,s={},l=i.split("."),c=0;c<a.length;c++)s[a[c]+"."+l[1]]=o;n.relayout(t,s)}function d(t,e){for(var r=e.currentTarget.getAttribute("data-attr"),i=t._fullLayout,o=i._subplots.gl3d,s={},l=0;l<o.length;l++){var c=o[l],u=c+".camera",h=i[c]._scene;"resetDefault"===r?s[u]=null:"resetLastSave"===r&&(s[u]=a.extendDeep({},h.cameraInitial))}n.relayout(t,s)}function p(t,e){var r=e.currentTarget,i=r._previousVal||!1,o=t.layout,s=t._fullLayout,l=s._subplots.gl3d,c=["xaxis","yaxis","zaxis"],u=["showspikes","spikesides","spikethickness","spikecolor"],h={},f={},d={};if(i)d=a.extendDeep(o,i),r._previousVal=null;else{d={"allaxes.showspikes":!1};for(var p=0;p<l.length;p++){var v=l[p],y=s[v],g=h[v]={};g.hovermode=y.hovermode,d[v+".hovermode"]=!1;for(var m=0;m<3;m++){var b=c[m];f=g[b]={};for(var x=0;x<u.length;x++){var w=u[x];f[w]=y[b][w]}}}r._previousVal=a.extendDeep({},h)}n.relayout(t,d)}function v(t,e){for(var r=e.currentTarget,i=r.getAttribute("data-attr"),o=r.getAttribute("data-val")||!0,a=t._fullLayout,s=a._subplots.geo,l=0;l<s.length;l++){var c=s[l],u=a[c];if("zoom"===i){var h=u.projection.scale,f="in"===o?2*h:.5*h;n.relayout(t,c+".projection.scale",f)}else"reset"===i&&g(t,"geo")}}function y(t){var e,r=t._fullLayout;e=r._has("cartesian")?r._isHoriz?"y":"x":"closest";var i=!t._fullLayout.hovermode&&e;n.relayout(t,"hovermode",i)}function g(t,e){for(var r=t._fullLayout,i=r._subplots[e],o={},a=0;a<i.length;a++)for(var s=i[a],l=r[s]._subplot.viewInitial,c=Object.keys(l),u=0;u<c.length;u++){var h=c[u];o[s+"."+h]=l[h]}n.relayout(t,o)}u.toImage={name:"toImage",title:function(t){return c(t,"Download plot as a png")},icon:l.camera,click:function(t){var e="png";a.notifier(c(t,"Taking snapshot - this may take a few seconds"),"long"),a.isIE()&&(a.notifier(c(t,"IE only supports svg.  Changing format to svg."),"long"),e="svg"),s(t,{format:e}).then(function(e){a.notifier(c(t,"Snapshot succeeded")+" - "+e,"long")}).catch(function(){a.notifier(c(t,"Sorry, there was a problem downloading your snapshot!"),"long")})}},u.sendDataToCloud={name:"sendDataToCloud",title:function(t){return c(t,"Edit in Chart Studio")},icon:l.disk,click:function(t){i.sendDataToCloud(t)}},u.zoom2d={name:"zoom2d",title:function(t){return c(t,"Zoom")},attr:"dragmode",val:"zoom",icon:l.zoombox,click:h},u.pan2d={name:"pan2d",title:function(t){return c(t,"Pan")},attr:"dragmode",val:"pan",icon:l.pan,click:h},u.select2d={name:"select2d",title:function(t){return c(t,"Box Select")},attr:"dragmode",val:"select",icon:l.selectbox,click:h},u.lasso2d={name:"lasso2d",title:function(t){return c(t,"Lasso Select")},attr:"dragmode",val:"lasso",icon:l.lasso,click:h},u.zoomIn2d={name:"zoomIn2d",title:function(t){return c(t,"Zoom in")},attr:"zoom",val:"in",icon:l.zoom_plus,click:h},u.zoomOut2d={name:"zoomOut2d",title:function(t){return c(t,"Zoom out")},attr:"zoom",val:"out",icon:l.zoom_minus,click:h},u.autoScale2d={name:"autoScale2d",title:function(t){return c(t,"Autoscale")},attr:"zoom",val:"auto",icon:l.autoscale,click:h},u.resetScale2d={name:"resetScale2d",title:function(t){return c(t,"Reset axes")},attr:"zoom",val:"reset",icon:l.home,click:h},u.hoverClosestCartesian={name:"hoverClosestCartesian",title:function(t){return c(t,"Show closest data on hover")},attr:"hovermode",val:"closest",icon:l.tooltip_basic,gravity:"ne",click:h},u.hoverCompareCartesian={name:"hoverCompareCartesian",title:function(t){return c(t,"Compare data on hover")},attr:"hovermode",val:function(t){return t._fullLayout._isHoriz?"y":"x"},icon:l.tooltip_compare,gravity:"ne",click:h},u.zoom3d={name:"zoom3d",title:function(t){return c(t,"Zoom")},attr:"scene.dragmode",val:"zoom",icon:l.zoombox,click:f},u.pan3d={name:"pan3d",title:function(t){return c(t,"Pan")},attr:"scene.dragmode",val:"pan",icon:l.pan,click:f},u.orbitRotation={name:"orbitRotation",title:function(t){return c(t,"Orbital rotation")},attr:"scene.dragmode",val:"orbit",icon:l["3d_rotate"],click:f},u.tableRotation={name:"tableRotation",title:function(t){return c(t,"Turntable rotation")},attr:"scene.dragmode",val:"turntable",icon:l["z-axis"],click:f},u.resetCameraDefault3d={name:"resetCameraDefault3d",title:function(t){return c(t,"Reset camera to default")},attr:"resetDefault",icon:l.home,click:d},u.resetCameraLastSave3d={name:"resetCameraLastSave3d",title:function(t){return c(t,"Reset camera to last save")},attr:"resetLastSave",icon:l.movie,click:d},u.hoverClosest3d={name:"hoverClosest3d",title:function(t){return c(t,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:l.tooltip_basic,gravity:"ne",click:p},u.zoomInGeo={name:"zoomInGeo",title:function(t){return c(t,"Zoom in")},attr:"zoom",val:"in",icon:l.zoom_plus,click:v},u.zoomOutGeo={name:"zoomOutGeo",title:function(t){return c(t,"Zoom out")},attr:"zoom",val:"out",icon:l.zoom_minus,click:v},u.resetGeo={name:"resetGeo",title:function(t){return c(t,"Reset")},attr:"reset",val:null,icon:l.autoscale,click:v},u.hoverClosestGeo={name:"hoverClosestGeo",title:function(t){return c(t,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:l.tooltip_basic,gravity:"ne",click:y},u.hoverClosestGl2d={name:"hoverClosestGl2d",title:function(t){return c(t,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:l.tooltip_basic,gravity:"ne",click:y},u.hoverClosestPie={name:"hoverClosestPie",title:function(t){return c(t,"Toggle show closest data on hover")},attr:"hovermode",val:"closest",icon:l.tooltip_basic,gravity:"ne",click:y},u.toggleHover={name:"toggleHover",title:function(t){return c(t,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:l.tooltip_basic,gravity:"ne",click:function(t,e){y(t),p(t,e)}},u.resetViews={name:"resetViews",title:function(t){return c(t,"Reset views")},icon:l.home,click:function(t,e){var r=e.currentTarget;r.setAttribute("data-attr","zoom"),r.setAttribute("data-val","reset"),h(t,e),r.setAttribute("data-attr","resetLastSave"),d(t,e),g(t,"geo"),g(t,"mapbox")}},u.toggleSpikelines={name:"toggleSpikelines",title:function(t){return c(t,"Toggle Spike Lines")},icon:l.spikeline,attr:"_cartesianSpikesEnabled",val:"on",click:function(t){var e=t._fullLayout;e._cartesianSpikesEnabled="on"===e._cartesianSpikesEnabled?"off":"on";var r=function(t){for(var e,r,n=t._fullLayout,i=o.list(t,null,!0),a={},s=0;s<i.length;s++)e=i[s],r=e._name,a[r+".showspikes"]="on"===n._cartesianSpikesEnabled||e._showSpikeInitial;return a}(t);n.relayout(t,r)}},u.resetViewMapbox={name:"resetViewMapbox",title:function(t){return c(t,"Reset view")},attr:"reset",icon:l.home,click:function(t){g(t,"mapbox")}}},function(t,e,r){"use strict";t.exports=function(t,e){var r=document.createElement("a"),n="download"in r,i=/Version\/[\d\.]+.*Safari/.test(navigator.userAgent);return new Promise(function(o,a){if("undefined"!=typeof navigator&&/MSIE [1-9]\./.test(navigator.userAgent)&&a(new Error("IE < 10 unsupported")),i&&(document.location.href="data:application/octet-stream"+t.slice(t.search(/[,;]/)),o(e)),e||(e="download"),n&&(r.href=t,r.download=e,document.body.appendChild(r),r.click(),document.body.removeChild(r),o(e)),"undefined"!=typeof navigator&&navigator.msSaveBlob){var s=t.split(/^data:image\/svg\+xml,/)[1],l=decodeURIComponent(s);navigator.msSaveBlob(new Blob([l]),e),o(e)}a(new Error("download error"))})}},function(t,e,r){"use strict";var n=r(3),i=r(6),o=r(162),a=r(12),s=r(1),l=r(109),c=r(163),u=r(5),h=r(64),f=r(14),d=r(337),p=r(165),v=r(9),y=r(4),g=r(35),m=r(42),b=r(23),x=r(360),w=r(361),_=r(363),k=r(39),T=r(22),A=r(364),M=A.enforce,S=A.clean,O=r(24);function C(t,e){try{t._fullLayout._paper.style("background",e)}catch(t){s.error(t)}}function L(t,e){C(t,y.combine(e,"white"))}function j(t,e){var r,n,i=e+1,o=[];for(r=0;r<t.length;r++)(n=t[r])<0?o.push(i+n):o.push(n);return o}function I(t,e,r){var n,i;for(n=0;n<e.length;n++){if((i=e[n])!==parseInt(i,10))throw new Error("all values in "+r+" must be integers");if(i>=t.data.length||i<-t.data.length)throw new Error(r+" must be valid indices for gd.data.");if(e.indexOf(i,n+1)>-1||i>=0&&e.indexOf(-t.data.length+i)>-1||i<0&&e.indexOf(t.data.length+i)>-1)throw new Error("each index in "+r+" must be unique.")}}function P(t,e,r){if(!Array.isArray(t.data))throw new Error("gd.data must be an array.");if(void 0===e)throw new Error("currentIndices is a required argument.");if(Array.isArray(e)||(e=[e]),I(t,e,"currentIndices"),void 0===r||Array.isArray(r)||(r=[r]),void 0!==r&&I(t,r,"newIndices"),void 0!==r&&e.length!==r.length)throw new Error("current and new indices must be of equal length.")}function E(t,e,r,n,o,a){!function(t,e,r,n){var i=s.isPlainObject(n);if(!Array.isArray(t.data))throw new Error("gd.data must be an array");if(!s.isPlainObject(e))throw new Error("update must be a key:value object");if(void 0===r)throw new Error("indices must be an integer or array of integers");for(var o in I(t,r,"indices"),e){if(!Array.isArray(e[o])||e[o].length!==r.length)throw new Error("attribute "+o+" must be an array of length equal to indices array length");if(i&&(!(o in n)||!Array.isArray(n[o])||n[o].length!==e[o].length))throw new Error("when maxPoints is set as a key:value object it must contain a 1:1 corrispondence with the keys and number of traces in the update object")}}(t,e,r,n);for(var l,c,u,h=function(t,e,r,n){var o,a,l,c,u,h=s.isPlainObject(n),f=[];for(var d in Array.isArray(r)||(r=[r]),r=j(r,t.data.length-1),e)for(var p=0;p<r.length;p++){if(o=t.data[r[p]],a=(l=s.nestedProperty(o,d)).get(),c=e[d][p],!Array.isArray(c))throw new Error("attribute: "+d+" index: "+p+" must be an array");if(!Array.isArray(a))throw new Error("cannot extend missing or non-array attribute: "+d);u=h?n[d][p]:n,i(u)||(u=-1),f.push({prop:l,target:a,insert:c,maxp:Math.floor(u)})}return f}(t,e,r,n),f=[],d={},p={},v=0;v<h.length;v++)c=h[v].prop,u=h[v].maxp,l=o(h[v].target,h[v].insert),u>=0&&u<l.length&&(f=a(l,u)),u=h[v].target.length,c.set(l),Array.isArray(d[c.astr])||(d[c.astr]=[]),Array.isArray(p[c.astr])||(p[c.astr]=[]),d[c.astr].push(f),p[c.astr].push(u);return{update:d,maxPoints:p}}function z(t){return void 0===t?null:t}function N(t,e,r){var n,i,o=t._fullLayout,l=t._fullData,c=t.data,d=k.traceFlags(),p={},v={},y={};function g(){return r.map(function(){})}function m(t){var e=a.Axes.id2name(t);-1===i.indexOf(e)&&i.push(e)}function b(t){return"LAYOUT"+t+".autorange"}function x(t){return"LAYOUT"+t+".range"}function _(n,i,o){var a;Array.isArray(n)?n.forEach(function(t){_(t,i,o)}):n in e||w.hasParent(e,n)||(a="LAYOUT"===n.substr(0,6)?s.nestedProperty(t.layout,n.replace("LAYOUT","")):s.nestedProperty(c[r[o]],n),n in v||(v[n]=g()),void 0===v[n][o]&&(v[n][o]=z(a.get())),void 0!==i&&a.set(i))}for(var T in e){if(w.hasParent(e,T))throw new Error("cannot set "+T+"and a parent attribute simultaneously");var A,M,S,O,C,L,j=e[T];if(p[T]=j,"LAYOUT"!==T.substr(0,6)){for(v[T]=g(),n=0;n<r.length;n++)if(A=c[r[n]],M=l[r[n]],O=(S=s.nestedProperty(A,T)).get(),void 0!==(C=Array.isArray(j)?j[n%j.length]:j)){if((L=h.getTraceValObject(M,S.parts))&&L.impliedEdits&&null!==C)for(var I in L.impliedEdits)_(s.relativeAttr(T,I),L.impliedEdits[I],n);else if("colorbar.thicknessmode"===T&&S.get()!==C&&-1!==["fraction","pixels"].indexOf(C)&&M.colorbar){var P=-1!==["top","bottom"].indexOf(M.colorbar.orient)?o.height-o.margin.t-o.margin.b:o.width-o.margin.l-o.margin.r;_("colorbar.thickness",M.colorbar.thickness*("fraction"===C?1/P:P),n)}else if("colorbar.lenmode"===T&&S.get()!==C&&-1!==["fraction","pixels"].indexOf(C)&&M.colorbar){var E=-1!==["top","bottom"].indexOf(M.colorbar.orient)?o.width-o.margin.l-o.margin.r:o.height-o.margin.t-o.margin.b;_("colorbar.len",M.colorbar.len*("fraction"===C?1/E:E),n)}else"colorbar.tick0"!==T&&"colorbar.dtick"!==T||_("colorbar.tickmode","linear",n);if("type"===T&&"pie"===C!=("pie"===O)){var N="x",D="y";"bar"!==C&&"bar"!==O||"h"!==A.orientation||(N="y",D="x"),s.swapAttrs(A,["?","?src"],"labels",N),s.swapAttrs(A,["d?","?0"],"label",N),s.swapAttrs(A,["?","?src"],"values",D),"pie"===O?(s.nestedProperty(A,"marker.color").set(s.nestedProperty(A,"marker.colors").get()),o._pielayer.selectAll("g.trace").remove()):u.traceIs(A,"cartesian")&&(s.nestedProperty(A,"marker.colors").set(s.nestedProperty(A,"marker.color").get()),y[A.xaxis||"x"]=!0,y[A.yaxis||"y"]=!0)}v[T][n]=z(O);if(-1!==["swapxy","swapxyaxes","orientation","orientationaxes"].indexOf(T)){if("orientation"===T){S.set(C);var R=A.x&&!A.y?"h":"v";if((S.get()||R)===M.orientation)continue}else"orientationaxes"===T&&(A.orientation={v:"h",h:"v"}[M.orientation]);w.swapXYData(A),d.calc=d.clearAxisTypes=!0}else-1!==f.dataArrayContainers.indexOf(S.parts[0])?(w.manageArrayContainers(S,C,v),d.calc=!0):(L?L.arrayOk&&(Array.isArray(C)||Array.isArray(O))?d.calc=!0:k.update(d,L):d.calc=!0,S.set(C))}if(-1!==["swapxyaxes","orientationaxes"].indexOf(T)&&a.Axes.swap(t,r),"orientationaxes"===T){var F=s.nestedProperty(t.layout,"hovermode");"x"===F.get()?F.set("y"):"y"===F.get()&&F.set("x")}if(-1!==["orientation","type"].indexOf(T)){for(i=[],n=0;n<r.length;n++){var B=c[r[n]];u.traceIs(B,"cartesian")&&(m(B.xaxis||"x"),m(B.yaxis||"y"),"type"===T&&_(["autobinx","autobiny"],!0,n))}_(i.map(b),!0,0),_(i.map(x),[0,1],0)}}else S=s.nestedProperty(t.layout,T.replace("LAYOUT","")),v[T]=[z(S.get())],S.set(Array.isArray(j)?j[0]:j),d.calc=!0}var V=!1,q=a.Axes.list(t);for(n=0;n<q.length;n++)if(q[n].autorange){V=!0;break}var H=Object.keys(y);t:for(n=0;n<H.length;n++){for(var U=H[n],W=U.charAt(0),G=W+"axis",Y=0;Y<c.length;Y++)if(u.traceIs(c[Y],"cartesian")&&(c[Y][G]||W)===U)continue t;_("LAYOUT"+a.Axes.id2name(U),null,0)}return(d.calc||d.calcIfAutorange&&V)&&(d.clearCalc=!0),(d.calc||d.plot||d.calcIfAutorange)&&(d.fullReplot=!0),{flags:d,undoit:v,redoit:p,traces:r,eventData:s.extendDeepNoArrays([],[p,r])}}function D(t,e){var r,n,i,o=t.layout,l=t._fullLayout,c=Object.keys(e),d=a.Axes.list(t),p={};for(n=0;n<c.length;n++)if(0===c[n].indexOf("allaxes")){for(i=0;i<d.length;i++){var v=d[i]._id.substr(1),y=-1!==v.indexOf("scene")?v+".":"",g=c[n].replace("allaxes",y+d[i]._name);e[g]||(e[g]=e[c[n]])}delete e[c[n]]}var m=k.layoutFlags(),b={},_={};function A(t,r){if(Array.isArray(t))t.forEach(function(t){A(t,r)});else if(!(t in e||w.hasParent(e,t))){var n=s.nestedProperty(o,t);t in _||(_[t]=z(n.get())),void 0!==r&&n.set(r)}}function M(e,r){if(!s.isPlainObject(e))return!1;var n=e[r+"ref"]||r,i=a.Axes.getFromId(t,n);return i||n.charAt(0)!==r||(i=a.Axes.getFromId(t,r)),(i||{}).autorange}var S,C={};function L(t){var e=O.name2id(t.split(".")[0]);return C[e]=1,e}for(var j in e){if(w.hasParent(e,j))throw new Error("cannot set "+j+"and a parent attribute simultaneously");var I=s.nestedProperty(o,j),P=e[j],E=I.parts.length,N="string"==typeof I.parts[E-1]?E-1:E-2,D=I.parts[N],R=I.parts[N-1]+"."+D,F=I.parts.slice(0,N).join("."),B=s.nestedProperty(t.layout,F).get(),V=s.nestedProperty(l,F).get(),q=I.get();if(void 0!==P){b[j]=P,_[j]="reverse"===D?P:z(q);var H=h.getLayoutValObject(l,I.parts);if(H&&H.impliedEdits&&null!==P)for(var U in H.impliedEdits)A(s.relativeAttr(j,U),H.impliedEdits[U]);if(-1!==["width","height"].indexOf(j)&&null===P)l[j]=t._initialAutoSize[j];else if(R.match(/^[xyz]axis[0-9]*\.range(\[[0|1]\])?$/))L(R),s.nestedProperty(l,F+"._inputRange").set(null);else if(R.match(/^[xyz]axis[0-9]*\.autorange$/)){L(R),s.nestedProperty(l,F+"._inputRange").set(null);var W=s.nestedProperty(l,F).get();W._inputDomain&&(W._input.domain=W._inputDomain.slice())}else R.match(/^[xyz]axis[0-9]*\.domain(\[[0|1]\])?$/)&&s.nestedProperty(l,F+"._inputDomain").set(null);if("type"===D){var G=B,Y="linear"===V.type&&"log"===P,X="log"===V.type&&"linear"===P;if(Y||X){if(G&&G.range)if(V.autorange)Y&&(G.range=G.range[1]>G.range[0]?[1,2]:[2,1]);else{var Z=G.range[0],J=G.range[1];Y?(Z<=0&&J<=0&&A(F+".autorange",!0),Z<=0?Z=J/1e6:J<=0&&(J=Z/1e6),A(F+".range[0]",Math.log(Z)/Math.LN10),A(F+".range[1]",Math.log(J)/Math.LN10)):(A(F+".range[0]",Math.pow(10,Z)),A(F+".range[1]",Math.pow(10,J)))}else A(F+".autorange",!0);Array.isArray(l._subplots.polar)&&l._subplots.polar.length&&l[I.parts[0]]&&"radialaxis"===I.parts[1]&&delete l[I.parts[0]]._subplot.viewInitial["radialaxis.range"],u.getComponentMethod("annotations","convertCoords")(t,V,P,A),u.getComponentMethod("images","convertCoords")(t,V,P,A)}else A(F+".autorange",!0),A(F+".range",null);s.nestedProperty(l,F+"._inputRange").set(null)}else if(D.match(T.AX_NAME_PATTERN)){var $=s.nestedProperty(l,j).get(),Q=(P||{}).type;Q&&"-"!==Q||(Q="linear"),u.getComponentMethod("annotations","convertCoords")(t,$,Q,A),u.getComponentMethod("images","convertCoords")(t,$,Q,A)}var K=x.containerArrayMatch(j);if(K){r=K.array,n=K.index;var tt=K.property,et=(s.nestedProperty(o,r)||[])[n]||{},rt=et,nt=H||{editType:"calc"},it=-1!==nt.editType.indexOf("calcIfAutorange");""===n?(it?m.calc=!0:k.update(m,nt),it=!1):""===tt&&(rt=P,x.isAddVal(P)?_[j]=null:x.isRemoveVal(P)?(_[j]=et,rt=et):s.warn("unrecognized full object value",e)),it&&(M(rt,"x")||M(rt,"y"))?m.calc=!0:k.update(m,nt),p[r]||(p[r]={});var ot=p[r][n];ot||(ot=p[r][n]={}),ot[tt]=P,delete e[j]}else"reverse"===D?(B.range?B.range.reverse():(A(F+".autorange",!0),B.range=[1,0]),V.autorange?m.calc=!0:m.plot=!0):((!l._has("gl2d")&&!l._has("regl")||"dragmode"!==j||"lasso"!==P&&"select"!==P||"lasso"===q||"select"===q)&&H?k.update(m,H):m.calc=!0,I.set(P))}}for(r in p){x.applyContainerArrayChanges(t,s.nestedProperty(o,r),p[r],m)||(m.plot=!0)}var at=l._axisConstraintGroups||[];for(S in C)for(n=0;n<at.length;n++){var st=at[n];if(st[S])for(var lt in m.calc=!0,st)C[lt]||(O.getFromId(t,lt)._constraintShrinkable=!0)}var ct=l.width,ut=l.height;return t.layout.autosize&&f.plotAutoSize(t,t.layout,l),(e.height||e.width||l.width!==ct||l.height!==ut)&&(m.calc=!0),(m.plot||m.calc)&&(m.layoutReplot=!0),{flags:m,undoit:_,redoit:b,eventData:s.extendDeep({},b)}}function R(t){var e=n.select(t),r=t._fullLayout;if(r._container=e.selectAll(".plot-container").data([0]),r._container.enter().insert("div",":first-child").classed("plot-container",!0).classed("plotly",!0),r._paperdiv=r._container.selectAll(".svg-container").data([0]),r._paperdiv.enter().append("div").classed("svg-container",!0).style("position","relative"),r._glcontainer=r._paperdiv.selectAll(".gl-container").data([{}]),r._glcontainer.enter().append("div").classed("gl-container",!0),r._glcanvas=null,r._paperdiv.selectAll(".main-svg").remove(),r._paper=r._paperdiv.insert("svg",":first-child").classed("main-svg",!0),r._toppaper=r._paperdiv.append("svg").classed("main-svg",!0),!r._uid){var i=[];n.selectAll("defs").each(function(){this.id&&i.push(this.id.split("-")[1])}),r._uid=s.randstr(i)}r._paperdiv.selectAll(".main-svg").attr(m.svgAttrs),r._defs=r._paper.append("defs").attr("id","defs-"+r._uid),r._clips=r._defs.append("g").classed("clips",!0),r._topdefs=r._toppaper.append("defs").attr("id","topdefs-"+r._uid),r._topclips=r._topdefs.append("g").classed("clips",!0),r._bgLayer=r._paper.append("g").classed("bglayer",!0),r._draggers=r._paper.append("g").classed("draglayer",!0);var o=r._paper.append("g").classed("layer-below",!0);r._imageLowerLayer=o.append("g").classed("imagelayer",!0),r._shapeLowerLayer=o.append("g").classed("shapelayer",!0),r._cartesianlayer=r._paper.append("g").classed("cartesianlayer",!0),r._polarlayer=r._paper.append("g").classed("polarlayer",!0),r._ternarylayer=r._paper.append("g").classed("ternarylayer",!0),r._geolayer=r._paper.append("g").classed("geolayer",!0),r._pielayer=r._paper.append("g").classed("pielayer",!0),r._glimages=r._paper.append("g").classed("glimages",!0);var a=r._toppaper.append("g").classed("layer-above",!0);r._imageUpperLayer=a.append("g").classed("imagelayer",!0),r._shapeUpperLayer=a.append("g").classed("shapelayer",!0),r._infolayer=r._toppaper.append("g").classed("infolayer",!0),r._menulayer=r._toppaper.append("g").classed("menulayer",!0),r._zoomlayer=r._toppaper.append("g").classed("zoomlayer",!0),r._hoverlayer=r._toppaper.append("g").classed("hoverlayer",!0),t.emit("plotly_framework")}a.plot=function(t,e,r,i){var c;if(t=s.getGraphDiv(t),l.init(t),s.isPlainObject(e)){var h=e;e=h.data,r=h.layout,i=h.config,c=h.frames}if(!1===l.triggerHandler(t,"plotly_beforeplot",[e,r,i]))return Promise.reject();e||r||s.isPlotDiv(t)||s.warn("Calling Plotly.plot as if redrawing but this container doesn't yet have a plot.",t),function(t,e){t._context||(t._context=s.extendDeep({},a.defaultConfig));var r,n,i,l=t._context;if(e){for(n=Object.keys(e),r=0;r<n.length;r++)"editable"!==(i=n[r])&&"edits"!==i&&i in l&&("setBackground"===i&&"opaque"===e[i]?l[i]=L:l[i]=e[i]);e.plot3dPixelRatio&&!l.plotGlPixelRatio&&(l.plotGlPixelRatio=l.plot3dPixelRatio);var c=e.editable;if(void 0!==c)for(l.editable=c,n=Object.keys(l.edits),r=0;r<n.length;r++)l.edits[n[r]]=c;if(e.edits)for(n=Object.keys(e.edits),r=0;r<n.length;r++)(i=n[r])in l.edits&&(l.edits[i]=e.edits[i])}l.staticPlot&&(l.editable=!1,l.edits={},l.autosizable=!1,l.scrollZoom=!1,l.doubleClick=!1,l.showTips=!1,l.showLink=!1,l.displayModeBar=!1);"hover"!==l.displayModeBar||o||(l.displayModeBar=!0);"transparent"!==l.setBackground&&"function"==typeof l.setBackground||(l.setBackground=C)}(t,i),r||(r={}),n.select(t).classed("js-plotly-plot",!0),v.makeTester(),Array.isArray(t._promises)||(t._promises=[]);var y=0===(t.data||[]).length&&Array.isArray(e);if(Array.isArray(e)&&(w.cleanData(e,t.data),y?t.data=e:t.data.push.apply(t.data,e),t.empty=!1),t.layout&&!y||(t.layout=w.cleanLayout(r)),t._dragging&&!t._transitioning)return t._replotPending=!0,Promise.reject();t._replotPending=!1,f.supplyDefaults(t);var m=t._fullLayout;if(!m._has("polar")&&e&&e[0]&&e[0].r)return s.log("Legacy polar charts are deprecated!"),function(t,e,r){var i=n.select(t).selectAll(".plot-container").data([0]);i.enter().insert("div",":first-child").classed("plot-container plotly",!0);var o=i.selectAll(".svg-container").data([0]);o.enter().append("div").classed("svg-container",!0).style("position","relative"),o.html(""),e&&(t.data=e);r&&(t.layout=r);d.manager.fillLayout(t),o.style({width:t._fullLayout.width+"px",height:t._fullLayout.height+"px"}),t.framework=d.manager.framework(t),t.framework({data:t.data,layout:t.layout},o.node()),t.framework.setUndoPoint();var a=t.framework.svg(),l=1,c=t._fullLayout.title;""!==c&&c||(l=0);var u=function(){this.call(b.convertToTspans,t)},h=a.select(".title-group text").call(u);if(t._context.edits.titleText){var p=s._(t,"Click to enter Plot title");c&&c!==p||(l=.2,h.attr({"data-unformatted":p}).text(p).style({opacity:l}).on("mouseover.opacity",function(){n.select(this).transition().duration(100).style("opacity",1)}).on("mouseout.opacity",function(){n.select(this).transition().duration(1e3).style("opacity",0)}));var v=function(){this.call(b.makeEditable,{gd:t}).on("edit",function(e){t.framework({layout:{title:e}}),this.text(e).call(u),this.call(v)}).on("cancel",function(){var t=this.attr("data-unformatted");this.text(t).call(u)})};h.call(v)}return t._context.setBackground(t,t._fullLayout.paper_bgcolor),f.addLinks(t),Promise.resolve()}(t,e,r);m._replotting=!0,y&&R(t),t.framework!==R&&(t.framework=R,R(t)),v.initGradients(t),y&&a.Axes.saveShowSpikeInitial(t);var x=!t.calcdata||t.calcdata.length!==(t._fullData||[]).length;x&&f.doCalcdata(t);for(var k=0;k<t.calcdata.length;k++)t.calcdata[k][0].trace=t._fullData[k];var T=JSON.stringify(m._size);function A(){var e,r,n,i=t.calcdata;for(u.getComponentMethod("legend","draw")(t),u.getComponentMethod("rangeselector","draw")(t),u.getComponentMethod("sliders","draw")(t),u.getComponentMethod("updatemenus","draw")(t),e=0;e<i.length;e++)!0===(n=(r=i[e])[0].trace).visible&&n._module.colorbar?n._module.colorbar(t,r):f.autoMargin(t,"cb"+n.uid);return f.doAutoMargin(t),f.previousPromises(t)}function O(){if(!t._transitioning){for(var e=a.Axes.list(t,"",!0),r=0;r<e.length;r++){var n=e[r];S(t,n),a.Axes.doAutoRange(n)}M(t),y&&a.Axes.saveRangeInitial(t)}}var j=[f.previousPromises,function(){if(c)return a.addFrames(t,c)},function(){for(var e=m._basePlotModules,r=0;r<e.length;r++)e[r].drawFramework&&e[r].drawFramework(t);return!m._glcanvas&&m._has("gl")&&(m._glcanvas=m._glcontainer.selectAll(".gl-canvas").data([{key:"contextLayer",context:!0,pick:!1},{key:"focusLayer",context:!1,pick:!1},{key:"pickLayer",context:!1,pick:!0}],function(t){return t.key}),m._glcanvas.enter().append("canvas").attr("class",function(t){return"gl-canvas gl-canvas-"+t.key.replace("Layer","")}).style({position:"absolute",top:0,left:0,width:"100%",height:"100%",overflow:"visible","pointer-events":"none"})),m._glcanvas&&m._glcanvas.attr("width",m.width).attr("height",m.height),s.syncOrAsync([_.layoutStyles],t)},A,function(){if(JSON.stringify(m._size)!==T)return s.syncOrAsync([A,_.layoutStyles],t)},function(){if(x){var e,r,n,i=m._subplots.cartesian,o=m._modules,a=[];for(n=0;n<o.length;n++)s.pushUnique(a,o[n].setPositions);if(a.length)for(r=0;r<i.length;r++)for(e=m._plots[i[r]],n=0;n<a.length;n++)a[n](t,e);return g.calc(t),s.syncOrAsync([u.getComponentMethod("shapes","calcAutorange"),u.getComponentMethod("annotations","calcAutorange"),O,u.getComponentMethod("rangeslider","calcAutorange")],t)}M(t)},_.layoutStyles,function(){return a.Axes.doTicks(t,"redraw")},function(){var e,r=t.calcdata,n=m._infolayer.selectAll("g.rangeslider-container");for(e=0;e<r.length;e++){var i=r[e][0].trace,o=!0===i.visible,a=i.uid;if(!o||!u.traceIs(i,"2dMap")){var s=".hm"+a+",.contour"+a+",#clip"+a;m._paper.selectAll(s).remove(),n.selectAll(s).remove()}o&&i._module.colorbar||m._infolayer.selectAll(".cb"+a).remove()}var l=m._basePlotModules;for(e=0;e<l.length;e++)l[e].plot(t);var c=m._paper.selectAll(".layer-subplot");return m._shapeSubplotLayers=c.selectAll(".shapelayer"),f.style(t),u.getComponentMethod("shapes","draw")(t),u.getComponentMethod("annotations","draw")(t),f.addLinks(t),m._replotting=!1,f.previousPromises(t)},function(){u.getComponentMethod("shapes","draw")(t),u.getComponentMethod("images","draw")(t),u.getComponentMethod("annotations","draw")(t),u.getComponentMethod("legend","draw")(t),u.getComponentMethod("rangeslider","draw")(t),u.getComponentMethod("rangeselector","draw")(t),u.getComponentMethod("sliders","draw")(t),u.getComponentMethod("updatemenus","draw")(t)},p,f.rehover,f.previousPromises],I=s.syncOrAsync(j,t);return I&&I.then||(I=Promise.resolve()),I.then(function(){return t.emit("plotly_afterplot"),t})},a.redraw=function(t){if(t=s.getGraphDiv(t),!s.isPlotDiv(t))throw new Error("This element is not a Plotly plot: "+t);return w.cleanData(t.data,t.data),w.cleanLayout(t.layout),t.calcdata=void 0,a.plot(t).then(function(){return t.emit("plotly_redraw"),t})},a.newPlot=function(t,e,r,n){return t=s.getGraphDiv(t),f.cleanPlot([],{},t._fullData||{},t._fullLayout||{}),f.purge(t),a.plot(t,e,r,n)},a.extendTraces=function t(e,r,n,i){var o=E(e=s.getGraphDiv(e),r,n,i,function(t,e){return t.concat(e)},function(t,e){return t.splice(0,t.length-e)}),l=a.redraw(e),u=[e,o.update,n,o.maxPoints];return c.add(e,a.prependTraces,u,t,arguments),l},a.prependTraces=function t(e,r,n,i){var o=E(e=s.getGraphDiv(e),r,n,i,function(t,e){return e.concat(t)},function(t,e){return t.splice(e,t.length)}),l=a.redraw(e),u=[e,o.update,n,o.maxPoints];return c.add(e,a.extendTraces,u,t,arguments),l},a.addTraces=function t(e,r,n){e=s.getGraphDiv(e);var i,o,l=[],u=a.deleteTraces,h=t,f=[e,l],d=[e,r];for(function(t,e,r){var n,i;if(!Array.isArray(t.data))throw new Error("gd.data must be an array.");if(void 0===e)throw new Error("traces must be defined.");for(Array.isArray(e)||(e=[e]),n=0;n<e.length;n++)if("object"!=typeof(i=e[n])||Array.isArray(i)||null===i)throw new Error("all values in traces array must be non-array objects");if(void 0===r||Array.isArray(r)||(r=[r]),void 0!==r&&r.length!==e.length)throw new Error("if indices is specified, traces.length must equal indices.length")}(e,r,n),Array.isArray(r)||(r=[r]),r=r.map(function(t){return s.extendFlat({},t)}),w.cleanData(r,e.data),i=0;i<r.length;i++)e.data.push(r[i]);for(i=0;i<r.length;i++)l.push(-r.length+i);if(void 0===n)return o=a.redraw(e),c.add(e,u,f,h,d),o;Array.isArray(n)||(n=[n]);try{P(e,l,n)}catch(t){throw e.data.splice(e.data.length-r.length,r.length),t}return c.startSequence(e),c.add(e,u,f,h,d),o=a.moveTraces(e,l,n),c.stopSequence(e),o},a.deleteTraces=function t(e,r){e=s.getGraphDiv(e);var n,i,o=[],l=a.addTraces,u=t,h=[e,o,r],f=[e,r];if(void 0===r)throw new Error("indices must be an integer or array of integers.");for(Array.isArray(r)||(r=[r]),I(e,r,"indices"),(r=j(r,e.data.length-1)).sort(s.sorterDes),n=0;n<r.length;n+=1)i=e.data.splice(r[n],1)[0],o.push(i);var d=a.redraw(e);return c.add(e,l,h,u,f),d},a.moveTraces=function t(e,r,n){var i,o=[],l=[],u=t,h=t,f=[e=s.getGraphDiv(e),n,r],d=[e,r,n];if(P(e,r,n),r=Array.isArray(r)?r:[r],void 0===n)for(n=[],i=0;i<r.length;i++)n.push(-r.length+i);for(n=Array.isArray(n)?n:[n],r=j(r,e.data.length-1),n=j(n,e.data.length-1),i=0;i<e.data.length;i++)-1===r.indexOf(i)&&o.push(e.data[i]);for(i=0;i<r.length;i++)l.push({newIndex:n[i],trace:e.data[r[i]]});for(l.sort(function(t,e){return t.newIndex-e.newIndex}),i=0;i<l.length;i+=1)o.splice(l[i].newIndex,0,l[i].trace);e.data=o;var p=a.redraw(e);return c.add(e,u,f,h,d),p},a.restyle=function t(e,r,n,i){e=s.getGraphDiv(e),w.clearPromiseQueue(e);var o={};if("string"==typeof r)o[r]=n;else{if(!s.isPlainObject(r))return s.warn("Restyle fail.",r,n,i),Promise.reject();o=s.extendFlat({},r),void 0===i&&(i=n)}Object.keys(o).length&&(e.changed=!0);var l=w.coerceTraceIndices(e,i),u=N(e,o,l),h=u.flags;h.clearCalc&&(e.calcdata=void 0),h.clearAxisTypes&&w.clearAxisTypes(e,l,{});var d=[];h.fullReplot?d.push(a.plot):(d.push(f.previousPromises),f.supplyDefaults(e),h.style&&d.push(_.doTraceStyle),h.colorbars&&d.push(_.doColorBars)),d.push(f.rehover),c.add(e,t,[e,u.undoit,u.traces],t,[e,u.redoit,u.traces]);var p=s.syncOrAsync(d,e);return p&&p.then||(p=Promise.resolve()),p.then(function(){return e.emit("plotly_restyle",u.eventData),e})},a.relayout=function t(e,r,n){if(e=s.getGraphDiv(e),w.clearPromiseQueue(e),e.framework&&e.framework.isPolar)return Promise.resolve(e);var i={};if("string"==typeof r)i[r]=n;else{if(!s.isPlainObject(r))return s.warn("Relayout fail.",r,n),Promise.reject();i=s.extendFlat({},r)}Object.keys(i).length&&(e.changed=!0);var o=D(e,i),a=o.flags;a.calc&&(e.calcdata=void 0);var l=[f.previousPromises];a.layoutReplot?l.push(_.layoutReplot):Object.keys(i).length&&(f.supplyDefaults(e),a.legend&&l.push(_.doLegend),a.layoutstyle&&l.push(_.layoutStyles),a.ticks&&l.push(_.doTicksRelayout),a.modebar&&l.push(_.doModeBar),a.camera&&l.push(_.doCamera)),l.push(f.rehover),c.add(e,t,[e,o.undoit],t,[e,o.redoit]);var u=s.syncOrAsync(l,e);return u&&u.then||(u=Promise.resolve(e)),u.then(function(){return e.emit("plotly_relayout",o.eventData),e})},a.update=function t(e,r,n,i){if(e=s.getGraphDiv(e),w.clearPromiseQueue(e),e.framework&&e.framework.isPolar)return Promise.resolve(e);s.isPlainObject(r)||(r={}),s.isPlainObject(n)||(n={}),Object.keys(r).length&&(e.changed=!0),Object.keys(n).length&&(e.changed=!0);var o=w.coerceTraceIndices(e,i),l=N(e,s.extendFlat({},r),o),u=l.flags,h=D(e,s.extendFlat({},n)),d=h.flags;(u.clearCalc||d.calc)&&(e.calcdata=void 0),u.clearAxisTypes&&w.clearAxisTypes(e,o,n);var p=[];if(u.fullReplot&&d.layoutReplot){var v=e.data,y=e.layout;e.data=void 0,e.layout=void 0,p.push(function(){return a.plot(e,v,y)})}else u.fullReplot?p.push(a.plot):d.layoutReplot?p.push(_.layoutReplot):(p.push(f.previousPromises),f.supplyDefaults(e),u.style&&p.push(_.doTraceStyle),u.colorbars&&p.push(_.doColorBars),d.legend&&p.push(_.doLegend),d.layoutstyle&&p.push(_.layoutStyles),d.ticks&&p.push(_.doTicksRelayout),d.modebar&&p.push(_.doModeBar),d.camera&&p.push(_.doCamera));p.push(f.rehover),c.add(e,t,[e,l.undoit,h.undoit,l.traces],t,[e,l.redoit,h.redoit,l.traces]);var g=s.syncOrAsync(p,e);return g&&g.then||(g=Promise.resolve(e)),g.then(function(){return e.emit("plotly_update",{data:l.eventData,layout:h.eventData}),e})},a.animate=function(t,e,r){if(t=s.getGraphDiv(t),!s.isPlotDiv(t))throw new Error("This element is not a Plotly plot: "+t+". It's likely that you've failed to create a plot before animating it. For more details, see https://plot.ly/javascript/animations/");var n=t._transitionData;n._frameQueue||(n._frameQueue=[]);var i=(r=f.supplyAnimationDefaults(r)).transition,o=r.frame;function a(t){return Array.isArray(i)?t>=i.length?i[0]:i[t]:i}function l(t){return Array.isArray(o)?t>=o.length?o[0]:o[t]:o}function c(t,e){var r=0;return function(){if(t&&++r===e)return t()}}return void 0===n._frameWaitingCnt&&(n._frameWaitingCnt=0),new Promise(function(o,u){function h(){n._currentFrame&&n._currentFrame.onComplete&&n._currentFrame.onComplete();var e=n._currentFrame=n._frameQueue.shift();if(e){var r=e.name?e.name.toString():null;t._fullLayout._currentFrame=r,n._lastFrameAt=Date.now(),n._timeToNext=e.frameOpts.duration,f.transition(t,e.frame.data,e.frame.layout,w.coerceTraceIndices(t,e.frame.traces),e.frameOpts,e.transitionOpts).then(function(){e.onComplete&&e.onComplete()}),t.emit("plotly_animatingframe",{name:r,frame:e.frame,animation:{frame:e.frameOpts,transition:e.transitionOpts}})}else t.emit("plotly_animated"),window.cancelAnimationFrame(n._animationRaf),n._animationRaf=null}function d(){t.emit("plotly_animating"),n._lastFrameAt=-1/0,n._timeToNext=0,n._runningTransitions=0,n._currentFrame=null;var e=function(){n._animationRaf=window.requestAnimationFrame(e),Date.now()-n._lastFrameAt>n._timeToNext&&h()};e()}var p,v,y=0;function g(t){return Array.isArray(i)?y>=i.length?t.transitionOpts=i[y]:t.transitionOpts=i[0]:t.transitionOpts=i,y++,t}var m=[],b=void 0===e||null===e,x=Array.isArray(e);if(!b&&!x&&s.isPlainObject(e))m.push({type:"object",data:g(s.extendFlat({},e))});else if(b||-1!==["string","number"].indexOf(typeof e))for(p=0;p<n._frames.length;p++)(v=n._frames[p])&&(b||String(v.group)===String(e))&&m.push({type:"byname",name:String(v.name),data:g({name:v.name})});else if(x)for(p=0;p<e.length;p++){var _=e[p];-1!==["number","string"].indexOf(typeof _)?(_=String(_),m.push({type:"byname",name:_,data:g({name:_})})):s.isPlainObject(_)&&m.push({type:"object",data:g(s.extendFlat({},_))})}for(p=0;p<m.length;p++)if("byname"===(v=m[p]).type&&!n._frameHash[v.data.name])return s.warn('animate failure: frame not found: "'+v.data.name+'"'),void u();-1!==["next","immediate"].indexOf(r.mode)&&function(){if(0!==n._frameQueue.length){for(;n._frameQueue.length;){var e=n._frameQueue.pop();e.onInterrupt&&e.onInterrupt()}t.emit("plotly_animationinterrupted",[])}}(),"reverse"===r.direction&&m.reverse();var k=t._fullLayout._currentFrame;if(k&&r.fromcurrent){var T=-1;for(p=0;p<m.length;p++)if("byname"===(v=m[p]).type&&v.name===k){T=p;break}if(T>0&&T<m.length-1){var A=[];for(p=0;p<m.length;p++)v=m[p],("byname"!==m[p].type||p>T)&&A.push(v);m=A}}m.length>0?function(e){if(0!==e.length){for(var i=0;i<e.length;i++){var s;s="byname"===e[i].type?f.computeFrame(t,e[i].name):e[i].data;var h=l(i),p=a(i);p.duration=Math.min(p.duration,h.duration);var v={frame:s,name:e[i].name,frameOpts:h,transitionOpts:p};i===e.length-1&&(v.onComplete=c(o,2),v.onInterrupt=u),n._frameQueue.push(v)}"immediate"===r.mode&&(n._lastFrameAt=-1/0),n._animationRaf||d()}}(m):(t.emit("plotly_animated"),o())})},a.addFrames=function(t,e,r){t=s.getGraphDiv(t);var n,i,o,a,l=0;if(null===e||void 0===e)return Promise.resolve();if(!s.isPlotDiv(t))throw new Error("This element is not a Plotly plot: "+t+". It's likely that you've failed to create a plot before adding frames. For more details, see https://plot.ly/javascript/animations/");var u=t._transitionData._frames,h=t._transitionData._frameHash;if(!Array.isArray(e))throw new Error("addFrames failure: frameList must be an Array of frame definitions"+e);var d=u.length+2*e.length,p=[];for(n=e.length-1;n>=0;n--)if(s.isPlainObject(e[n])){var v=(h[e[n].name]||{}).name,y=e[n].name;v&&y&&"number"==typeof y&&h[v]&&(l++,s.warn('addFrames: overwriting frame "'+h[v].name+'" with a frame whose name of type "number" also equates to "'+v+'". This is valid but may potentially lead to unexpected behavior since all plotly.js frame names are stored internally as strings.'),l>5&&s.warn("addFrames: This API call has yielded too many warnings. For the rest of this call, further warnings about numeric frame names will be suppressed.")),p.push({frame:f.supplyFrameDefaults(e[n]),index:r&&void 0!==r[n]&&null!==r[n]?r[n]:d+n})}p.sort(function(t,e){return t.index>e.index?-1:t.index<e.index?1:0});var g=[],m=[],b=u.length;for(n=p.length-1;n>=0;n--){if("number"==typeof(i=p[n].frame).name&&s.warn("Warning: addFrames accepts frames with numeric names, but the numbers areimplicitly cast to strings"),!i.name)for(;h[i.name="frame "+t._transitionData._counter++];);if(h[i.name]){for(o=0;o<u.length&&(u[o]||{}).name!==i.name;o++);g.push({type:"replace",index:o,value:i}),m.unshift({type:"replace",index:o,value:u[o]})}else a=Math.max(0,Math.min(p[n].index,b)),g.push({type:"insert",index:a,value:i}),m.unshift({type:"delete",index:a}),b++}var x=f.modifyFrames,w=f.modifyFrames,_=[t,m],k=[t,g];return c&&c.add(t,x,_,w,k),f.modifyFrames(t,g)},a.deleteFrames=function(t,e){if(t=s.getGraphDiv(t),!s.isPlotDiv(t))throw new Error("This element is not a Plotly plot: "+t);var r,n,i=t._transitionData._frames,o=[],a=[];if(!e)for(e=[],r=0;r<i.length;r++)e.push(r);for((e=e.slice(0)).sort(),r=e.length-1;r>=0;r--)n=e[r],o.push({type:"delete",index:n}),a.unshift({type:"insert",index:n,value:i[n]});var l=f.modifyFrames,u=f.modifyFrames,h=[t,a],d=[t,o];return c&&c.add(t,l,h,u,d),f.modifyFrames(t,o)},a.purge=function(t){var e=(t=s.getGraphDiv(t))._fullLayout||{},r=t._fullData||[];return f.cleanPlot([],{},r,e),f.purge(t),l.purge(t),e._container&&e._container.remove(),delete t._context,t}},function(t,e){t.exports=!0},function(t,e,r){"use strict";(t.exports=r(164)).manager=r(338)},function(t,e,r){"use strict";var n=r(3),i=r(1),o=r(4),a=r(164),s=r(339),l=i.extendDeepAll,c=t.exports={};c.framework=function(t){var e,r,i,o,u,h=new s;function f(r,s){return s&&(u=s),n.select(n.select(u).node().parentNode).selectAll(".svg-container>*:not(.chart-root)").remove(),e=e?l(e,r):r,i||(i=a.Axis()),o=a.adapter.plotly().convert(e),i.config(o).render(u),t.data=e.data,t.layout=e.layout,c.fillLayout(t),e}return f.isPolar=!0,f.svg=function(){return i.svg()},f.getConfig=function(){return e},f.getLiveConfig=function(){return a.adapter.plotly().convert(i.getLiveConfig(),!0)},f.getLiveScales=function(){return{t:i.angularScale(),r:i.radialScale()}},f.setUndoPoint=function(){var t,n,i=this,o=a.util.cloneJson(e);t=o,n=r,h.add({undo:function(){n&&i(n)},redo:function(){i(t)}}),r=a.util.cloneJson(o)},f.undo=function(){h.undo()},f.redo=function(){h.redo()},f},c.fillLayout=function(t){var e=n.select(t).selectAll(".plot-container"),r=e.selectAll(".svg-container"),i=t.framework&&t.framework.svg&&t.framework.svg(),a={width:800,height:600,paper_bgcolor:o.background,_container:e,_paperdiv:r,_paper:i};t._fullLayout=l(a,t.layout)}},function(t,e,r){"use strict";t.exports=function(){var t,e=[],r=-1,n=!1;function i(t,e){return t?(n=!0,t[e](),n=!1,this):this}return{add:function(t){return n?this:(e.splice(r+1,e.length-r),e.push(t),r=e.length-1,this)},setCallback:function(e){t=e},undo:function(){var n=e[r];return n?(i(n,"undo"),r-=1,t&&t(n.undo),this):this},redo:function(){var n=e[r+1];return n?(i(n,"redo"),r+=1,t&&t(n.redo),this):this},clear:function(){e=[],r=-1},hasUndo:function(){return-1!==r},hasRedo:function(){return r<e.length-1},getCommands:function(){return e},getPreviousCommand:function(){return e[r-1]},getIndex:function(){return r}}}},function(t,e){var r={left:0,top:0};t.exports=function(t,e,n){e=e||t.currentTarget||t.srcElement,Array.isArray(n)||(n=[0,0]);var i=t.clientX||0,o=t.clientY||0,a=(s=e,s===window||s===document||s===document.body?r:s.getBoundingClientRect());var s;return n[0]=i-a.left,n[1]=o-a.top,n}},function(t,e,r){"use strict";t.exports=function(t,e,r,n,i){var o=(t-r)/(n-r),a=o+e/(n-r),s=(o+a)/2;return"left"===i||"bottom"===i?o:"center"===i||"middle"===i?s:"right"===i||"top"===i?a:o<2/3-s?o:a>4/3-s?a:s}},function(t,e,r){"use strict";var n=r(1),i=[["sw-resize","s-resize","se-resize"],["w-resize","move","e-resize"],["nw-resize","n-resize","ne-resize"]];t.exports=function(t,e,r,o){return t="left"===r?0:"center"===r?1:"right"===r?2:n.constrain(Math.floor(3*t),0,2),e="bottom"===o?0:"middle"===o?1:"top"===o?2:n.constrain(Math.floor(3*e),0,2),i[e][t]}},function(t,e,r){"use strict";var n=r(109),i=r(94),o=r(150),a=r(52),s=t.exports={};s.wrapped=function(t,e,r){(t=o(t))._fullLayout&&i.clear(t._fullLayout._uid+a.HOVERID),s.raw(t,e,r)},s.raw=function(t,e){var r=t._fullLayout,i=t._hoverdata;e||(e={}),e.target&&!1===n.triggerHandler(t,"plotly_beforehover",e)||(r._hoverlayer.selectAll("g").remove(),r._hoverlayer.selectAll("line").remove(),r._hoverlayer.selectAll("circle").remove(),t._hoverdata=void 0,e.target&&i&&t.emit("plotly_unhover",{event:e,points:i}))}},function(t,e,r){"use strict";var n=r(1),i=r(166),o=r(110);t.exports=function(t,e){i(t,e,function(r,i){return n.coerce(t,e,o,r,i)})}},function(t,e,r){"use strict";var n=r(1),i=r(90),o=r(166);t.exports=function(t,e,r,a){o(t,e,function(r,o){return n.coerce(t,e,i,r,o)},a.hoverlabel)}},function(t,e,r){"use strict";var n=r(1),i=r(110);t.exports=function(t,e,r){function o(r,o){return n.coerce(t,e,i,r,o)}var a;o("dragmode"),e._has("cartesian")?(e._isHoriz=function(t){for(var e=!0,r=0;r<t.length;r++){var n=t[r];if("h"!==n.orientation){e=!1;break}}return e}(r),a=e._isHoriz?"y":"x"):a="closest",o("hovermode",a)&&(o("hoverdistance"),o("spikedistance"));var s=e._has("mapbox"),l=e._has("geo"),c=e._basePlotModules.length;"zoom"===e.dragmode&&((s||l)&&1===c||s&&l&&2===c)&&(e.dragmode="pan")}},function(t,e,r){"use strict";var n=r(1),i=r(5);function o(t,e,r,i){i=i||n.identity,Array.isArray(t)&&(e[0][r]=i(t))}t.exports=function(t){var e=t.calcdata,r=t._fullLayout;function a(t){return function(e){return n.coerceHoverinfo({hoverinfo:e},{_module:t._module},r)}}for(var s=0;s<e.length;s++){var l=e[s],c=l[0].trace;if(!i.traceIs(c,"pie")){var u=i.traceIs(c,"2dMap")?o:n.fillArray;u(c.hoverinfo,l,"hi",a(c)),c.hoverlabel&&(u(c.hoverlabel.bgcolor,l,"hbg"),u(c.hoverlabel.bordercolor,l,"hbc"),u(c.hoverlabel.font.size,l,"hts"),u(c.hoverlabel.font.color,l,"htc"),u(c.hoverlabel.font.family,l,"htf"),u(c.hoverlabel.namelength,l,"hnl"))}}}},function(t,e,r){"use strict";var n=r(43),i="data-savedcursor";t.exports=function(t,e){var r=t.attr(i);if(e){if(!r){for(var o=(t.attr("class")||"").split(" "),a=0;a<o.length;a++){var s=o[a];0===s.indexOf("cursor-")&&t.attr(i,s.substr(7)).classed(s,!1)}t.attr(i)||t.attr(i,"!!")}n(t,e)}else r&&(t.attr(i,null),"!!"===r?n(t):n(t,r))}},function(t,e,r){"use strict";var n=r(5),i=r(111).hover;t.exports=function(t,e,r){var o=n.getComponentMethod("annotations","onClick")(t,t._hoverdata);function a(){t.emit("plotly_click",{points:t._hoverdata,event:e})}void 0!==r&&i(t,e,r,!0),t._hoverdata&&e&&e.target&&(o&&o.then?o.then(a):a(),e.stopImmediatePropagation&&e.stopImmediatePropagation())}},function(t,e,r){"use strict";var n=r(3),i=r(28),o=r(12),a=r(5),s=r(1),l=r(23),c=r(4),u=r(9),h=r(32),f=r(43),d=r(33),p=r(25).FROM_TL,v=r(14),y=r(11).doTicks,g=r(24).getFromId,m=r(351),b=r(168),x=r(22),w=x.MINDRAG,_=x.MINZOOM,k=s.eventListenerOptionsSupported(),T=!0;function A(t,e,r,n){var i=t.draglayer.selectAll("."+r).data([0]);return i.enter().append(e).classed("drag",!0).classed(r,!0).style({fill:"transparent","stroke-width":0}).attr("data-subplot",t.id),i.call(f,n),i.node()}function M(t,e,r,i,o,a,s){var l=A(t,"rect",e,r);return n.select(l).call(u.setRect,i,o,a,s),l}function S(t,e){for(var r=0;r<t.length;r++)if(!t[r].fixedrange)return e;return""}function O(t,e,r,n,i){var o,a,s,l;for(o=0;o<t.length;o++)(a=t[o]).fixedrange||(s=a._rl[0],l=a._rl[1]-s,a.range=[a.l2r(s+l*e),a.l2r(s+l*r)],n[a._name+".range[0]"]=a.range[0],n[a._name+".range[1]"]=a.range[1]);if(i&&i.length){var c=(e+(1-r))/2;O(i,c,1-c,n)}}function C(t,e){for(var r=0;r<t.length;r++){var n=t[r];n.fixedrange||(n.range=[n.l2r(n._rl[0]-e/n._m),n.l2r(n._rl[1]-e/n._m)])}}function L(t){return 1-(t>=0?Math.min(t,.9):1/(1/Math.max(t,-.3)+3.222))}function j(t,e,r,n,i){return t.append("path").attr("class","zoombox").style({fill:e>.2?"rgba(0,0,0,0)":"rgba(255,255,255,0)","stroke-width":0}).attr("transform","translate("+r+", "+n+")").attr("d",i+"Z")}function I(t,e,r){return t.append("path").attr("class","zoombox-corners").style({fill:c.background,stroke:c.defaultLine,"stroke-width":1,opacity:0}).attr("transform","translate("+e+", "+r+")").attr("d","M0,0Z")}function P(t){t.selectAll(".select-outline").remove()}function E(t,e,r,n,i,o){t.attr("d",n+"M"+r.l+","+r.t+"v"+r.h+"h"+r.w+"v-"+r.h+"h-"+r.w+"Z"),z(t,e,i,o)}function z(t,e,r,n){r||(t.transition().style("fill",n>.2?"rgba(0,0,0,0.4)":"rgba(255,255,255,0.3)").duration(200),e.transition().style("opacity",1).duration(200))}function N(t){n.select(t).selectAll(".zoombox,.js-zoombox-backdrop,.js-zoombox-menu,.zoombox-corners").remove()}function D(t){T&&t.data&&t._context.showTips&&(s.notifier(s._(t,"Double-click to zoom back out"),"long"),T=!1)}function R(t){return"lasso"===t||"select"===t}function F(t){var e=Math.floor(Math.min(t.b-t.t,t.r-t.l,_)/2);return"M"+(t.l-3.5)+","+(t.t-.5+e)+"h3v"+-e+"h"+e+"v-3h-"+(e+3)+"ZM"+(t.r+3.5)+","+(t.t-.5+e)+"h-3v"+-e+"h"+-e+"v-3h"+(e+3)+"ZM"+(t.r+3.5)+","+(t.b+.5-e)+"h-3v"+e+"h"+-e+"v3h"+(e+3)+"ZM"+(t.l-3.5)+","+(t.b+.5-e)+"h3v"+e+"h"+e+"v3h-"+(e+3)+"Z"}function B(t,e){if(k){var r=void 0!==t.onwheel?"wheel":"mousewheel";t._onwheel&&t.removeEventListener(r,t._onwheel),t._onwheel=e,t.addEventListener(r,e,{passive:!1})}else void 0!==t.onwheel?t.onwheel=e:void 0!==t.onmousewheel&&(t.onmousewheel=e)}t.exports={makeDragBox:function(t,e,r,c,f,k,T,A){var z,V,q,H,U,W,G,Y,X,Z,J,$,Q,K=t._fullLayout,tt=t._fullLayout._zoomlayer,et=T+A==="nsew",rt=1===(T+A).length;function nt(){V=[e.xaxis],q=[e.yaxis];var r=V[0],n=q[0];W=r._length,G=n._length;var i,o,a=K._axisConstraintGroups,l=[r._id],c=[n._id];z=[e].concat(T&&A?e.overlays:[]);for(var u=1;u<z.length;u++){var h=z[u].xaxis,f=z[u].yaxis;-1===V.indexOf(h)&&(V.push(h),l.push(h._id)),-1===q.indexOf(f)&&(q.push(f),c.push(f._id))}Y=S(V,A),X=S(q,T),i=X+Y,o=K.dragmode,Z=i?"nsew"===i?"pan"===o?"move":"crosshair":i.toLowerCase()+"-resize":"pointer",H=r._offset,U=n._offset;var d=function(t,e,r){var n,i,o,a,l,c,u=!1,h={},f={};for(n=0;n<t.length;n++){for(a=t[n],i=0;i<e.length;i++)if(a[e[i]]){for(l in a)-1===("x"===l.charAt(0)?e:r).indexOf(l)&&(h[l]=1);for(o=0;o<r.length;o++)a[r[o]]&&(u=!0)}for(i=0;i<r.length;i++)if(a[r[i]])for(c in a)-1===("x"===c.charAt(0)?e:r).indexOf(c)&&(f[c]=1)}return u&&(s.extendFlat(h,f),f={}),{x:h,y:f,xy:u}}(a,l,c);for(var p in J=d.xy,$=[],d.x)$.push(g(t,p));for(var v in Q=[],d.y)Q.push(g(t,v))}nt();var it=M(e,T+A+"drag",Z,r,c,f,k),ot=!X&&!Y;if(ot&&!et)return it.onmousedown=null,it.style.pointerEvents="none",it;var at,st,lt,ct,ut,ht,ft,dt,pt,vt={element:it,gd:t,plotinfo:e,prepFn:function(e,r,n){var o=t._fullLayout.dragmode;ot||(et?e.shiftKey?"pan"===o?o="zoom":R(o)||(o="pan"):e.ctrlKey&&(o="pan"):o="pan"),vt.minDrag="lasso"===o?1:void 0,R(o)?(vt.xaxes=V,vt.yaxes=q,m(e,r,n,vt,o)):ot?P(tt):"zoom"===o?(vt.moveFn=gt,vt.doneFn=mt,vt.minDrag=1,function(e,r,n){var o=it.getBoundingClientRect();at=r-o.left,st=n-o.top,lt={l:at,r:at,w:0,t:st,b:st,h:0},ct=t._hmpixcount?t._hmlumcount/t._hmpixcount:i(t._fullLayout.plot_bgcolor).getLuminance(),ht=!1,ft="xy",dt=j(tt,ct,H,U,ut="M0,0H"+W+"V"+G+"H0V0"),pt=I(tt,H,U),P(tt)}(0,r,n)):"pan"===o&&(vt.moveFn=kt,vt.doneFn=At,P(tt))},clickFn:function(r,i){if(N(t),2!==r||rt||function(){if(!t._transitioningWithDuration){var e,r,n,i=t._context.doubleClick,a=(Y?V:[]).concat(X?q:[]),s={};if("reset+autosize"===i)for(i="autosize",r=0;r<a.length;r++)if((e=a[r])._rangeInitial&&(e.range[0]!==e._rangeInitial[0]||e.range[1]!==e._rangeInitial[1])||!e._rangeInitial&&!e.autorange){i="reset";break}if("autosize"===i)for(r=0;r<a.length;r++)(e=a[r]).fixedrange||(s[e._name+".autorange"]=!0);else if("reset"===i)for((Y||J)&&(a=a.concat($)),X&&!J&&(a=a.concat(Q)),J&&(Y?X||(a=a.concat(q)):a=a.concat(V)),r=0;r<a.length;r++)(e=a[r])._rangeInitial?(n=e._rangeInitial,s[e._name+".range[0]"]=n[0],s[e._name+".range[1]"]=n[1]):s[e._name+".autorange"]=!0;t.emit("plotly_doubleclick",null),o.relayout(t,s)}}(),et)h.click(t,i,e.id);else if(1===r&&rt){var a=T?q[0]:V[0],s="s"===T||"w"===A?0:1,c=a._name+".range["+s+"]",u=function(t,e){var r,i=t.range[e],o=Math.abs(i-t.range[1-e]);return"date"===t.type?i:"log"===t.type?(r=Math.ceil(Math.max(0,-Math.log(o)/Math.LN10))+3,n.format("."+r+"g")(Math.pow(10,i))):(r=Math.floor(Math.log(Math.abs(i))/Math.LN10)-Math.floor(Math.log(o)/Math.LN10)+4,n.format("."+String(r)+"g")(i))}(a,s),f="left",d="middle";if(a.fixedrange)return;T?(d="n"===T?"top":"bottom","right"===a.side&&(f="right")):"e"===A&&(f="right"),t._context.showAxisRangeEntryBoxes&&n.select(it).call(l.makeEditable,{gd:t,immediate:!0,background:K.paper_bgcolor,text:String(u),fill:a.tickfont?a.tickfont.color:"#444",horizontalAlign:f,verticalAlign:d}).on("edit",function(e){var r=a.d2r(e);void 0!==r&&o.relayout(t,c,r)})}}};d.init(vt);var yt={};function gt(e,r){if(t._transitioningWithDuration)return!1;var n=Math.max(0,Math.min(W,e+at)),i=Math.max(0,Math.min(G,r+st)),o=Math.abs(n-at),a=Math.abs(i-st);function s(){ft="",lt.r=lt.l,lt.t=lt.b,pt.attr("d","M0,0Z")}lt.l=Math.min(at,n),lt.r=Math.max(at,n),lt.t=Math.min(st,i),lt.b=Math.max(st,i),J?o>_||a>_?(ft="xy",o/W>a/G?(a=o*G/W,st>i?lt.t=st-a:lt.b=st+a):(o=a*W/G,at>n?lt.l=at-o:lt.r=at+o),pt.attr("d",F(lt))):s():!X||a<Math.min(Math.max(.6*o,w),_)?o<w?s():(lt.t=0,lt.b=G,ft="x",pt.attr("d",function(t,e){return"M"+(t.l-.5)+","+(e-_-.5)+"h-3v"+(2*_+1)+"h3ZM"+(t.r+.5)+","+(e-_-.5)+"h3v"+(2*_+1)+"h-3Z"}(lt,st))):!Y||o<Math.min(.6*a,_)?(lt.l=0,lt.r=W,ft="y",pt.attr("d",function(t,e){return"M"+(e-_-.5)+","+(t.t-.5)+"v-3h"+(2*_+1)+"v3ZM"+(e-_-.5)+","+(t.b+.5)+"v3h"+(2*_+1)+"v-3Z"}(lt,at))):(ft="xy",pt.attr("d",F(lt))),lt.w=lt.r-lt.l,lt.h=lt.b-lt.t,E(dt,pt,lt,ut,ht,ct),ht=!0}function mt(){if(Math.min(lt.h,lt.w)<2*w)return N(t);"xy"!==ft&&"x"!==ft||O(V,lt.l/W,lt.r/W,yt,$),"xy"!==ft&&"y"!==ft||O(q,(G-lt.b)/G,(G-lt.t)/G,yt,Q),N(t),At(),D(t)}var bt=[0,0,W,G],xt=null,wt=x.REDRAWDELAY,_t=e.mainplot?K._plots[e.mainplot]:e;function kt(e,r){if(!t._transitioningWithDuration){if(nt(),"ew"===Y||"ns"===X)return Y&&C(V,e),X&&C(q,r),Mt([Y?-e:0,X?-r:0,W,G]),void Tt(X,Y);if(J&&Y&&X){var n="w"===Y==("n"===X)?1:-1,i=(e/W+n*r/G)/2;e=i*W,r=n*i*G}"w"===Y?e=l(V,0,e):"e"===Y?e=l(V,1,-e):Y||(e=0),"n"===X?r=l(q,1,r):"s"===X?r=l(q,0,-r):X||(r=0);var o="w"===Y?e:0,a="n"===X?r:0;if(J){var s;if(!Y&&1===X.length){for(s=0;s<V.length;s++)V[s].range=V[s]._r.slice(),b(V[s],1-r/G);o=(e=r*W/G)/2}if(!X&&1===Y.length){for(s=0;s<q.length;s++)q[s].range=q[s]._r.slice(),b(q[s],1-e/W);a=(r=e*G/W)/2}}Mt([o,a,W-e,G-r]),Tt(X,Y)}function l(t,e,r){for(var n,i,o=1-e,a=0;a<t.length;a++){var s=t[a];if(!s.fixedrange){n=s,i=s._rl[o]+(s._rl[e]-s._rl[o])/L(r/s._length);var l=s.l2r(i);!1!==l&&void 0!==l&&(s.range[e]=l)}}return n._length*(n._rl[e]-i)/(n._rl[e]-n._rl[o])}}function Tt(e,r){var n,i=[];function o(t){for(n=0;n<t.length;n++)t[n].fixedrange||i.push(t[n]._id)}for((r||J)&&(o(V),o($)),(e||J)&&(o(q),o(Q)),yt={},n=0;n<i.length;n++){var s=i[n];y(t,s,!0);var l=g(t,s);yt[l._name+".range[0]"]=l.range[0],yt[l._name+".range[1]"]=l.range[1]}function c(o,a,s){for(n=0;n<o.length;n++){var l=o[n];if((r&&-1!==i.indexOf(l.xref)||e&&-1!==i.indexOf(l.yref))&&(a(t,n),s))return}}c(K.annotations||[],a.getComponentMethod("annotations","drawOne")),c(K.shapes||[],a.getComponentMethod("shapes","drawOne")),c(K.images||[],a.getComponentMethod("images","draw"),!0)}function At(){Mt([0,0,W,G]),s.syncOrAsync([v.previousPromises,function(){o.relayout(t,yt)}],t)}function Mt(t){var e,r,n,i,o,a=K._plots,l=Object.keys(a),c=t[2]/V[0]._length,h=t[3]/q[0]._length,f=A||J,d=T||J;function v(t){return t.fixedrange?0:f&&-1!==$.indexOf(t)?c:d&&-1!==(J?$:Q).indexOf(t)?h:0}function y(t,e){return e?(t.range=t._r.slice(),b(t,e),g(t,e)):0}function g(t,e){return t._length*(1-e)*p[t.constraintoward||"middle"]}for(K._glcanvas&&K._glcanvas.size()&&K._glcanvas.each(function(t){t.regl&&t.regl.clear({color:!0})}),e=0;e<l.length;e++){var m=a[l[e]],x=m.xaxis,w=m.yaxis,_=f&&!x.fixedrange&&-1!==V.indexOf(x),k=d&&!w.fixedrange&&-1!==q.indexOf(w);if(m._scene&&m._scene.update){var M=s.simpleMap(x.range,x.r2l),S=s.simpleMap(w.range,w.r2l);m._scene.update({range:[M[0],S[0],M[1],S[1]]})}if(_?(r=c,i=A?t[0]:g(x,r)):i=y(x,r=v(x)),k?(n=h,o=T?t[1]:g(w,n)):o=y(w,n=v(w)),r||n){r||(r=1),n||(n=1);var O=x._offset-i/r,C=w._offset-o/n;K._defs.select("#"+m.clipId+"> rect").call(u.setTranslate,i,o).call(u.setScale,r,n);var L=m.plot.selectAll(".scatterlayer .trace, .boxlayer .trace, .violinlayer .trace");m.plot.call(u.setTranslate,O,C).call(u.setScale,1/r,1/n),L.selectAll(".point").call(u.setPointGroupScale,r,n),L.selectAll(".textpoint").call(u.setTextPointsScale,r,n),L.call(u.hideOutsideRangePoints,m)}}}return T.length*A.length!=1&&B(it,function(e){if(t._context.scrollZoom||K._enablescrollzoom){if(t._transitioningWithDuration)return s.pauseEvent(e);var r=t.querySelector(".plotly");if(nt(),!(r.scrollHeight-r.clientHeight>10||r.scrollWidth-r.clientWidth>10)){clearTimeout(xt);var n=-e.deltaY;if(isFinite(n)||(n=e.wheelDelta/10),isFinite(n)){var i,o=Math.exp(-Math.min(Math.max(n,-20),20)/200),a=_t.draglayer.select(".nsewdrag").node().getBoundingClientRect(),l=(e.clientX-a.left)/a.width,c=(a.bottom-e.clientY)/a.height;if(A||J){for(A||(l=.5),i=0;i<V.length;i++)u(V[i],l,o);bt[2]*=o,bt[0]+=bt[2]*l*(1/o-1)}if(T||J){for(T||(c=.5),i=0;i<q.length;i++)u(q[i],c,o);bt[3]*=o,bt[1]+=bt[3]*(1-c)*(1/o-1)}return Mt(bt),Tt(T,A),xt=setTimeout(function(){bt=[0,0,W,G],At()},wt),s.pauseEvent(e)}s.log("Did not find wheel motion attributes: ",e)}}function u(t,e,r){if(!t.fixedrange){var n=s.simpleMap(t.range,t.r2l),i=n[0]+(n[1]-n[0])*e;t.range=n.map(function(e){return t.l2r(i+(e-i)*r)})}}}),it},makeDragger:A,makeRectDragger:M,makeZoombox:j,makeCorners:I,updateZoombox:E,xyCorners:F,transitionZoombox:z,removeZoombox:N,clearSelect:P,showDoubleClickNotifier:D,attachWheelEventHandler:B}},function(t,e,r){"use strict";var n=r(352),i=r(167),o=r(94),a=r(4),s=r(69).makeEventData,l=r(32),c=r(11),u=r(22),h=i.filter,f=i.tester,d=i.multitester,p=u.MINSELECT;function v(t){return t._id}function y(t,e,r){var n,i,o;if(r){var a=r.points||[];for(n=0;n<e.length;n++)(o=e[n].cd[0].trace).selectedpoints=[],o._input.selectedpoints=[];for(n=0;n<a.length;n++){var s=a[n],l=s.data,c=s.fullData;s.pointIndices?([].push.apply(l.selectedpoints,s.pointIndices),[].push.apply(c.selectedpoints,s.pointIndices)):(l.selectedpoints.push(s.pointIndex),c.selectedpoints.push(s.pointIndex))}}else for(n=0;n<e.length;n++)delete(o=e[n].cd[0].trace).selectedpoints,delete o._input.selectedpoints,e[n].cd[0].t&&e[n].cd[0].t.scene&&e[n].cd[0].t.scene.clearSelect();for(n=0;n<e.length;n++)(i=e[n]).style&&i.style(t,i.cd)}function g(t,e){if(Array.isArray(t))for(var r=e.cd,n=e.cd[0].trace,i=0;i<t.length;i++)t[i]=s(t[i],n,r);return t}t.exports=function(t,e,r,i,s){var m,b,x,w,_=i.gd,k=_._fullLayout,T=k._zoomlayer,A=i.element.getBoundingClientRect(),M=i.plotinfo,S=M.xaxis._offset,O=M.yaxis._offset,C=e-A.left,L=r-A.top,j=C,I=L,P="M"+C+","+L,E=i.xaxes[0]._length,z=i.yaxes[0]._length,N=i.xaxes.map(v),D=i.yaxes.map(v),R=i.xaxes.concat(i.yaxes),F=t.altKey;(t.shiftKey||t.altKey)&&M.selection&&M.selection.polygons&&!i.polygons?(i.polygons=M.selection.polygons,i.mergedPolygons=M.selection.mergedPolygons):(!t.shiftKey&&!t.altKey||(t.shiftKey||t.altKey)&&!M.selection)&&(M.selection={},M.selection.polygons=i.polygons=[],M.selection.mergedPolygons=i.mergedPolygons=[]),"lasso"===s&&(m=h([[C,L]],u.BENDPX));var B=T.selectAll("path.select-outline-"+M.id).data([1,2]);B.enter().append("path").attr("class",function(t){return"select-outline select-outline-"+t+" select-outline-"+M.id}).attr("transform","translate("+S+", "+O+")").attr("d",P+"Z");var V,q,H,U,W,G,Y=T.append("path").attr("class","zoombox-corners").style({fill:a.background,stroke:a.defaultLine,"stroke-width":1}).attr("transform","translate("+S+", "+O+")").attr("d","M0,0Z"),X=[],Z=k._uid+u.SELECTID,J=[];for(V=0;V<_.calcdata.length;V++)if(!0===(H=(q=_.calcdata[V])[0].trace).visible&&H._module&&H._module.selectPoints)if(i.subplot)H.subplot!==i.subplot&&H.geo!==i.subplot||X.push({selectPoints:H._module.selectPoints,style:H._module.style,cd:q,xaxis:i.xaxes[0],yaxis:i.yaxes[0]});else{if(-1===N.indexOf(H.xaxis))continue;if(-1===D.indexOf(H.yaxis))continue;X.push({selectPoints:H._module.selectPoints,style:H._module.style,cd:q,xaxis:c.getFromId(_,H.xaxis),yaxis:c.getFromId(_,H.yaxis)})}function $(t){var e="y"===t._id.charAt(0)?1:0;return function(r){return t.p2d(r[e])}}function Q(t,e){return t-e}G=M.fillRangeItems?M.fillRangeItems:"select"===s?function(t,e){var r=t.range={};for(V=0;V<R.length;V++){var n=R[V],i=n._id.charAt(0);r[n._id]=[n.p2d(e[i+"min"]),n.p2d(e[i+"max"])].sort(Q)}}:function(t,e,r){var n=t.lassoPoints={};for(V=0;V<R.length;V++){var i=R[V];n[i._id]=r.filtered.map($(i))}},i.moveFn=function(t,e){j=Math.max(0,Math.min(E,t+C)),I=Math.max(0,Math.min(z,e+L));var r=Math.abs(j-C),a=Math.abs(I-L);"select"===s?a<Math.min(.6*r,p)?((w=[[C,0],[C,z],[j,z],[j,0]]).xmin=Math.min(C,j),w.xmax=Math.max(C,j),w.ymin=Math.min(0,z),w.ymax=Math.max(0,z),Y.attr("d","M"+w.xmin+","+(L-p)+"h-4v"+2*p+"h4ZM"+(w.xmax-1)+","+(L-p)+"h4v"+2*p+"h-4Z")):r<Math.min(.6*a,p)?((w=[[0,L],[0,I],[E,I],[E,L]]).xmin=Math.min(0,E),w.xmax=Math.max(0,E),w.ymin=Math.min(L,I),w.ymax=Math.max(L,I),Y.attr("d","M"+(C-p)+","+w.ymin+"v-4h"+2*p+"v4ZM"+(C-p)+","+(w.ymax-1)+"v4h"+2*p+"v-4Z")):((w=[[C,L],[C,I],[j,I],[j,L]]).xmin=Math.min(C,j),w.xmax=Math.max(C,j),w.ymin=Math.min(L,I),w.ymax=Math.max(L,I),Y.attr("d","M0,0Z")):"lasso"===s&&(m.addPt([j,I]),w=m.filtered),i.polygons&&i.polygons.length?(x=function(t,e,r){if(r)return n.difference({regions:t,inverted:!1},{regions:[e],inverted:!1}).regions;return n.union({regions:t,inverted:!1},{regions:[e],inverted:!1}).regions}(i.mergedPolygons,w,F),w.subtract=F,b=d(i.polygons.concat([w]))):(x=[w],b=f(w));var l=[];for(V=0;V<x.length;V++){var c=x[V];l.push(c.join("L")+"L"+c[0])}B.attr("d","M"+l.join("M")+"Z"),o.throttle(Z,u.SELECTDELAY,function(){J=[];var t,e,r=[];for(V=0;V<X.length;V++)if(e=(U=X[V]).selectPoints(U,b),r.push(e),t=g(e,U),J.length)for(var n=0;n<t.length;n++)J.push(t[n]);else J=t;y(_,X,W={points:J}),G(W,w,m),i.gd.emit("plotly_selecting",W)})},i.clickFn=function(t,e){Y.remove(),o.done(Z).then(function(){if(o.clear(Z),2===t){for(B.remove(),V=0;V<X.length;V++)(U=X[V]).selectPoints(U,!1);y(_,X),_.emit("plotly_deselect",null)}else _.emit("plotly_selected",void 0);l.click(_,e)})},i.doneFn=function(){Y.remove(),o.done(Z).then(function(){o.clear(Z),i.gd.emit("plotly_selected",W),w&&i.polygons&&(w.subtract=F,i.polygons.push(w),i.mergedPolygons.length=0,[].push.apply(i.mergedPolygons,x))})}}},function(t,e,r){var n,i=r(353),o=r(354),a=r(355),s=r(357),l=r(358),c=r(359),u=!1,h=o();function f(t,e,r){var i=n.segments(t),o=n.segments(e),a=r(n.combine(i,o));return n.polygon(a)}n={buildLog:function(t){return!0===t?u=i():!1===t&&(u=!1),!1!==u&&u.list},epsilon:function(t){return h.epsilon(t)},segments:function(t){var e=a(!0,h,u);return t.regions.forEach(e.addRegion),{segments:e.calculate(t.inverted),inverted:t.inverted}},combine:function(t,e){return{combined:a(!1,h,u).calculate(t.segments,t.inverted,e.segments,e.inverted),inverted1:t.inverted,inverted2:e.inverted}},selectUnion:function(t){return{segments:l.union(t.combined,u),inverted:t.inverted1||t.inverted2}},selectIntersect:function(t){return{segments:l.intersect(t.combined,u),inverted:t.inverted1&&t.inverted2}},selectDifference:function(t){return{segments:l.difference(t.combined,u),inverted:t.inverted1&&!t.inverted2}},selectDifferenceRev:function(t){return{segments:l.differenceRev(t.combined,u),inverted:!t.inverted1&&t.inverted2}},selectXor:function(t){return{segments:l.xor(t.combined,u),inverted:t.inverted1!==t.inverted2}},polygon:function(t){return{regions:s(t.segments,h,u),inverted:t.inverted}},polygonFromGeoJSON:function(t){return c.toPolygon(n,t)},polygonToGeoJSON:function(t){return c.fromPolygon(n,h,t)},union:function(t,e){return f(t,e,n.selectUnion)},intersect:function(t,e){return f(t,e,n.selectIntersect)},difference:function(t,e){return f(t,e,n.selectDifference)},differenceRev:function(t,e){return f(t,e,n.selectDifferenceRev)},xor:function(t,e){return f(t,e,n.selectXor)}},"object"==typeof window&&(window.PolyBool=n),t.exports=n},function(t,e){t.exports=function(){var t,e=0,r=!1;function n(e,r){return t.list.push({type:e,data:r?JSON.parse(JSON.stringify(r)):void 0}),t}return t={list:[],segmentId:function(){return e++},checkIntersection:function(t,e){return n("check",{seg1:t,seg2:e})},segmentChop:function(t,e){return n("div_seg",{seg:t,pt:e}),n("chop",{seg:t,pt:e})},statusRemove:function(t){return n("pop_seg",{seg:t})},segmentUpdate:function(t){return n("seg_update",{seg:t})},segmentNew:function(t,e){return n("new_seg",{seg:t,primary:e})},segmentRemove:function(t){return n("rem_seg",{seg:t})},tempStatus:function(t,e,r){return n("temp_status",{seg:t,above:e,below:r})},rewind:function(t){return n("rewind",{seg:t})},status:function(t,e,r){return n("status",{seg:t,above:e,below:r})},vert:function(e){return e===r?t:(r=e,n("vert",{x:e}))},log:function(t){return"string"!=typeof t&&(t=JSON.stringify(t,!1,"  ")),n("log",{txt:t})},reset:function(){return n("reset")},selected:function(t){return n("selected",{segs:t})},chainStart:function(t){return n("chain_start",{seg:t})},chainRemoveHead:function(t,e){return n("chain_rem_head",{index:t,pt:e})},chainRemoveTail:function(t,e){return n("chain_rem_tail",{index:t,pt:e})},chainNew:function(t,e){return n("chain_new",{pt1:t,pt2:e})},chainMatch:function(t){return n("chain_match",{index:t})},chainClose:function(t){return n("chain_close",{index:t})},chainAddHead:function(t,e){return n("chain_add_head",{index:t,pt:e})},chainAddTail:function(t,e){return n("chain_add_tail",{index:t,pt:e})},chainConnect:function(t,e){return n("chain_con",{index1:t,index2:e})},chainReverse:function(t){return n("chain_rev",{index:t})},chainJoin:function(t,e){return n("chain_join",{index1:t,index2:e})},done:function(){return n("done")}}}},function(t,e){t.exports=function(t){"number"!=typeof t&&(t=1e-10);var e={epsilon:function(e){return"number"==typeof e&&(t=e),t},pointAboveOrOnLine:function(e,r,n){var i=r[0],o=r[1],a=n[0],s=n[1],l=e[0];return(a-i)*(e[1]-o)-(s-o)*(l-i)>=-t},pointBetween:function(e,r,n){var i=e[1]-r[1],o=n[0]-r[0],a=e[0]-r[0],s=n[1]-r[1],l=a*o+i*s;return!(l<t||l-(o*o+s*s)>-t)},pointsSameX:function(e,r){return Math.abs(e[0]-r[0])<t},pointsSameY:function(e,r){return Math.abs(e[1]-r[1])<t},pointsSame:function(t,r){return e.pointsSameX(t,r)&&e.pointsSameY(t,r)},pointsCompare:function(t,r){return e.pointsSameX(t,r)?e.pointsSameY(t,r)?0:t[1]<r[1]?-1:1:t[0]<r[0]?-1:1},pointsCollinear:function(e,r,n){var i=e[0]-r[0],o=e[1]-r[1],a=r[0]-n[0],s=r[1]-n[1];return Math.abs(i*s-a*o)<t},linesIntersect:function(e,r,n,i){var o=r[0]-e[0],a=r[1]-e[1],s=i[0]-n[0],l=i[1]-n[1],c=o*l-a*s;if(Math.abs(c)<t)return!1;var u=e[0]-n[0],h=e[1]-n[1],f=(s*h-l*u)/c,d=(o*h-a*u)/c,p={alongA:0,alongB:0,pt:[e[0]+f*o,e[1]+f*a]};return p.alongA=f<=-t?-2:f<t?-1:f-1<=-t?0:f-1<t?1:2,p.alongB=d<=-t?-2:d<t?-1:d-1<=-t?0:d-1<t?1:2,p},pointInsideRegion:function(e,r){for(var n=e[0],i=e[1],o=r[r.length-1][0],a=r[r.length-1][1],s=!1,l=0;l<r.length;l++){var c=r[l][0],u=r[l][1];u-i>t!=a-i>t&&(o-c)*(i-u)/(a-u)+c-n>t&&(s=!s),o=c,a=u}return s}};return e}},function(t,e,r){var n=r(356);t.exports=function(t,e,r){function i(t,e,n){return{id:r?r.segmentId():-1,start:t,end:e,myFill:{above:n.myFill.above,below:n.myFill.below},otherFill:null}}var o=n.create();function a(t,r){o.insertBefore(t,function(n){return function(t,r,n,i,o,a){var s=e.pointsCompare(r,o);return 0!==s?s:e.pointsSame(n,a)?0:t!==i?t?1:-1:e.pointAboveOrOnLine(n,i?o:a,i?a:o)?1:-1}(t.isStart,t.pt,r,n.isStart,n.pt,n.other.pt)<0})}function s(t,e){var r=function(t,e){var r=n.node({isStart:!0,pt:t.start,seg:t,primary:e,other:null,status:null});return a(r,t.end),r}(t,e);return function(t,e,r){var i=n.node({isStart:!1,pt:e.end,seg:e,primary:r,other:t,status:null});t.other=i,a(i,t.pt)}(r,t,e),r}function l(t,e){var n=i(e,t.seg.end,t.seg);return function(t,e){r&&r.segmentChop(t.seg,e),t.other.remove(),t.seg.end=e,t.other.pt=e,a(t.other,t.pt)}(t,e),s(n,t.primary)}function c(i,a){var s=n.create();function c(t){return s.findTransition(function(r){var n,i,o,a,s,l;return n=t,i=r.ev,o=n.seg.start,a=n.seg.end,s=i.seg.start,l=i.seg.end,(e.pointsCollinear(o,s,l)?e.pointsCollinear(a,s,l)?1:e.pointAboveOrOnLine(a,s,l)?1:-1:e.pointAboveOrOnLine(o,s,l)?1:-1)>0})}function u(t,n){var i=t.seg,o=n.seg,a=i.start,s=i.end,c=o.start,u=o.end;r&&r.checkIntersection(i,o);var h=e.linesIntersect(a,s,c,u);if(!1===h){if(!e.pointsCollinear(a,s,c))return!1;if(e.pointsSame(a,u)||e.pointsSame(s,c))return!1;var f=e.pointsSame(a,c),d=e.pointsSame(s,u);if(f&&d)return n;var p=!f&&e.pointBetween(a,c,u),v=!d&&e.pointBetween(s,c,u);if(f)return v?l(n,s):l(t,u),n;p&&(d||(v?l(n,s):l(t,u)),l(n,a))}else 0===h.alongA&&(-1===h.alongB?l(t,c):0===h.alongB?l(t,h.pt):1===h.alongB&&l(t,u)),0===h.alongB&&(-1===h.alongA?l(n,a):0===h.alongA?l(n,h.pt):1===h.alongA&&l(n,s));return!1}for(var h=[];!o.isEmpty();){var f=o.getHead();if(r&&r.vert(f.pt[0]),f.isStart){r&&r.segmentNew(f.seg,f.primary);var d=c(f),p=d.before?d.before.ev:null,v=d.after?d.after.ev:null;function y(){if(p){var t=u(f,p);if(t)return t}return!!v&&u(f,v)}r&&r.tempStatus(f.seg,!!p&&p.seg,!!v&&v.seg);var g,m,b=y();if(b)t?(m=null===f.seg.myFill.below||f.seg.myFill.above!==f.seg.myFill.below)&&(b.seg.myFill.above=!b.seg.myFill.above):b.seg.otherFill=f.seg.myFill,r&&r.segmentUpdate(b.seg),f.other.remove(),f.remove();if(o.getHead()!==f){r&&r.rewind(f.seg);continue}t?(m=null===f.seg.myFill.below||f.seg.myFill.above!==f.seg.myFill.below,f.seg.myFill.below=v?v.seg.myFill.above:i,f.seg.myFill.above=m?!f.seg.myFill.below:f.seg.myFill.below):null===f.seg.otherFill&&(g=v?f.primary===v.primary?v.seg.otherFill.above:v.seg.myFill.above:f.primary?a:i,f.seg.otherFill={above:g,below:g}),r&&r.status(f.seg,!!p&&p.seg,!!v&&v.seg),f.other.status=d.insert(n.node({ev:f}))}else{var x=f.status;if(null===x)throw new Error("PolyBool: Zero-length segment detected; your epsilon is probably too small or too large");if(s.exists(x.prev)&&s.exists(x.next)&&u(x.prev.ev,x.next.ev),r&&r.statusRemove(x.ev.seg),x.remove(),!f.primary){var w=f.seg.myFill;f.seg.myFill=f.seg.otherFill,f.seg.otherFill=w}h.push(f.seg)}o.getHead().remove()}return r&&r.done(),h}return t?{addRegion:function(t){for(var n,i,o,a=t[t.length-1],l=0;l<t.length;l++){n=a,a=t[l];var c=e.pointsCompare(n,a);0!==c&&s((i=c<0?n:a,o=c<0?a:n,{id:r?r.segmentId():-1,start:i,end:o,myFill:{above:null,below:null},otherFill:null}),!0)}},calculate:function(t){return c(t,!1)}}:{calculate:function(t,e,r,n){return t.forEach(function(t){s(i(t.start,t.end,t),!0)}),r.forEach(function(t){s(i(t.start,t.end,t),!1)}),c(e,n)}}}},function(t,e){t.exports={create:function(){var t={root:{root:!0,next:null},exists:function(e){return null!==e&&e!==t.root},isEmpty:function(){return null===t.root.next},getHead:function(){return t.root.next},insertBefore:function(e,r){for(var n=t.root,i=t.root.next;null!==i;){if(r(i))return e.prev=i.prev,e.next=i,i.prev.next=e,void(i.prev=e);n=i,i=i.next}n.next=e,e.prev=n,e.next=null},findTransition:function(e){for(var r=t.root,n=t.root.next;null!==n&&!e(n);)r=n,n=n.next;return{before:r===t.root?null:r,after:n,insert:function(t){return t.prev=r,t.next=n,r.next=t,null!==n&&(n.prev=t),t}}}};return t},node:function(t){return t.prev=null,t.next=null,t.remove=function(){t.prev.next=t.next,t.next&&(t.next.prev=t.prev),t.prev=null,t.next=null},t}}},function(t,e){t.exports=function(t,e,r){var n=[],i=[];return t.forEach(function(t){var o=t.start,a=t.end;if(e.pointsSame(o,a))console.warn("PolyBool: Warning: Zero-length segment detected; your epsilon is probably too small or too large");else{r&&r.chainStart(t);for(var s={index:0,matches_head:!1,matches_pt1:!1},l={index:0,matches_head:!1,matches_pt1:!1},c=s,u=0;u<n.length;u++){var h=(y=n[u])[0],f=(y[1],y[y.length-1]);if(y[y.length-2],e.pointsSame(h,o)){if(T(u,!0,!0))break}else if(e.pointsSame(h,a)){if(T(u,!0,!1))break}else if(e.pointsSame(f,o)){if(T(u,!1,!0))break}else if(e.pointsSame(f,a)&&T(u,!1,!1))break}if(c===s)return n.push([o,a]),void(r&&r.chainNew(o,a));if(c===l){r&&r.chainMatch(s.index);var d=s.index,p=s.matches_pt1?a:o,v=s.matches_head,y=n[d],g=v?y[0]:y[y.length-1],m=v?y[1]:y[y.length-2],b=v?y[y.length-1]:y[0],x=v?y[y.length-2]:y[1];return e.pointsCollinear(m,g,p)&&(v?(r&&r.chainRemoveHead(s.index,p),y.shift()):(r&&r.chainRemoveTail(s.index,p),y.pop()),g=m),e.pointsSame(b,p)?(n.splice(d,1),e.pointsCollinear(x,b,g)&&(v?(r&&r.chainRemoveTail(s.index,g),y.pop()):(r&&r.chainRemoveHead(s.index,g),y.shift())),r&&r.chainClose(s.index),void i.push(y)):void(v?(r&&r.chainAddHead(s.index,p),y.unshift(p)):(r&&r.chainAddTail(s.index,p),y.push(p)))}var w=s.index,_=l.index;r&&r.chainConnect(w,_);var k=n[w].length<n[_].length;s.matches_head?l.matches_head?k?(A(w),M(w,_)):(A(_),M(_,w)):M(_,w):l.matches_head?M(w,_):k?(A(w),M(_,w)):(A(_),M(w,_))}function T(t,e,r){return c.index=t,c.matches_head=e,c.matches_pt1=r,c===s?(c=l,!1):(c=null,!0)}function A(t){r&&r.chainReverse(t),n[t].reverse()}function M(t,i){var o=n[t],a=n[i],s=o[o.length-1],l=o[o.length-2],c=a[0],u=a[1];e.pointsCollinear(l,s,c)&&(r&&r.chainRemoveTail(t,s),o.pop(),s=l),e.pointsCollinear(s,c,u)&&(r&&r.chainRemoveHead(i,c),a.shift()),r&&r.chainJoin(t,i),n[t]=o.concat(a),n.splice(i,1)}}),i}},function(t,e){function r(t,e,r){var n=[];return t.forEach(function(t){var i=(t.myFill.above?8:0)+(t.myFill.below?4:0)+(t.otherFill&&t.otherFill.above?2:0)+(t.otherFill&&t.otherFill.below?1:0);0!==e[i]&&n.push({id:r?r.segmentId():-1,start:t.start,end:t.end,myFill:{above:1===e[i],below:2===e[i]},otherFill:null})}),r&&r.selected(n),n}var n={union:function(t,e){return r(t,[0,2,1,0,2,2,0,0,1,0,1,0,0,0,0,0],e)},intersect:function(t,e){return r(t,[0,0,0,0,0,2,0,2,0,0,1,1,0,2,1,0],e)},difference:function(t,e){return r(t,[0,0,0,0,2,0,2,0,1,1,0,0,0,1,2,0],e)},differenceRev:function(t,e){return r(t,[0,2,1,0,0,0,1,1,0,2,0,2,0,0,0,0],e)},xor:function(t,e){return r(t,[0,2,1,0,2,0,0,1,1,0,0,2,0,1,2,0],e)}};t.exports=n},function(t,e){var r={toPolygon:function(t,e){function r(e){if(e.length<=0)return t.segments({inverted:!1,regions:[]});function r(e){var r=e.slice(0,e.length-1);return t.segments({inverted:!1,regions:[r]})}for(var n=r(e[0]),i=1;i<e.length;i++)n=t.selectDifference(t.combine(n,r(e[i])));return n}if("Polygon"===e.type)return t.polygon(r(e.coordinates));if("MultiPolygon"===e.type){for(var n=t.segments({inverted:!1,regions:[]}),i=0;i<e.coordinates.length;i++)n=t.selectUnion(t.combine(n,r(e.coordinates[i])));return t.polygon(n)}throw new Error("PolyBool: Cannot convert GeoJSON object to PolyBool polygon")},fromPolygon:function(t,e,r){function n(t,r){return e.pointInsideRegion([.5*(t[0][0]+t[1][0]),.5*(t[0][1]+t[1][1])],r)}function i(t){return{region:t,children:[]}}r=t.polygon(t.segments(r));var o=i(null);function a(t,e){for(var r=0;r<t.children.length;r++){if(n(e,(s=t.children[r]).region))return void a(s,e)}var o=i(e);for(r=0;r<t.children.length;r++){var s;n((s=t.children[r]).region,e)&&(o.children.push(s),t.children.splice(r,1),r--)}t.children.push(o)}for(var s=0;s<r.regions.length;s++){var l=r.regions[s];l.length<3||a(o,l)}function c(t,e){for(var r=0,n=t[t.length-1][0],i=t[t.length-1][1],o=[],a=0;a<t.length;a++){var s=t[a][0],l=t[a][1];o.push([s,l]),r+=l*n-s*i,n=s,i=l}return r<0!==e&&o.reverse(),o.push([o[0][0],o[0][1]]),o}var u=[];function h(t){var e=[c(t.region,!1)];u.push(e);for(var r=0;r<t.children.length;r++)e.push(f(t.children[r]))}function f(t){for(var e=0;e<t.children.length;e++)h(t.children[e]);return c(t.region,!0)}for(s=0;s<o.children.length;s++)h(o.children[s]);return u.length<=0?{type:"Polygon",coordinates:[]}:1==u.length?{type:"Polygon",coordinates:u[0]}:{type:"MultiPolygon",coordinates:u}}};t.exports=r},function(t,e,r){"use strict";var n=r(65),i=r(46),o=r(89),a=r(45),s=r(148).sorterAsc,l=r(5);e.containerArrayMatch=r(142);var c=e.isAddVal=function(t){return"add"===t||i(t)},u=e.isRemoveVal=function(t){return null===t||"remove"===t};e.applyContainerArrayChanges=function(t,e,r,i){var h=e.astr,f=l.getComponentMethod(h,"supplyLayoutDefaults"),d=l.getComponentMethod(h,"draw"),p=l.getComponentMethod(h,"drawOne"),v=i.replot||i.recalc||f===o||d===o,y=t.layout,g=t._fullLayout;if(r[""]){Object.keys(r).length>1&&a.warn("Full array edits are incompatible with other edits",h);var m=r[""][""];if(u(m))e.set(null);else{if(!Array.isArray(m))return a.warn("Unrecognized full array edit value",h,m),!0;e.set(m)}return!v&&(f(y,g),d(t),!0)}var b,x,w,_,k,T,A,M=Object.keys(r).map(Number).sort(s),S=e.get(),O=S||[],C=n(g,h).get(),L=[],j=-1,I=O.length;for(b=0;b<M.length;b++)if(_=r[w=M[b]],k=Object.keys(_),T=_[""],A=c(T),w<0||w>O.length-(A?0:1))a.warn("index out of range",h,w);else if(void 0!==T)k.length>1&&a.warn("Insertion & removal are incompatible with edits to the same index.",h,w),u(T)?L.push(w):A?("add"===T&&(T={}),O.splice(w,0,T),C&&C.splice(w,0,{})):a.warn("Unrecognized full object edit value",h,w,T),-1===j&&(j=w);else for(x=0;x<k.length;x++)n(O[w],k[x]).set(_[k[x]]);for(b=L.length-1;b>=0;b--)O.splice(L[b],1),C&&C.splice(L[b],1);if(O.length?S||e.set(O):e.set(null),v)return!1;if(f(y,g),p!==o){var P;if(-1===j)P=M;else{for(I=Math.max(O.length,I),P=[],b=0;b<M.length&&!((w=M[b])>=j);b++)P.push(w);for(b=j;b<I;b++)P.push(b)}for(b=0;b<P.length;b++)p(t,P[b])}else d(t);return!0}},function(t,e,r){"use strict";var n=r(6),i=r(362),o=r(5),a=r(1),s=r(14),l=r(24),c=l.cleanId,u=l.getFromTrace,h=r(4);function f(t,e){var r=t[e],n=e.charAt(0);r&&"paper"!==r&&(t[e]=c(r,n))}function d(t){var e="middle",r="center";return-1!==t.indexOf("top")?e="top":-1!==t.indexOf("bottom")&&(e="bottom"),-1!==t.indexOf("left")?r="left":-1!==t.indexOf("right")&&(r="right"),e+" "+r}function p(t,e){return e in t&&"object"==typeof t[e]&&0===Object.keys(t[e]).length}e.clearPromiseQueue=function(t){Array.isArray(t._promises)&&t._promises.length>0&&a.log("Clearing previous rejected promises from queue."),t._promises=[]},e.cleanLayout=function(t){var e,r;t||(t={}),t.xaxis1&&(t.xaxis||(t.xaxis=t.xaxis1),delete t.xaxis1),t.yaxis1&&(t.yaxis||(t.yaxis=t.yaxis1),delete t.yaxis1),t.scene1&&(t.scene||(t.scene=t.scene1),delete t.scene1);var n=(s.subplotsRegistry.cartesian||{}).attrRegex,o=(s.subplotsRegistry.gl3d||{}).attrRegex,l=Object.keys(t);for(e=0;e<l.length;e++){var u=l[e];if(n&&n.test(u)){var d=t[u];d.anchor&&"free"!==d.anchor&&(d.anchor=c(d.anchor)),d.overlaying&&(d.overlaying=c(d.overlaying)),d.type||(d.isdate?d.type="date":d.islog?d.type="log":!1===d.isdate&&!1===d.islog&&(d.type="linear")),"withzero"!==d.autorange&&"tozero"!==d.autorange||(d.autorange=!0,d.rangemode="tozero"),delete d.islog,delete d.isdate,delete d.categories,p(d,"domain")&&delete d.domain,void 0!==d.autotick&&(void 0===d.tickmode&&(d.tickmode=d.autotick?"auto":"linear"),delete d.autotick)}else if(o&&o.test(u)){var v=t[u],y=v.cameraposition;if(Array.isArray(y)&&4===y[0].length){var g=y[0],m=y[1],b=y[2],x=i([],g),w=[];for(r=0;r<3;++r)w[r]=m[r]+b*x[2+4*r];v.camera={eye:{x:w[0],y:w[1],z:w[2]},center:{x:m[0],y:m[1],z:m[2]},up:{x:x[1],y:x[5],z:x[9]}},delete v.cameraposition}}}var _=Array.isArray(t.annotations)?t.annotations.length:0;for(e=0;e<_;e++){var k=t.annotations[e];a.isPlainObject(k)&&(k.ref&&("paper"===k.ref?(k.xref="paper",k.yref="paper"):"data"===k.ref&&(k.xref="x",k.yref="y"),delete k.ref),f(k,"xref"),f(k,"yref"))}var T=Array.isArray(t.shapes)?t.shapes.length:0;for(e=0;e<T;e++){var A=t.shapes[e];a.isPlainObject(A)&&(f(A,"xref"),f(A,"yref"))}var M=t.legend;return M&&(M.x>3?(M.x=1.02,M.xanchor="left"):M.x<-2&&(M.x=-.02,M.xanchor="right"),M.y>3?(M.y=1.02,M.yanchor="bottom"):M.y<-2&&(M.y=-.02,M.yanchor="top")),"rotate"===t.dragmode&&(t.dragmode="orbit"),h.clean(t),t},e.cleanData=function(t,r){for(var n=[],i=t.concat(Array.isArray(r)?r:[]).filter(function(t){return"uid"in t}).map(function(t){return t.uid}),l=0;l<t.length;l++){var u,f=t[l];if(!("uid"in f)||-1!==n.indexOf(f.uid)){var v;for(u=0;u<100&&(v=a.randstr(i),-1!==n.indexOf(v));u++);f.uid=a.randstr(i),i.push(f.uid)}if(n.push(f.uid),"histogramy"===f.type&&"xbins"in f&&!("ybins"in f)&&(f.ybins=f.xbins,delete f.xbins),f.error_y&&"opacity"in f.error_y){var y=h.defaults,g=f.error_y.color||(o.traceIs(f,"bar")?h.defaultLine:y[l%y.length]);f.error_y.color=h.addOpacity(h.rgb(g),h.opacity(g)*f.error_y.opacity),delete f.error_y.opacity}if("bardir"in f&&("h"!==f.bardir||!o.traceIs(f,"bar")&&"histogram"!==f.type.substr(0,9)||(f.orientation="h",e.swapXYData(f)),delete f.bardir),"histogramy"===f.type&&e.swapXYData(f),"histogramx"!==f.type&&"histogramy"!==f.type||(f.type="histogram"),"scl"in f&&(f.colorscale=f.scl,delete f.scl),"reversescl"in f&&(f.reversescale=f.reversescl,delete f.reversescl),f.xaxis&&(f.xaxis=c(f.xaxis,"x")),f.yaxis&&(f.yaxis=c(f.yaxis,"y")),o.traceIs(f,"gl3d")&&f.scene&&(f.scene=s.subplotsRegistry.gl3d.cleanId(f.scene)),o.traceIs(f,"pie")||o.traceIs(f,"bar")||(Array.isArray(f.textposition)?f.textposition=f.textposition.map(d):f.textposition&&(f.textposition=d(f.textposition))),o.traceIs(f,"2dMap")&&("YIGnBu"===f.colorscale&&(f.colorscale="YlGnBu"),"YIOrRd"===f.colorscale&&(f.colorscale="YlOrRd")),o.traceIs(f,"markerColorscale")&&f.marker){var m=f.marker;"YIGnBu"===m.colorscale&&(m.colorscale="YlGnBu"),"YIOrRd"===m.colorscale&&(m.colorscale="YlOrRd")}if("surface"===f.type&&a.isPlainObject(f.contours)){var b=["x","y","z"];for(u=0;u<b.length;u++){var x=f.contours[b[u]];a.isPlainObject(x)&&(x.highlightColor&&(x.highlightcolor=x.highlightColor,delete x.highlightColor),x.highlightWidth&&(x.highlightwidth=x.highlightWidth,delete x.highlightWidth))}}if(Array.isArray(f.transforms)){var w=f.transforms;for(u=0;u<w.length;u++){var _=w[u];if(a.isPlainObject(_))switch(_.type){case"filter":_.filtersrc&&(_.target=_.filtersrc,delete _.filtersrc),_.calendar&&(_.valuecalendar||(_.valuecalendar=_.calendar),delete _.calendar);break;case"groupby":if(_.styles=_.styles||_.style,_.styles&&!Array.isArray(_.styles)){var k=_.styles,T=Object.keys(k);_.styles=[];for(var A=0;A<T.length;A++)_.styles.push({target:T[A],value:k[T[A]]})}}}}p(f,"line")&&delete f.line,"marker"in f&&(p(f.marker,"line")&&delete f.marker.line,p(f,"marker")&&delete f.marker),h.clean(f)}},e.swapXYData=function(t){var e;if(a.swapAttrs(t,["?","?0","d?","?bins","nbins?","autobin?","?src","error_?"]),Array.isArray(t.z)&&Array.isArray(t.z[0])&&(t.transpose?delete t.transpose:t.transpose=!0),t.error_x&&t.error_y){var r=t.error_y,n="copy_ystyle"in r?r.copy_ystyle:!(r.color||r.thickness||r.width);a.swapAttrs(t,["error_?.copy_ystyle"]),n&&a.swapAttrs(t,["error_?.color","error_?.thickness","error_?.width"])}if("string"==typeof t.hoverinfo){var i=t.hoverinfo.split("+");for(e=0;e<i.length;e++)"x"===i[e]?i[e]="y":"y"===i[e]&&(i[e]="x");t.hoverinfo=i.join("+")}},e.coerceTraceIndices=function(t,e){return n(e)?[e]:Array.isArray(e)&&e.length?e:t.data.map(function(t,e){return e})},e.manageArrayContainers=function(t,e,r){var i=t.obj,o=t.parts,s=o.length,l=o[s-1],c=n(l);if(c&&null===e){var u=o.slice(0,s-1).join(".");a.nestedProperty(i,u).get().splice(l,1)}else c&&void 0===t.get()?(void 0===t.get()&&(r[t.astr]=null),t.set(e)):t.set(e)};var v=/(\.[^\[\]\.]+|\[[^\[\]\.]+\])$/;function y(t){var e=t.search(v);if(e>0)return t.substr(0,e)}e.hasParent=function(t,e){for(var r=y(e);r;){if(r in t)return!0;r=y(r)}return!1};var g=["x","y","z"];e.clearAxisTypes=function(t,e,r){for(var n=0;n<e.length;n++)for(var i=t._fullData[n],o=0;o<3;o++){var s=u(t,i,g[o]);if(s&&"log"!==s.type){var l=s._name,c=s._id.substr(1);if("scene"===c.substr(0,5)){if(void 0!==r[c])continue;l=c+"."+l}var h=l+".type";void 0===r[l]&&void 0===r[h]&&a.nestedProperty(t.layout,h).set(null)}}}},function(t,e){t.exports=function(t,e){var r=e[0],n=e[1],i=e[2],o=e[3],a=r+r,s=n+n,l=i+i,c=r*a,u=n*a,h=n*s,f=i*a,d=i*s,p=i*l,v=o*a,y=o*s,g=o*l;return t[0]=1-h-p,t[1]=u+g,t[2]=f-y,t[3]=0,t[4]=u-g,t[5]=1-c-p,t[6]=d+v,t[7]=0,t[8]=f+y,t[9]=d-v,t[10]=1-c-h,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}},function(t,e,r){"use strict";var n=r(3),i=r(12),o=r(5),a=r(14),s=r(1),l=r(4),c=r(9),u=r(102),h=r(160),f=r(165),d=r(22),p=r(25);function v(t,e){return(t.ticks||t.showline)&&(e===t._mainSubplot||"all"===t.mirror||"allticks"===t.mirror)}function y(t,e,r){if(!r.showline||!r._lw)return!1;if("all"===r.mirror||"allticks"===r.mirror)return!0;var n=r._anchorAxis;if(!n)return!1;var i=p.FROM_BL[e];return r.side===e?n.domain[i]===t.domain[i]:r.mirror&&n.domain[1-i]===t.domain[1-i]}function g(t,e,r,n){if(y(t,e,r))return r._lw;for(var i=0;i<n.length;i++){var o=n[i];if(o._mainAxis===r._mainAxis&&y(t,e,o))return o._lw}return 0}e.layoutStyles=function(t){return s.syncOrAsync([a.doAutoMargin,e.lsInner],t)},e.lsInner=function(t){var r,o=t._fullLayout,a=o._size,s=a.p,u=i.Axes.list(t),f=o._has("cartesian");function y(t,e,r){var n=t._lw/2;return"x"===t._id.charAt(0)?e?"top"===r?e._offset-s-n:e._offset+e._length+s+n:a.t+a.h*(1-(t.position||0))+n%1:e?"right"===r?e._offset+e._length+s+n:e._offset-s-n:a.l+a.w*(t.position||0)+n%1}for(r=0;r<u.length;r++){var m=u[r];m.setScale();var b=m._anchorAxis;m._linepositions={},m._lw=c.crispRound(t,m.linewidth,1),m._mainLinePosition=y(m,b,m.side),m._mainMirrorPosition=m.mirror&&b?y(m,b,p.OPPOSITE_SIDE[m.side]):null}o._paperdiv.style({width:o.width+"px",height:o.height+"px"}).selectAll(".main-svg").call(c.setSize,o.width,o.height),t._context.setBackground(t,o.paper_bgcolor);var x=o._paper.selectAll("g.subplot"),w=[],_=[];x.each(function(t){var e=o._plots[t];if(e.mainplot)return e.bg&&e.bg.remove(),void(e.bg=void 0);var r=e.xaxis.domain,n=e.yaxis.domain,i=[];!function(t,e,r){for(var n=0;n<r.length;n++){var i=r[n][0],o=r[n][1];if(!(i[0]>=t[1]||i[1]<=t[0])&&o[0]<e[1]&&o[1]>e[0])return!0}return!1}(r,n,_)?(w.push(t),_.push([r,n])):i=[0];var a=e.plotgroup.selectAll(".bg").data(i);a.enter().append("rect").classed("bg",!0),a.exit().remove(),a.each(function(){e.bg=a;var t=e.plotgroup.node();t.insertBefore(this,t.childNodes[0])})});var k=o._bgLayer.selectAll(".bg").data(w);return k.enter().append("rect").classed("bg",!0),k.exit().remove(),k.each(function(t){o._plots[t].bg=n.select(this)}),x.each(function(t){var e=o._plots[t],n=e.xaxis,i=e.yaxis;e.bg&&f&&e.bg.call(c.setRect,n._offset-s,i._offset-s,n._length+2*s,i._length+2*s).call(l.fill,o.plot_bgcolor).style("stroke-width",0),e.clipId="clip"+o._uid+t+"plot";var a,h,p=o._clips.selectAll("#"+e.clipId).data([0]);for(p.enter().append("clipPath").attr({class:"plotclip",id:e.clipId}).append("rect"),p.selectAll("rect").attr({width:n._length,height:i._length}),c.setTranslate(e.plot,n._offset,i._offset),e._hasClipOnAxisFalse?(a=null,h=e.clipId):(a=e.clipId,h=null),c.setClipUrl(e.plot,a),r=0;r<d.traceLayerClasses.length;r++){var m=d.traceLayerClasses[r];"scatterlayer"!==m&&e.plot.selectAll("g."+m).call(c.setClipUrl,h)}if(e.layerClipId=h,f){var b,x,w,_,k,T,A,M,S,O,C,L,j;if(v(n,t)){k=g(n,"left",i,u),b=n._offset-(k?s+k:0),T=g(n,"right",i,u),x=n._offset+n._length+(T?s+T:0),w=y(n,i,"bottom"),_=y(n,i,"top"),(j=!n._anchorAxis||t!==n._mainSubplot)&&n.ticks&&"allticks"===n.mirror&&(n._linepositions[t]=[w,_]);var I=N(n,E,function(t){return"M"+n._offset+","+t+"h"+n._length});j&&n.showline&&("all"===n.mirror||"allticks"===n.mirror)&&(I+=E(w)+E(_)),e.xlines.attr("d",I||"M0,0").style("stroke-width",n._lw+"px").call(l.stroke,n.showline?n.linecolor:"rgba(0,0,0,0)")}if(v(i,t)){C=g(i,"bottom",n,u),A=i._offset+i._length+(C?s:0),L=g(i,"top",n,u),M=i._offset-(L?s:0),S=y(i,n,"left"),O=y(i,n,"right"),(j=!i._anchorAxis||t!==n._mainSubplot)&&i.ticks&&"allticks"===i.mirror&&(i._linepositions[t]=[S,O]);var P=N(i,z,function(t){return"M"+t+","+i._offset+"v"+i._length});j&&i.showline&&("all"===i.mirror||"allticks"===i.mirror)&&(P+=z(S)+z(O)),e.ylines.attr("d",P||"M0,0").style("stroke-width",i._lw+"px").call(l.stroke,i.showline?i.linecolor:"rgba(0,0,0,0)")}}function E(t){return"M"+b+","+t+"H"+x}function z(t){return"M"+t+","+M+"V"+A}function N(e,r,n){if(!e.showline||t!==e._mainSubplot)return"";if(!e._anchorAxis)return n(e._mainLinePosition);var i=r(e._mainLinePosition);return e.mirror&&(i+=r(e._mainMirrorPosition)),i}}),i.Axes.makeClipPaths(t),e.drawMainTitle(t),h.manage(t),t._promises.length&&Promise.all(t._promises)},e.drawMainTitle=function(t){var e=t._fullLayout;u.draw(t,"gtitle",{propContainer:e,propName:"title",placeholder:e._dfltTitle.plot,attributes:{x:e.width/2,y:e._size.t/2,"text-anchor":"middle"}})},e.doTraceStyle=function(t){for(var e=0;e<t.calcdata.length;e++){var r=t.calcdata[e],n=(((r[0]||{}).trace||{})._module||{}).arraysToCalcdata;n&&n(r,r[0].trace)}return a.style(t),o.getComponentMethod("legend","draw")(t),a.previousPromises(t)},e.doColorBars=function(t){for(var e=0;e<t.calcdata.length;e++){var r=t.calcdata[e][0];if((r.t||{}).cb){var n=r.trace,i=r.t.cb;o.traceIs(n,"contour")&&i.line({width:!1!==n.contours.showlines?n.line.width:0,dash:n.line.dash,color:"line"===n.contours.coloring?i._opts.line.color:n.line.color}),o.traceIs(n,"markerColorscale")?i.options(n.marker.colorbar)():i.options(n.colorbar)()}}return a.previousPromises(t)},e.layoutReplot=function(t){var e=t.layout;return t.layout=void 0,i.plot(t,"",e)},e.doLegend=function(t){return o.getComponentMethod("legend","draw")(t),a.previousPromises(t)},e.doTicksRelayout=function(t){return i.Axes.doTicks(t,"redraw"),e.drawMainTitle(t),a.previousPromises(t)},e.doModeBar=function(t){var e=t._fullLayout;h.manage(t),f(t);for(var r=0;r<e._basePlotModules.length;r++){var n=e._basePlotModules[r].updateFx;n&&n(e)}return a.previousPromises(t)},e.doCamera=function(t){for(var e=t._fullLayout,r=e._subplots.gl3d,n=0;n<r.length;n++){var i=e[r[n]];i._scene.setCamera(i.camera)}}},function(t,e,r){"use strict";var n=r(24).id2name,i=r(168),o=r(21).ALMOST_EQUAL,a=r(25).FROM_BL;function s(t,e){var r=t._inputDomain,n=a[t.constraintoward],i=r[0]+(r[1]-r[0])*n;t.domain=t._input.domain=[i+(r[0]-i)/e,i+(r[1]-i)/e]}e.enforce=function(t){var e,r,a,l,c,u,h,f=t._fullLayout,d=f._axisConstraintGroups||[];for(e=0;e<d.length;e++){var p=d[e],v=Object.keys(p),y=1/0,g=0,m=1/0,b={},x={},w=!1;for(r=0;r<v.length;r++)x[a=v[r]]=l=f[n(a)],l._inputDomain?l.domain=l._inputDomain.slice():l._inputDomain=l.domain.slice(),l._inputRange||(l._inputRange=l.range.slice()),l.setScale(),b[a]=c=Math.abs(l._m)/p[a],y=Math.min(y,c),"domain"!==l.constrain&&l._constraintShrinkable||(m=Math.min(m,c)),delete l._constraintShrinkable,g=Math.max(g,c),"domain"===l.constrain&&(w=!0);if(!(y>o*g)||w)for(r=0;r<v.length;r++)if(c=b[a=v[r]],u=(l=x[a]).constrain,c!==m||"domain"===u)if(h=c/m,"range"===u)i(l,h);else{var _=l._inputDomain,k=(l.domain[1]-l.domain[0])/(_[1]-_[0]),T=(l.r2l(l.range[1])-l.r2l(l.range[0]))/(l.r2l(l._inputRange[1])-l.r2l(l._inputRange[0]));if((h/=k)*T<1){l.domain=l._input.domain=_.slice(),i(l,h);continue}if(T<1&&(l.range=l._input.range=l._inputRange.slice(),h*=T),l.autorange&&l._min.length&&l._max.length){var A=l.r2l(l.range[0]),M=l.r2l(l.range[1]),S=(A+M)/2,O=S,C=S,L=Math.abs(M-S),j=S-L*h*1.0001,I=S+L*h*1.0001;s(l,h),l.setScale();var P,E,z=Math.abs(l._m);for(E=0;E<l._min.length;E++)(P=l._min[E].val-l._min[E].pad/z)>j&&P<O&&(O=P);for(E=0;E<l._max.length;E++)(P=l._max[E].val+l._max[E].pad/z)<I&&P>C&&(C=P);h/=(C-O)/(2*L),O=l.l2r(O),C=l.l2r(C),l.range=l._input.range=A<M?[O,C]:[C,O]}s(l,h)}}},e.clean=function(t,e){if(e._inputDomain){for(var r=!1,n=e._id,i=t._fullLayout._axisConstraintGroups,o=0;o<i.length;o++)if(i[o][n]){r=!0;break}r&&"domain"===e.constrain||(e._input.domain=e.domain=e._inputDomain,delete e._inputDomain)}}},function(t,e,r){(function(e,n){var i;i=function(){"use strict";function t(t){return"function"==typeof t}var i=Array.isArray?Array.isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)},o=0,a=void 0,s=void 0,l=function(t,e){v[o]=t,v[o+1]=e,2===(o+=2)&&(s?s(y):w())};var c="undefined"!=typeof window?window:void 0,u=c||{},h=u.MutationObserver||u.WebKitMutationObserver,f="undefined"==typeof self&&void 0!==e&&"[object process]"==={}.toString.call(e),d="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel;function p(){var t=setTimeout;return function(){return t(y,1)}}var v=new Array(1e3);function y(){for(var t=0;t<o;t+=2){(0,v[t])(v[t+1]),v[t]=void 0,v[t+1]=void 0}o=0}var g,m,b,x,w=void 0;function _(t,e){var r=arguments,n=this,i=new this.constructor(A);void 0===i[T]&&q(i);var o,a=n._state;return a?(o=r[a-1],l(function(){return B(a,i,o,n._result)})):N(n,i,t,e),i}function k(t){if(t&&"object"==typeof t&&t.constructor===this)return t;var e=new this(A);return I(e,t),e}f?w=function(){return e.nextTick(y)}:h?(m=0,b=new h(y),x=document.createTextNode(""),b.observe(x,{characterData:!0}),w=function(){x.data=m=++m%2}):d?((g=new MessageChannel).port1.onmessage=y,w=function(){return g.port2.postMessage(0)}):w=void 0===c?function(){try{var t=r(366);return a=t.runOnLoop||t.runOnContext,function(){a(y)}}catch(t){return p()}}():p();var T=Math.random().toString(36).substring(16);function A(){}var M=void 0,S=1,O=2,C=new R;function L(t){try{return t.then}catch(t){return C.error=t,C}}function j(e,r,n){r.constructor===e.constructor&&n===_&&r.constructor.resolve===k?function(t,e){e._state===S?E(t,e._result):e._state===O?z(t,e._result):N(e,void 0,function(e){return I(t,e)},function(e){return z(t,e)})}(e,r):n===C?z(e,C.error):void 0===n?E(e,r):t(n)?function(t,e,r){l(function(t){var n=!1,i=function(t,e,r,n){try{t.call(e,r,n)}catch(t){return t}}(r,e,function(r){n||(n=!0,e!==r?I(t,r):E(t,r))},function(e){n||(n=!0,z(t,e))},t._label);!n&&i&&(n=!0,z(t,i))},t)}(e,r,n):E(e,r)}function I(t,e){var r;t===e?z(t,new TypeError("You cannot resolve a promise with itself")):"function"==typeof(r=e)||"object"==typeof r&&null!==r?j(t,e,L(e)):E(t,e)}function P(t){t._onerror&&t._onerror(t._result),D(t)}function E(t,e){t._state===M&&(t._result=e,t._state=S,0!==t._subscribers.length&&l(D,t))}function z(t,e){t._state===M&&(t._state=O,t._result=e,l(P,t))}function N(t,e,r,n){var i=t._subscribers,o=i.length;t._onerror=null,i[o]=e,i[o+S]=r,i[o+O]=n,0===o&&t._state&&l(D,t)}function D(t){var e=t._subscribers,r=t._state;if(0!==e.length){for(var n=void 0,i=void 0,o=t._result,a=0;a<e.length;a+=3)n=e[a],i=e[a+r],n?B(r,n,i,o):i(o);t._subscribers.length=0}}function R(){this.error=null}var F=new R;function B(e,r,n,i){var o=t(n),a=void 0,s=void 0,l=void 0,c=void 0;if(o){if((a=function(t,e){try{return t(e)}catch(t){return F.error=t,F}}(n,i))===F?(c=!0,s=a.error,a=null):l=!0,r===a)return void z(r,new TypeError("A promises callback cannot return that same promise."))}else a=i,l=!0;r._state!==M||(o&&l?I(r,a):c?z(r,s):e===S?E(r,a):e===O&&z(r,a))}var V=0;function q(t){t[T]=V++,t._state=void 0,t._result=void 0,t._subscribers=[]}function H(t,e){this._instanceConstructor=t,this.promise=new t(A),this.promise[T]||q(this.promise),i(e)?(this._input=e,this.length=e.length,this._remaining=e.length,this._result=new Array(this.length),0===this.length?E(this.promise,this._result):(this.length=this.length||0,this._enumerate(),0===this._remaining&&E(this.promise,this._result))):z(this.promise,new Error("Array Methods must be provided an Array"))}function U(t){this[T]=V++,this._result=this._state=void 0,this._subscribers=[],A!==t&&("function"!=typeof t&&function(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof U?function(t,e){try{e(function(e){I(t,e)},function(e){z(t,e)})}catch(e){z(t,e)}}(this,t):function(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}())}function W(){var t=void 0;if(void 0!==n)t=n;else if("undefined"!=typeof self)t=self;else try{t=Function("return this")()}catch(t){throw new Error("polyfill failed because global object is unavailable in this environment")}var e=t.Promise;if(e){var r=null;try{r=Object.prototype.toString.call(e.resolve())}catch(t){}if("[object Promise]"===r&&!e.cast)return}t.Promise=U}return H.prototype._enumerate=function(){for(var t=this.length,e=this._input,r=0;this._state===M&&r<t;r++)this._eachEntry(e[r],r)},H.prototype._eachEntry=function(t,e){var r=this._instanceConstructor,n=r.resolve;if(n===k){var i=L(t);if(i===_&&t._state!==M)this._settledAt(t._state,e,t._result);else if("function"!=typeof i)this._remaining--,this._result[e]=t;else if(r===U){var o=new r(A);j(o,t,i),this._willSettleAt(o,e)}else this._willSettleAt(new r(function(e){return e(t)}),e)}else this._willSettleAt(n(t),e)},H.prototype._settledAt=function(t,e,r){var n=this.promise;n._state===M&&(this._remaining--,t===O?z(n,r):this._result[e]=r),0===this._remaining&&E(n,this._result)},H.prototype._willSettleAt=function(t,e){var r=this;N(t,void 0,function(t){return r._settledAt(S,e,t)},function(t){return r._settledAt(O,e,t)})},U.all=function(t){return new H(this,t).promise},U.race=function(t){var e=this;return i(t)?new e(function(r,n){for(var i=t.length,o=0;o<i;o++)e.resolve(t[o]).then(r,n)}):new e(function(t,e){return e(new TypeError("You must pass an array to race."))})},U.resolve=k,U.reject=function(t){var e=new this(A);return z(e,t),e},U._setScheduler=function(t){s=t},U._setAsap=function(t){l=t},U._asap=l,U.prototype={constructor:U,then:_,catch:function(t){return this.then(null,t)}},W(),U.polyfill=W,U.Promise=U,U},t.exports=i()}).call(e,r(169),r(51))},function(t,e){},function(t,e,r){"use strict";var n=r(1),i={"X,X div":"font-family:'Open Sans', verdana, arial, sans-serif;margin:0;padding:0;","X input,X button":"font-family:'Open Sans', verdana, arial, sans-serif;","X input:focus,X button:focus":"outline:none;","X a":"text-decoration:none;","X a:hover":"text-decoration:none;","X .crisp":"shape-rendering:crispEdges;","X .user-select-none":"-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none;","X svg":"overflow:hidden;","X svg a":"fill:#447adb;","X svg a:hover":"fill:#3c6dc5;","X .main-svg":"position:absolute;top:0;left:0;pointer-events:none;","X .main-svg .draglayer":"pointer-events:all;","X .cursor-default":"cursor:default;","X .cursor-pointer":"cursor:pointer;","X .cursor-crosshair":"cursor:crosshair;","X .cursor-move":"cursor:move;","X .cursor-col-resize":"cursor:col-resize;","X .cursor-row-resize":"cursor:row-resize;","X .cursor-ns-resize":"cursor:ns-resize;","X .cursor-ew-resize":"cursor:ew-resize;","X .cursor-sw-resize":"cursor:sw-resize;","X .cursor-s-resize":"cursor:s-resize;","X .cursor-se-resize":"cursor:se-resize;","X .cursor-w-resize":"cursor:w-resize;","X .cursor-e-resize":"cursor:e-resize;","X .cursor-nw-resize":"cursor:nw-resize;","X .cursor-n-resize":"cursor:n-resize;","X .cursor-ne-resize":"cursor:ne-resize;","X .modebar":"position:absolute;top:2px;right:2px;z-index:1001;background:rgba(255,255,255,0.7);","X .modebar--hover":"opacity:0;-webkit-transition:opacity 0.3s ease 0s;-moz-transition:opacity 0.3s ease 0s;-ms-transition:opacity 0.3s ease 0s;-o-transition:opacity 0.3s ease 0s;transition:opacity 0.3s ease 0s;","X:hover .modebar--hover":"opacity:1;","X .modebar-group":"float:left;display:inline-block;box-sizing:border-box;margin-left:8px;position:relative;vertical-align:middle;white-space:nowrap;","X .modebar-group:first-child":"margin-left:0px;","X .modebar-btn":"position:relative;font-size:16px;padding:3px 4px;cursor:pointer;line-height:normal;box-sizing:border-box;","X .modebar-btn svg":"position:relative;top:2px;","X .modebar-btn path":"fill:rgba(0,31,95,0.3);","X .modebar-btn.active path,X .modebar-btn:hover path":"fill:rgba(0,22,72,0.5);","X .modebar-btn.modebar-btn--logo":"padding:3px 1px;","X .modebar-btn.modebar-btn--logo path":"fill:#447adb !important;","X [data-title]:before,X [data-title]:after":"position:absolute;-webkit-transform:translate3d(0, 0, 0);-moz-transform:translate3d(0, 0, 0);-ms-transform:translate3d(0, 0, 0);-o-transform:translate3d(0, 0, 0);transform:translate3d(0, 0, 0);display:none;opacity:0;z-index:1001;pointer-events:none;top:110%;right:50%;","X [data-title]:hover:before,X [data-title]:hover:after":"display:block;opacity:1;","X [data-title]:before":"content:'';position:absolute;background:transparent;border:6px solid transparent;z-index:1002;margin-top:-12px;border-bottom-color:#69738a;margin-right:-6px;","X [data-title]:after":"content:attr(data-title);background:#69738a;color:white;padding:8px 10px;font-size:12px;line-height:12px;white-space:nowrap;margin-right:-18px;border-radius:2px;","X .select-outline":"fill:none;stroke-width:1;shape-rendering:crispEdges;","X .select-outline-1":"stroke:white;","X .select-outline-2":"stroke:black;stroke-dasharray:2px 2px;",Y:"font-family:'Open Sans';position:fixed;top:50px;right:20px;z-index:10000;font-size:10pt;max-width:180px;","Y p":"margin:0;","Y .notifier-note":"min-width:180px;max-width:250px;border:1px solid #fff;z-index:3000;margin:0;background-color:#8c97af;background-color:rgba(140,151,175,0.9);color:#fff;padding:10px;overflow-wrap:break-word;word-wrap:break-word;-ms-hyphens:auto;-webkit-hyphens:auto;hyphens:auto;","Y .notifier-close":"color:#fff;opacity:0.8;float:right;padding:0 5px;background:none;border:none;font-size:20px;font-weight:bold;line-height:20px;","Y .notifier-close:hover":"color:#444;text-decoration:none;cursor:pointer;"};for(var o in i){var a=o.replace(/^,/," ,").replace(/X/g,".js-plotly-plot .plotly").replace(/Y/g,".plotly-notifier");n.addStyleRule(a,i[o])}},function(t,e,r){"use strict";"undefined"!=typeof MathJax?(e.MathJax=!0,MathJax.Hub.Config({messageStyle:"none",skipStartupTypeset:!0,displayAlign:"left",tex2jax:{inlineMath:[["$","$"],["\\(","\\)"]]}}),MathJax.Hub.Configured()):e.MathJax=!1},function(t,e,r){"use strict";var n=r(12),i=r(1);t.exports=function(t){return i.extendFlat(n.defaultConfig,t)}},function(t,e,r){"use strict";var n=r(5),i=r(1);function o(t){n.register(t,t.name,t.categories,t.meta),n.subplotsRegistry[t.basePlotModule.name]||n.registerSubplot(t.basePlotModule)}function a(t){if("string"!=typeof t.name)throw new Error("Transform module *name* must be a string.");var e="Transform module "+t.name,r="function"==typeof t.transform,o="function"==typeof t.calcTransform;if(!r&&!o)throw new Error(e+" is missing a *transform* or *calcTransform* method.");r&&o&&i.log([e+" has both a *transform* and *calcTransform* methods.","Please note that all *transform* methods are executed","before all *calcTransform* methods."].join(" ")),i.isPlainObject(t.attributes)||i.log(e+" registered without an *attributes* object."),"function"!=typeof t.supplyDefaults&&i.log(e+" registered without a *supplyDefaults* method."),n.registerTransform(t)}function s(t){if("string"!=typeof t.name)throw new Error("Component module *name* must be a string.");n.registerComponent(t)}t.exports=function(t){if(!t)throw new Error("No argument passed to Plotly.register.");t&&!Array.isArray(t)&&(t=[t]);for(var e=0;e<t.length;e++){var r=t[e];if(!r)throw new Error("Invalid module was attempted to be registered!");switch(r.moduleType){case"trace":o(r);break;case"transform":a(r);break;case"component":s(r);break;case"locale":n.registerLocale(r);break;default:throw new Error("Invalid module was attempted to be registered!")}}}},function(t,e,r){"use strict";var n=r(1),i=r(14),o=r(64),a=r(63),s=n.isPlainObject,l=Array.isArray;function c(t,e,r,i,o,a){a=a||[];for(var u=Object.keys(t),h=0;h<u.length;h++){var v=u[h];if("transforms"!==v){var y=a.slice();y.push(v);var g=t[v],m=e[v],b=p(r,v),x="info_array"===(b||{}).valType,w="colorscale"===(b||{}).valType;if(d(r,v))if(s(g)&&s(m))c(g,m,b,i,o,y);else if(b.items&&!x&&l(g)){var _,k,T=b.items,A=T[Object.keys(T)[0]],M=[];for(_=0;_<m.length;_++){var S=m[_]._index||_;(k=y.slice()).push(S),s(g[S])&&s(m[_])&&(M.push(S),c(g[S],m[_],A,i,o,k))}for(_=0;_<g.length;_++)(k=y.slice()).push(_),s(g[_])?-1===M.indexOf(_)&&i.push(f("unused",o,k)):i.push(f("object",o,k,g[_]))}else!s(g)&&s(m)?i.push(f("object",o,y,g)):l(g)||!l(m)||x||w?v in e?n.validate(g,b)?"enumerated"===b.valType&&(b.coerceNumber&&g!==+m||g!==m)&&i.push(f("dynamic",o,y,g,m)):i.push(f("value",o,y,g)):i.push(f("unused",o,y,g)):i.push(f("array",o,y,g));else i.push(f("schema",o,y))}}return i}t.exports=function(t,e){var r,u,h=o.get(),d=[],p={_context:n.extendFlat({},a)};l(t)?(p.data=n.extendDeep([],t),r=t):(p.data=[],r=[],d.push(f("array","data"))),s(e)?(p.layout=n.extendDeep({},e),u=e):(p.layout={},u={},arguments.length>1&&d.push(f("object","layout"))),i.supplyDefaults(p);for(var v=p._fullData,y=r.length,g=0;g<y;g++){var m=r[g],b=["data",g];if(s(m)){var x=v[g],w=x.type,_=h.traces[w].attributes;_.type={valType:"enumerated",values:[w]},!1===x.visible&&!1!==m.visible&&d.push(f("invisible",b)),c(m,x,_,d,b);var k=m.transforms,T=x.transforms;if(k){l(k)||d.push(f("array",b,["transforms"])),b.push("transforms");for(var A=0;A<k.length;A++){var M=["transforms",A],S=k[A].type;if(s(k[A])){var O=h.transforms[S]?h.transforms[S].attributes:{};O.type={valType:"enumerated",values:Object.keys(h.transforms)},c(k[A],T[A],O,d,b,M)}else d.push(f("object",b,M))}}}else d.push(f("object",b))}return c(u,p._fullLayout,function(t,e){for(var r=0;r<e.length;r++){var i=e[r].type,o=t.traces[i].layoutAttributes;o&&n.extendFlat(t.layout.layoutAttributes,o)}return t.layout.layoutAttributes}(h,v),d,"layout"),0===d.length?void 0:d};var u={object:function(t,e){return("layout"===t&&""===e?"The layout argument":"data"===t[0]&&""===e?"Trace "+t[1]+" in the data argument":h(t)+"key "+e)+" must be linked to an object container"},array:function(t,e){return("data"===t?"The data argument":h(t)+"key "+e)+" must be linked to an array container"},schema:function(t,e){return h(t)+"key "+e+" is not part of the schema"},unused:function(t,e,r){var n=s(r)?"container":"key";return h(t)+n+" "+e+" did not get coerced"},dynamic:function(t,e,r,n){return[h(t)+"key",e,"(set to '"+r+"')","got reset to","'"+n+"'","during defaults."].join(" ")},invisible:function(t){return"Trace "+t[1]+" got defaulted to be not visible"},value:function(t,e,r){return[h(t)+"key "+e,"is set to an invalid value ("+r+")"].join(" ")}};function h(t){return l(t)?"In data trace "+t[1]+", ":"In "+t+", "}function f(t,e,r,i,o){var a,s;r=r||"",l(e)?(a=e[0],s=e[1]):(a=e,s=null);var c=function(t){if(!l(t))return String(t);for(var e="",r=0;r<t.length;r++){var n=t[r];"number"==typeof n?e=e.substr(0,e.length-1)+"["+n+"]":e+=n,r<t.length-1&&(e+=".")}return e}(r),h=u[t](e,c,i,o);return n.log(h),{code:t,container:a,trace:s,path:r,astr:c,msg:h}}function d(t,e){var r=y(e),n=r.keyMinusId,i=r.id;return!!(n in t&&t[n]._isSubplotObj&&i)||e in t}function p(t,e){return t[y(e).keyMinusId]}var v=n.counterRegex("([a-z]+)");function y(t){var e=t.match(v);return{keyMinusId:e&&e[1],id:e&&e[2]}}},function(t,e,r){"use strict";var n={},i=r(26);n.hasLines=i.hasLines,n.hasMarkers=i.hasMarkers,n.hasText=i.hasText,n.isBubble=i.isBubble,n.attributes=r(50),n.supplyDefaults=r(373),n.cleanData=r(379),n.calc=r(380).calc,n.arraysToCalcdata=r(171),n.plot=r(382),n.colorbar=r(173),n.style=r(390).style,n.hoverPoints=r(391),n.selectPoints=r(393),n.animatable=!0,n.moduleType="trace",n.name="scatter",n.basePlotModule=r(112),n.categories=["cartesian","symbols","markerColorscale","errorBarsOK","showLegend","scatter-like"],n.meta={description:["The scatter trace type encompasses line charts, scatter charts, text charts, and bubble charts.","The data visualized as scatter point or lines is set in `x` and `y`.","Text (appearing either on the chart or on hover only) is via `text`.","Bubble charts are achieved by setting `marker.size` and/or `marker.color`","to numerical arrays."].join(" ")},t.exports=n},function(t,e,r){"use strict";var n=r(1),i=r(50),o=r(100),a=r(26),s=r(170),l=r(374),c=r(375),u=r(376),h=r(377),f=r(378),d=r(101);t.exports=function(t,e,r,p){function v(r,o){return n.coerce(t,e,i,r,o)}var y=s(t,e,p,v),g=y<o.PTS_LINESONLY?"lines+markers":"lines";if(y){v("text"),v("hovertext"),v("mode",g),a.hasLines(e)&&(c(t,e,r,p,v),u(t,e,v),v("connectgaps"),v("line.simplify")),a.hasMarkers(e)&&l(t,e,r,p,v,{gradient:!0}),a.hasText(e)&&h(t,e,p,v);var m=[];(a.hasMarkers(e)||a.hasText(e))&&(v("cliponaxis"),v("marker.maxdisplayed"),m.push("points")),v("fill"),"none"!==e.fill&&(f(t,e,r,v),a.hasLines(e)||u(t,e,v)),"tonext"!==e.fill&&"toself"!==e.fill||m.push("fills"),v("hoveron",m.join("+")||"points"),d(t,e,r,{axis:"y"}),d(t,e,r,{axis:"x",inherit:"y"}),n.coerceSelectionMarkerOpacity(e,v)}else e.visible=!1}},function(t,e,r){"use strict";var n=r(4),i=r(41),o=r(68),a=r(26);t.exports=function(t,e,r,s,l,c){var u=a.isBubble(t),h=(t.line||{}).color;(c=c||{},h&&(r=h),l("marker.symbol"),l("marker.opacity",u?.7:1),l("marker.size"),l("marker.color",r),i(t,"marker")&&o(t,e,s,l,{prefix:"marker.",cLetter:"c"}),c.noSelect||(l("selected.marker.color"),l("unselected.marker.color"),l("selected.marker.size"),l("unselected.marker.size")),c.noLine||(l("marker.line.color",h&&!Array.isArray(h)&&e.marker.color!==h?h:u?n.background:n.defaultLine),i(t,"marker.line")&&o(t,e,s,l,{prefix:"marker.line.",cLetter:"c"}),l("marker.line.width",u?1:0)),u&&(l("marker.sizeref"),l("marker.sizemin"),l("marker.sizemode")),c.gradient)&&("none"!==l("marker.gradient.type")&&l("marker.gradient.color"))}},function(t,e,r){"use strict";var n=r(41),i=r(68);t.exports=function(t,e,r,o,a,s){var l=(t.marker||{}).color;(a("line.color",r),n(t,"line"))?i(t,e,o,a,{prefix:"line.",cLetter:"c"}):a("line.color",!Array.isArray(l)&&l||r);a("line.width"),(s||{}).noDash||a("line.dash")}},function(t,e,r){"use strict";t.exports=function(t,e,r){"spline"===r("line.shape")&&r("line.smoothing")}},function(t,e,r){"use strict";var n=r(1);t.exports=function(t,e,r,i,o){o=o||{},i("textposition"),n.coerceFont(i,"textfont",r.font),o.noSelect||(i("selected.textfont.color"),i("unselected.textfont.color"))}},function(t,e,r){"use strict";var n=r(4);t.exports=function(t,e,r,i){var o=!1;if(e.marker){var a=e.marker.color,s=(e.marker.line||{}).color;a&&!Array.isArray(a)?o=a:s&&!Array.isArray(s)&&(o=s)}i("fillcolor",n.addOpacity((e.line||{}).color||o||r,.5))}},function(t,e,r){"use strict";t.exports=function(t){for(var e=0;e<t.length;e++){var r=t[e];if("scatter"===r.type){var n=r.fill;if("none"!==n&&"toself"!==n&&(r.opacity=void 0,"tonexty"===n||"tonextx"===n))for(var i=e-1;i>=0;i--){var o=t[i];if("scatter"===o.type&&o.xaxis===r.xaxis&&o.yaxis===r.yaxis){o.opacity=void 0;break}}}}}},function(t,e,r){"use strict";var n=r(6),i=r(11),o=r(21).BADNUM,a=r(26),s=r(381),l=r(171),c=r(172);function u(t,e){if(a.hasMarkers(t)){var r,n=t.marker,o=1.6*(t.marker.sizeref||1);if(r="area"===t.marker.sizemode?function(t){return Math.max(Math.sqrt((t||0)/o),3)}:function(t){return Math.max((t||0)/o,3)},Array.isArray(n.size)){var s={type:"linear"};i.setConvert(s);var l=s.makeCalcdata(t.marker,"size");return l.length>e&&l.splice(e,l.length-e),l.map(r)}return r(n.size)}}t.exports={calc:function(t,e){var r=i.getFromId(t,e.xaxis||"x"),h=i.getFromId(t,e.yaxis||"y"),f=r.makeCalcdata(e,"x"),d=h.makeCalcdata(e,"y"),p=Math.min(f.length,d.length);r._minDtick=0,h._minDtick=0,f.length>p&&f.splice(p,f.length-p),d.length>p&&d.splice(p,d.length-p);var v={padded:!0},y={padded:!0},g=u(e,p);g&&(v.ppad=y.ppad=g),!("tozerox"===e.fill||"tonextx"===e.fill&&t.firstscatter)||f[0]===f[p-1]&&d[0]===d[p-1]?e.error_y.visible||-1===["tonexty","tozeroy"].indexOf(e.fill)&&(a.hasMarkers(e)||a.hasText(e))||(v.padded=!1,v.ppad=0):v.tozero=!0,!("tozeroy"===e.fill||"tonexty"===e.fill&&t.firstscatter)||f[0]===f[p-1]&&d[0]===d[p-1]?-1!==["tonextx","tozerox"].indexOf(e.fill)&&(y.padded=!1):y.tozero=!0,i.expand(r,f,v),i.expand(h,d,y);for(var m=new Array(p),b=0;b<p;b++)m[b]=n(f[b])&&n(d[b])?{x:f[b],y:d[b]}:{x:o,y:o},e.ids&&(m[b].id=String(e.ids[b]));return l(m,e),s(e),c(m,e),t.firstscatter=!1,m},calcMarkerSize:u}},function(t,e,r){"use strict";var n=r(41),i=r(99),o=r(26);t.exports=function(t){o.hasLines(t)&&n(t,"line")&&i(t,t.line.color,"line","c"),o.hasMarkers(t)&&(n(t,"marker")&&i(t,t.marker.color,"marker","c"),n(t,"marker.line")&&i(t,t.marker.line.color,"marker.line","c"))}},function(t,e,r){"use strict";var n=r(3),i=r(1),o=r(9),a=r(35),s=r(26),l=r(383),c=r(384),u=r(167).tester;function h(t,e,r,c,h,f,d){var p,v;!function(t,e,r,o,a){var l=r.xaxis,c=r.yaxis,u=n.extent(i.simpleMap(l.range,l.r2c)),h=n.extent(i.simpleMap(c.range,c.r2c)),f=o[0].trace;if(!s.hasMarkers(f))return;var d=f.marker.maxdisplayed;if(0===d)return;var p=o.filter(function(t){return t.x>=u[0]&&t.x<=u[1]&&t.y>=h[0]&&t.y<=h[1]}),v=Math.ceil(p.length/d),y=0;a.forEach(function(t,r){var n=t[0].trace;s.hasMarkers(n)&&n.marker.maxdisplayed>0&&r<e&&y++});var g=Math.round(y*v/3+Math.floor(y/3)*v/7.1);o.forEach(function(t){delete t.vis}),p.forEach(function(t,e){0===Math.round((e+g)%v)&&(t.vis=!0)})}(0,e,r,c,h);var y=!!d&&d.duration>0;function g(t){return y?t.transition():t}var m=r.xaxis,b=r.yaxis,x=c[0].trace,w=x.line,_=n.select(f);if(_.call(a.plot,r,d),!0===x.visible){var k,T;g(_).style("opacity",x.opacity);var A=x.fill.charAt(x.fill.length-1);"x"!==A&&"y"!==A&&(A=""),c[0].node3=_;var M="",S=[],O=x._prevtrace;O&&(M=O._prevRevpath||"",T=O._nextFill,S=O._polygons);var C,L,j,I,P,E,z,N,D,R="",F="",B=[],V=i.noop;if(k=x._ownFill,s.hasLines(x)||"none"!==x.fill){for(T&&T.datum(c),-1!==["hv","vh","hvh","vhv"].indexOf(w.shape)?(j=o.steps(w.shape),I=o.steps(w.shape.split("").reverse().join(""))):j=I="spline"===w.shape?function(t){var e=t[t.length-1];return t.length>1&&t[0][0]===e[0]&&t[0][1]===e[1]?o.smoothclosed(t.slice(1),w.smoothing):o.smoothopen(t,w.smoothing)}:function(t){return"M"+t.join("L")},P=function(t){return I(t.reverse())},B=l(c,{xaxis:m,yaxis:b,connectGaps:x.connectgaps,baseTolerance:Math.max(w.width||1,3)/4,shape:w.shape,simplify:w.simplify}),D=x._polygons=new Array(B.length),v=0;v<B.length;v++)x._polygons[v]=u(B[v]);B.length&&(E=B[0][0],N=(z=B[B.length-1])[z.length-1]),V=function(t){return function(e){if(C=j(e),L=P(e),R?A?(R+="L"+C.substr(1),F=L+"L"+F.substr(1)):(R+="Z"+C,F=L+"Z"+F):(R=C,F=L),s.hasLines(x)&&e.length>1){var r=n.select(this);if(r.datum(c),t)g(r.style("opacity",0).attr("d",C).call(o.lineGroupStyle)).style("opacity",1);else{var i=g(r);i.attr("d",C),o.singleLineStyle(c,i)}}}}}var q=_.selectAll(".js-line").data(B);g(q.exit()).style("opacity",0).remove(),q.each(V(!1)),q.enter().append("path").classed("js-line",!0).style("vector-effect","non-scaling-stroke").call(o.lineGroupStyle).each(V(!0)),o.setClipUrl(q,r.layerClipId),B.length?(k?E&&N&&(A?("y"===A?E[1]=N[1]=b.c2p(0,!0):"x"===A&&(E[0]=N[0]=m.c2p(0,!0)),g(k).attr("d","M"+N+"L"+E+"L"+R.substr(1)).call(o.singleFillStyle)):g(k).attr("d",R+"Z").call(o.singleFillStyle)):T&&("tonext"===x.fill.substr(0,6)&&R&&M?("tonext"===x.fill?g(T).attr("d",R+"Z"+M+"Z").call(o.singleFillStyle):g(T).attr("d",R+"L"+M.substr(1)+"Z").call(o.singleFillStyle),x._polygons=x._polygons.concat(S)):(U(T),x._polygons=null)),x._prevRevpath=F,x._prevPolygons=D):(k?U(k):T&&U(T),x._polygons=x._prevRevpath=x._prevPolygons=null);var H=_.selectAll(".points");p=H.data([c]),H.each(Z),p.enter().append("g").classed("points",!0).each(Z),p.exit().remove(),p.each(function(t){var e=!1===t[0].trace.cliponaxis;o.setClipUrl(n.select(this),e?null:r.layerClipId)})}function U(t){g(t).attr("d","M0,0Z")}function W(t){return t.filter(function(t){return t.vis})}function G(t){return t.id}function Y(t){if(t.ids)return G}function X(){return!1}function Z(e){var a,l=e[0].trace,c=n.select(this),u=s.hasMarkers(l),h=s.hasText(l),f=Y(l),d=X,p=X;u&&(d=l.marker.maxdisplayed||l._needsCull?W:i.identity),h&&(p=l.marker.maxdisplayed||l._needsCull?W:i.identity);var v=(a=c.selectAll("path.point").data(d,f)).enter().append("path").classed("point",!0);y&&v.call(o.pointStyle,l,t).call(o.translatePoints,m,b).style("opacity",0).transition().style("opacity",1);var x=u&&o.tryColorscale(l.marker,""),w=u&&o.tryColorscale(l.marker,"line");a.order(),a.each(function(e){var i=n.select(this),a=g(i);o.translatePoint(e,a,m,b)?(o.singlePointStyle(e,a,l,x,w,t),r.layerClipId&&o.hideOutsideRangePoint(e,a,m,b,l.xcalendar,l.ycalendar),l.customdata&&i.classed("plotly-customdata",null!==e.data&&void 0!==e.data)):a.remove()}),y?a.exit().transition().style("opacity",0).remove():a.exit().remove(),(a=c.selectAll("g").data(p,f)).enter().append("g").classed("textpoint",!0).append("text"),a.order(),a.each(function(t){var e=n.select(this),i=g(e.select("text"));o.translatePoint(t,i,m,b)?r.layerClipId&&o.hideOutsideRangePoint(t,e,m,b,l.xcalendar,l.ycalendar):e.remove()}),a.selectAll("text").call(o.textPointStyle,l,t).each(function(t){var e=m.c2p(t.x),r=b.c2p(t.y);n.select(this).selectAll("tspan.line").each(function(){g(n.select(this)).attr({x:e,y:r})})}),a.exit().remove()}}t.exports=function(t,e,r,i,a){var s,l,u,f,d=e.plot.select("g.scatterlayer"),p=!i,v=!!i&&i.duration>0;for((u=d.selectAll("g.trace").data(r,function(t){return t[0].trace.uid})).enter().append("g").attr("class",function(t){return"trace scatter trace"+t[0].trace.uid}).style("stroke-miterlimit",2),c(t,e,r),function(t,e,r){var i;e.selectAll("g.trace").each(function(t){var e=n.select(this);if((i=t[0].trace)._nexttrace){if(i._nextFill=e.select(".js-fill.js-tonext"),!i._nextFill.size()){var a=":first-child";e.select(".js-fill.js-tozero").size()&&(a+=" + *"),i._nextFill=e.insert("path",a).attr("class","js-fill js-tonext")}}else e.selectAll(".js-fill.js-tonext").remove(),i._nextFill=null;i.fill&&("tozero"===i.fill.substr(0,6)||"toself"===i.fill||"to"===i.fill.substr(0,2)&&!i._prevtrace)?(i._ownFill=e.select(".js-fill.js-tozero"),i._ownFill.size()||(i._ownFill=e.insert("path",":first-child").attr("class","js-fill js-tozero"))):(e.selectAll(".js-fill.js-tozero").remove(),i._ownFill=null),e.selectAll(".js-fill").call(o.setClipUrl,r.layerClipId)})}(0,d,e),s=0,l={};s<r.length;s++)l[r[s][0].trace.uid]=s;(d.selectAll("g.trace").sort(function(t,e){return l[t[0].trace.uid]>l[e[0].trace.uid]?1:-1}),v)?(a&&(f=a()),n.transition().duration(i.duration).ease(i.easing).each("end",function(){f&&f()}).each("interrupt",function(){f&&f()}).each(function(){d.selectAll("g.trace").each(function(n,o){h(t,o,e,n,r,this,i)})})):d.selectAll("g.trace").each(function(n,o){h(t,o,e,n,r,this,i)});p&&u.exit().remove(),d.selectAll("path:not([d])").remove()}},function(t,e,r){"use strict";var n=r(21).BADNUM,i=r(1),o=i.segmentsIntersect,a=i.constrain,s=r(100);t.exports=function(t,e){var r,l,c,u,h,f,d,p,v,y,g,m,b,x,w,_,k=e.xaxis,T=e.yaxis,A=e.simplify,M=e.connectGaps,S=e.baseTolerance,O=e.shape,C="linear"===O,L=[],j=s.minTolerance,I=new Array(t.length),P=0;function E(e){var r=t[e],i=k.c2p(r.x),o=T.c2p(r.y);return i===n||o===n?r.intoCenter||!1:[i,o]}function z(t){var e=t[0]/k._length,r=t[1]/T._length;return(1+s.toleranceGrowth*Math.max(0,-e,e-1,-r,r-1))*S}function N(t,e){var r=t[0]-e[0],n=t[1]-e[1];return Math.sqrt(r*r+n*n)}A||(S=j=-1);var D,R,F,B,V,q,H,U=s.maxScreensAway,W=-k._length*U,G=k._length*(1+U),Y=-T._length*U,X=T._length*(1+U),Z=[[W,Y,G,Y],[G,Y,G,X],[G,X,W,X],[W,X,W,Y]];function J(t){if(t[0]<W||t[0]>G||t[1]<Y||t[1]>X)return[a(t[0],W,G),a(t[1],Y,X)]}function $(t,e){return t[0]===e[0]&&(t[0]===W||t[0]===G)||(t[1]===e[1]&&(t[1]===Y||t[1]===X)||void 0)}function Q(t,e,r){return function(n,o){var a=J(n),s=J(o),l=[];if(a&&s&&$(a,s))return l;a&&l.push(a),s&&l.push(s);var c=2*i.constrain((n[t]+o[t])/2,e,r)-((a||n)[t]+(s||o)[t]);c&&((a&&s?c>0==a[t]>s[t]?a:s:a||s)[t]+=c);return l}}function K(t){var e=t[0],r=t[1],n=e===I[P-1][0],i=r===I[P-1][1];if(!n||!i)if(P>1){var o=e===I[P-2][0],a=r===I[P-2][1];n&&(e===W||e===G)&&o?a?P--:I[P-1]=t:i&&(r===Y||r===X)&&a?o?P--:I[P-1]=t:I[P++]=t}else I[P++]=t}function tt(t){I[P-1][0]!==t[0]&&I[P-1][1]!==t[1]&&K([F,B]),K(t),V=null,F=B=0}function et(t){if(D=t[0]<W?W:t[0]>G?G:0,R=t[1]<Y?Y:t[1]>X?X:0,D||R){if(P)if(V){var e=H(V,t);e.length>1&&(tt(e[0]),I[P++]=e[1])}else q=H(I[P-1],t)[0],I[P++]=q;else I[P++]=[D||t[0],R||t[1]];var r=I[P-1];D&&R&&(r[0]!==D||r[1]!==R)?(V&&(F!==D&&B!==R?K(F&&B?(n=V,o=(i=t)[0]-n[0],a=(i[1]-n[1])/o,(n[1]*i[0]-i[1]*n[0])/o>0?[a>0?W:G,X]:[a>0?G:W,Y]):[F||D,B||R]):F&&B&&K([F,B])),K([D,R])):F-D&&B-R&&K([D||F,R||B]),V=t,F=D,B=R}else V&&tt(H(V,t)[0]),I[P++]=t;var n,i,o,a}for("linear"===O||"spline"===O?H=function(t,e){for(var r=[],n=0,i=0;i<4;i++){var a=Z[i],s=o(t[0],t[1],e[0],e[1],a[0],a[1],a[2],a[3]);s&&(!n||Math.abs(s.x-r[0][0])>1||Math.abs(s.y-r[0][1])>1)&&(s=[s.x,s.y],n&&N(s,t)<N(r[0],t)?r.unshift(s):r.push(s),n++)}return r}:"hv"===O||"vh"===O?H=function(t,e){var r=[],n=J(t),i=J(e);return n&&i&&$(n,i)?r:(n&&r.push(n),i&&r.push(i),r)}:"hvh"===O?H=Q(0,W,G):"vhv"===O&&(H=Q(1,Y,X)),r=0;r<t.length;r++)if(l=E(r)){for(P=0,V=null,et(l),r++;r<t.length;r++){if(!(u=E(r))){if(M)continue;break}if(C){if(!((y=N(u,l))<z(u)*j)){for(p=[(u[0]-l[0])/y,(u[1]-l[1])/y],h=l,g=y,m=x=w=0,d=!1,c=u,r++;r<t.length;r++){if(!(f=E(r))){if(M)continue;break}if(_=(v=[f[0]-l[0],f[1]-l[1]])[0]*p[1]-v[1]*p[0],x=Math.min(x,_),(w=Math.max(w,_))-x>z(f))break;c=f,(b=v[0]*p[0]+v[1]*p[1])>g?(g=b,u=f,d=!1):b<m&&(m=b,h=f,d=!0)}if(d?(et(u),c!==h&&et(h)):(h!==l&&et(h),c!==u&&et(u)),et(c),r>=t.length||!f)break;et(f),l=f}}else et(u)}V&&K([F||V[0],B||V[1]]),L.push(I.slice(0,P))}return L}},function(t,e,r){"use strict";t.exports=function(t,e,r){var n,i,o=null;for(i=0;i<r.length;++i)!0===(n=r[i][0].trace).visible?(n._nexttrace=null,-1!==["tonextx","tonexty","tonext"].indexOf(n.fill)&&(n._prevtrace=o,o&&(o._nexttrace=n)),o=n):n._prevtrace=n._nexttrace=null}},function(t,e,r){"use strict";var n=r(3),i=r(28),o=r(12),a=r(14),s=r(5),l=r(11),c=r(33),u=r(1),h=r(18).extendFlat,f=r(43),d=r(9),p=r(4),v=r(102),y=r(23),g=r(25).LINE_SPACING,m=r(174),b=r(175),x=r(34),w=r(67),_=r(389).cn;t.exports=function(t,e){var r={};function k(){var w=t._fullLayout,A=w._size;if("function"==typeof r.fillcolor||"function"==typeof r.line.color){var M,S,O=n.extent(("function"==typeof r.fillcolor?r.fillcolor:r.line.color).domain()),C=[],L=[],j="function"==typeof r.line.color?r.line.color:function(){return r.line.color},I="function"==typeof r.fillcolor?r.fillcolor:function(){return r.fillcolor},P=r.levels.end+r.levels.size/100,E=r.levels.size,z=1.001*O[0]-.001*O[1],N=1.001*O[1]-.001*O[0];for(S=0;S<1e5&&(M=r.levels.start+S*E,!(E>0?M>=P:M<=P));S++)M>z&&M<N&&C.push(M);if("function"==typeof r.fillcolor)if(r.filllevels)for(P=r.filllevels.end+r.filllevels.size/100,E=r.filllevels.size,S=0;S<1e5&&(M=r.filllevels.start+S*E,!(E>0?M>=P:M<=P));S++)M>O[0]&&M<O[1]&&L.push(M);else(L=C.map(function(t){return t-r.levels.size/2})).push(L[L.length-1]+r.levels.size);else r.fillcolor&&"string"==typeof r.fillcolor&&(L=[0]);r.levels.size<0&&(C.reverse(),L.reverse());var D,R=w.height-w.margin.t-w.margin.b,F=w.width-w.margin.l-w.margin.r,B=Math.round(r.thickness*("fraction"===r.thicknessmode?F:1)),V=B/A.w,q=Math.round(r.len*("fraction"===r.lenmode?R:1)),H=q/A.h,U=r.xpad/A.w,W=(r.borderwidth+r.outlinewidth)/2,G=r.ypad/A.h,Y=Math.round(r.x*A.w+r.xpad),X=r.x-V*({middle:.5,right:1}[r.xanchor]||0),Z=r.y+H*(({top:-.5,bottom:.5}[r.yanchor]||0)-.5),J=Math.round(A.h*(1-Z)),$=J-q,Q={type:"linear",range:O,tickmode:r.tickmode,nticks:r.nticks,tick0:r.tick0,dtick:r.dtick,tickvals:r.tickvals,ticktext:r.ticktext,ticks:r.ticks,ticklen:r.ticklen,tickwidth:r.tickwidth,tickcolor:r.tickcolor,showticklabels:r.showticklabels,tickfont:r.tickfont,tickangle:r.tickangle,tickformat:r.tickformat,exponentformat:r.exponentformat,separatethousands:r.separatethousands,showexponent:r.showexponent,showtickprefix:r.showtickprefix,tickprefix:r.tickprefix,showticksuffix:r.showticksuffix,ticksuffix:r.ticksuffix,title:r.title,titlefont:r.titlefont,showline:!0,anchor:"free",position:1},K={type:"linear",_id:"y"+e},tt={letter:"y",font:w.font,noHover:!0,calendar:w.calendar};if(m(Q,K,vt,tt,w),b(Q,K,vt,tt),K.position=r.x+U+V,k.axis=K,-1!==["top","bottom"].indexOf(r.titleside)&&(K.titleside=r.titleside,K.titlex=r.x+U,K.titley=Z+("top"===r.titleside?H-G:G)),r.line.color&&"auto"===r.tickmode){K.tickmode="linear",K.tick0=r.levels.start;var et=r.levels.size,rt=u.constrain((J-$)/50,4,15)+1,nt=(O[1]-O[0])/((r.nticks||rt)*et);if(nt>1){var it=Math.pow(10,Math.floor(Math.log(nt)/Math.LN10));et*=it*u.roundUp(nt/it,[2,5,10]),(Math.abs(r.levels.start)/r.levels.size+1e-6)%1<2e-6&&(K.tick0=0)}K.dtick=et}K.domain=[Z+G,Z+H-G],K.setScale();var ot=w._infolayer.selectAll("g."+e).data([0]);ot.enter().append("g").classed(e,!0).classed(_.colorbar,!0).each(function(){var t=n.select(this);t.append("rect").classed(_.cbbg,!0),t.append("g").classed(_.cbfills,!0),t.append("g").classed(_.cblines,!0),t.append("g").classed(_.cbaxis,!0).classed(_.crisp,!0),t.append("g").classed(_.cbtitleunshift,!0).append("g").classed(_.cbtitle,!0),t.append("rect").classed(_.cboutline,!0),t.select(".cbtitle").datum(0)}),ot.attr("transform","translate("+Math.round(A.l)+","+Math.round(A.t)+")");var at=ot.select(".cbtitleunshift").attr("transform","translate(-"+Math.round(A.l)+",-"+Math.round(A.t)+")");K._axislayer=ot.select(".cbaxis");var st=0;if(-1!==["top","bottom"].indexOf(r.titleside)){var lt,ct=A.l+(r.x+U)*A.w,ut=K.titlefont.size;lt="top"===r.titleside?(1-(Z+H-G))*A.h+A.t+3+.75*ut:(1-(Z+G))*A.h+A.t-3-.25*ut,yt(K._id+"title",{attributes:{x:ct,y:lt,"text-anchor":"start"}})}var ht,ft,dt,pt=u.syncOrAsync([a.previousPromises,function(){if(-1!==["top","bottom"].indexOf(r.titleside)){var e=ot.select(".cbtitle"),o=e.select("text"),a=[-r.outlinewidth/2,r.outlinewidth/2],s=e.select(".h"+K._id+"title-math-group").node(),c=15.6;if(o.node()&&(c=parseInt(o.node().style.fontSize,10)*g),s?(st=d.bBox(s).height)>c&&(a[1]-=(st-c)/2):o.node()&&!o.classed(_.jsPlaceholder)&&(st=d.bBox(o.node()).height),st){if(st+=5,"top"===r.titleside)K.domain[1]-=st/A.h,a[1]*=-1;else{K.domain[0]+=st/A.h;var h=y.lineCount(o);a[1]+=(1-h)*c}e.attr("transform","translate("+a+")"),K.setScale()}}ot.selectAll(".cbfills,.cblines").attr("transform","translate(0,"+Math.round(A.h*(1-K.domain[1]))+")"),K._axislayer.attr("transform","translate(0,"+Math.round(-A.t)+")");var f=ot.select(".cbfills").selectAll("rect.cbfill").data(L);f.enter().append("rect").classed(_.cbfill,!0).style("stroke","none"),f.exit().remove(),f.each(function(t,e){var r=[0===e?O[0]:(L[e]+L[e-1])/2,e===L.length-1?O[1]:(L[e]+L[e+1])/2].map(K.c2p).map(Math.round);e!==L.length-1&&(r[1]+=r[1]>r[0]?1:-1);var o=I(t).replace("e-",""),a=i(o).toHexString();n.select(this).attr({x:Y,width:Math.max(B,2),y:n.min(r),height:Math.max(n.max(r)-n.min(r),2),fill:a})});var p=ot.select(".cblines").selectAll("path.cbline").data(r.line.color&&r.line.width?C:[]);return p.enter().append("path").classed(_.cbline,!0),p.exit().remove(),p.each(function(t){n.select(this).attr("d","M"+Y+","+(Math.round(K.c2p(t))+r.line.width/2%1)+"h"+B).call(d.lineGroupStyle,r.line.width,j(t),r.line.dash)}),K._axislayer.selectAll("g."+K._id+"tick,path").remove(),K._pos=Y+B+(r.outlinewidth||0)/2-("outside"===r.ticks?1:0),K.side="right",u.syncOrAsync([function(){return l.doTicks(t,K,!0)},function(){if(-1===["top","bottom"].indexOf(r.titleside)){var e=K.titlefont.size,i=K._offset+K._length/2,o=A.l+(K.position||0)*A.w+("right"===K.side?10+e*(K.showticklabels?1:.5):-10-e*(K.showticklabels?.5:0));yt("h"+K._id+"title",{avoid:{selection:n.select(t).selectAll("g."+K._id+"tick"),side:r.titleside,offsetLeft:A.l,offsetTop:0,maxShift:w.width},attributes:{x:o,y:i,"text-anchor":"middle"},transform:{rotate:"-90",offset:0}})}}])},a.previousPromises,function(){var n=B+r.outlinewidth/2+d.bBox(K._axislayer.node()).width;if((D=at.select("text")).node()&&!D.classed(_.jsPlaceholder)){var i,o=at.select(".h"+K._id+"title-math-group").node();i=o&&-1!==["top","bottom"].indexOf(r.titleside)?d.bBox(o).width:d.bBox(at.node()).right-Y-A.l,n=Math.max(n,i)}var s=2*r.xpad+n+r.borderwidth+r.outlinewidth/2,l=J-$;ot.select(".cbbg").attr({x:Y-r.xpad-(r.borderwidth+r.outlinewidth)/2,y:$-W,width:Math.max(s,2),height:Math.max(l+2*W,2)}).call(p.fill,r.bgcolor).call(p.stroke,r.bordercolor).style({"stroke-width":r.borderwidth}),ot.selectAll(".cboutline").attr({x:Y,y:$+r.ypad+("top"===r.titleside?st:0),width:Math.max(B,2),height:Math.max(l-2*r.ypad-st,2)}).call(p.stroke,r.outlinecolor).style({fill:"None","stroke-width":r.outlinewidth});var c=({center:.5,right:1}[r.xanchor]||0)*s;ot.attr("transform","translate("+(A.l-c)+","+A.t+")"),a.autoMargin(t,e,{x:r.x,y:r.y,l:s*({right:1,center:.5}[r.xanchor]||0),r:s*({left:1,center:.5}[r.xanchor]||0),t:l*({bottom:1,middle:.5}[r.yanchor]||0),b:l*({top:1,middle:.5}[r.yanchor]||0)})}],t);if(pt&&pt.then&&(t._promises||[]).push(pt),t._context.edits.colorbarPosition)c.init({element:ot.node(),gd:t,prepFn:function(){ht=ot.attr("transform"),f(ot)},moveFn:function(t,e){ot.attr("transform",ht+" translate("+t+","+e+")"),ft=c.align(X+t/A.w,V,0,1,r.xanchor),dt=c.align(Z-e/A.h,H,0,1,r.yanchor);var n=c.getCursor(ft,dt,r.xanchor,r.yanchor);f(ot,n)},doneFn:function(){f(ot),void 0!==ft&&void 0!==dt&&o.restyle(t,{"colorbar.x":ft,"colorbar.y":dt},T().index)}});return pt}function vt(t,e){return u.coerce(Q,K,x,t,e)}function yt(e,r){var n,i=T();n=s.traceIs(i,"markerColorscale")?"marker.colorbar.title":"colorbar.title";var o={propContainer:K,propName:n,traceIndex:i.index,placeholder:w._dfltTitle.colorbar,containerGroup:ot.select(".cbtitle")},a="h"===e.charAt(0)?e.substr(1):"h"+e;ot.selectAll("."+a+",."+a+"-math-group").remove(),v.draw(t,e,h(o,r||{}))}w._infolayer.selectAll("g."+e).remove()}function T(){var r,n,i=e.substr(2);for(r=0;r<t._fullData.length;r++)if((n=t._fullData[r]).uid===i)return n}return Object.keys(w).forEach(function(t){r[t]=null}),r.fillcolor=null,r.line={color:null,width:null,dash:null},r.levels={start:null,end:null,size:null},r.filllevels=null,Object.keys(r).forEach(function(t){k[t]=function(e){return arguments.length?(r[t]=u.isPlainObject(r[t])?u.extendFlat(r[t],e):e,k):r[t]}}),k.options=function(t){return Object.keys(t).forEach(function(e){"function"==typeof k[e]&&k[e](t[e])}),k},k._opts=r,k}},function(t,e,r){"use strict";t.exports=function(t,e,r){if("category"===e.type){var n,i=t.categoryarray,o=Array.isArray(i)&&i.length>0;o&&(n="array");var a=r("categoryorder",n);"array"===a&&r("categoryarray"),o||"array"!==a||(e.categoryorder="trace")}}},function(t,e,r){"use strict";var n=r(28).mix,i=r(31).lightFraction,o=r(1);t.exports=function(t,e,r,a){var s=(a=a||{}).dfltColor;function l(r,n){return o.coerce2(t,e,a.attributes,r,n)}var c=l("linecolor",s),u=l("linewidth");r("showline",a.showLine||!!c||!!u)||(delete e.linecolor,delete e.linewidth);var h=l("gridcolor",n(s,a.bgColor,a.blend||i).toRgbString()),f=l("gridwidth");if(r("showgrid",a.showGrid||!!h||!!f)||(delete e.gridcolor,delete e.gridwidth),!a.noZeroLine){var d=l("zerolinecolor",s),p=l("zerolinewidth");r("zeroline",a.showGrid||!!d||!!p)||(delete e.zerolinecolor,delete e.zerolinewidth)}}},function(t,e,r){"use strict";var n=r(3);function i(t,e,r){var i,o,a,s,l,c=[],u=r.map(function(e){return e[t]}),h=n.bisector(e).left;for(i=0;i<u.length;i++)for(a=u[i],o=0;o<a.length;o++)null!==(s=a[o])&&void 0!==s&&((l=h(c,s))<c.length&&c[l]===s||c.splice(l,0,s));return c}t.exports=function(t,e,r,o){switch(e){case"array":return Array.isArray(r)?r.slice():[];case"category ascending":return i(t,n.ascending,o);case"category descending":return i(t,n.descending,o);case"trace":default:return[]}}},function(t,e,r){"use strict";t.exports={cn:{colorbar:"colorbar",cbbg:"cbbg",cbfill:"cbfill",cbfills:"cbfills",cbline:"cbline",cblines:"cblines",cbaxis:"cbaxis",cbtitleunshift:"cbtitleunshift",cbtitle:"cbtitle",cboutline:"cboutline",crisp:"crisp",jsPlaceholder:"js-placeholder"}}},function(t,e,r){"use strict";var n=r(3),i=r(9),o=r(35);function a(t,e,r){var n=t.selectAll("path.point"),o=t.selectAll("text");i.pointStyle(n,e,r),i.textPointStyle(o,e,r),i.selectedPointStyle(n,e),i.selectedTextStyle(o,e)}t.exports={style:function(t,e){var r=e?e[0].node3:n.select(t).selectAll("g.trace.scatter");r.style("opacity",function(t){return t[0].trace.opacity}),r.selectAll("g.points").each(function(e){a(n.select(this),e.trace||e[0].trace,t)}),r.selectAll("g.trace path.js-line").call(i.lineGroupStyle),r.selectAll("g.trace path.js-fill").call(i.fillGroupStyle),r.call(o.style)},stylePoints:a}},function(t,e,r){"use strict";var n=r(1),i=r(32),o=r(35),a=r(392),s=r(4),l=r(176),c=i.constants.MAXDIST;t.exports=function(t,e,r,u){var h=t.cd,f=h[0].trace,d=t.xa,p=t.ya,v=d.c2p(e),y=p.c2p(r),g=[v,y],m=f.hoveron||"",b=-1!==f.mode.indexOf("markers")?3:.5;if(-1!==m.indexOf("points")){var x=i.getDistanceFunction(u,function(t){var e=Math.max(3,t.mrc||0),r=1-1/e,n=Math.abs(d.c2p(t.x)-v);return n<e?r*n/e:n-e+r},function(t){var e=Math.max(3,t.mrc||0),r=1-1/e,n=Math.abs(p.c2p(t.y)-y);return n<e?r*n/e:n-e+r},function(t){var e=Math.max(b,t.mrc||0),r=d.c2p(t.x)-v,n=p.c2p(t.y)-y;return Math.max(Math.sqrt(r*r+n*n)-e,1-b/e)});if(i.getClosest(h,x,t),!1!==t.index){var w=h[t.index],_=d.c2p(w.x,!0),k=p.c2p(w.y,!0),T=w.mrc||1;return n.extendFlat(t,{color:a(f,w),x0:_-T,x1:_+T,xLabelVal:w.x,y0:k-T,y1:k+T,yLabelVal:w.y,kink:Math.max(b,w.mrc||0)}),l(w,f,t),o.hoverInfo(w,f,t),[t]}}if(-1!==m.indexOf("fills")&&f._polygons){var A,M,S,O,C,L,j,I,P,E=f._polygons,z=[],N=!1,D=1/0,R=-1/0,F=1/0,B=-1/0;for(A=0;A<E.length;A++)(S=E[A]).contains(g)&&(N=!N,z.push(S),F=Math.min(F,S.ymin),B=Math.max(B,S.ymax));if(N){var V=((F=Math.max(F,0))+(B=Math.min(B,p._length)))/2;for(A=0;A<z.length;A++)for(O=z[A].pts,M=1;M<O.length;M++)(I=O[M-1][1])>V!=(P=O[M][1])>=V&&(L=O[M-1][0],j=O[M][0],P-I&&(C=L+(j-L)*(V-I)/(P-I),D=Math.min(D,C),R=Math.max(R,C)));D=Math.max(D,0),R=Math.min(R,d._length);var q=s.defaultLine;return s.opacity(f.fillcolor)?q=f.fillcolor:s.opacity((f.line||{}).color)&&(q=f.line.color),n.extendFlat(t,{distance:c+10,x0:D,x1:R,y0:V,y1:V,color:q}),delete t.index,f.text&&!Array.isArray(f.text)?t.text=String(f.text):t.text=f.name,[t]}}}},function(t,e,r){"use strict";var n=r(4),i=r(26);t.exports=function(t,e){var r,o;if("lines"===t.mode)return(r=t.line.color)&&n.opacity(r)?r:t.fillcolor;if("none"===t.mode)return t.fill?t.fillcolor:"";var a=e.mcc||(t.marker||{}).color,s=e.mlcc||((t.marker||{}).line||{}).color;return(o=a&&n.opacity(a)?a:s&&n.opacity(s)&&(e.mlw||((t.marker||{}).line||{}).width)?s:"")?n.opacity(o)<.3?n.addOpacity(o,.3):o:(r=(t.line||{}).color)&&n.opacity(r)&&i.hasLines(t)&&t.line.width?r:t.fillcolor}},function(t,e,r){"use strict";var n=r(26);t.exports=function(t,e){var r,i,o,a,s=t.cd,l=t.xaxis,c=t.yaxis,u=[],h=s[0].trace;if(!n.hasMarkers(h)&&!n.hasText(h))return[];if(!1===e)for(r=0;r<s.length;r++)s[r].selected=0;else for(r=0;r<s.length;r++)i=s[r],o=l.c2p(i.x),a=c.c2p(i.y),e.contains([o,a])?(u.push({pointNumber:r,x:l.c2d(i.x),y:c.c2d(i.y)}),i.selected=1):i.selected=0;return u}},function(t,e,r){"use strict";var n=r(5),i=r(22).SUBPLOT_PATTERN;e.getSubplotCalcData=function(t,e,r){var i=n.subplotsRegistry[e];if(!i)return[];for(var o=i.attr,a=[],s=0;s<t.length;s++){var l=t[s];l[0].trace[o]===r&&a.push(l)}return a},e.getModuleCalcData=function(t,e){var r=[],i="string"==typeof e?n.getModule(e):e;if(!i)return r;for(var o=0;o<t.length;o++){var a=t[o],s=a[0].trace;s._module===i&&!0===s.visible&&r.push(a)}return r},e.getSubplotData=function(t,e,r){if(!n.subplotsRegistry[e])return[];var o,a,s,l=n.subplotsRegistry[e].attr,c=[];if("gl2d"===e){var u=r.match(i);a="x"+u[1],s="y"+u[2]}for(var h=0;h<t.length;h++)o=t[h],"gl2d"===e&&n.traceIs(o,"gl2d")?o[l[0]]===a&&o[l[1]]===s&&c.push(o):o[l]===r&&c.push(o);return c}},function(t,e,r){"use strict";t.exports={xaxis:{valType:"subplotid",role:"info",dflt:"x",editType:"calc+clearAxisTypes",description:["Sets a reference between this trace's x coordinates and","a 2D cartesian x axis.","If *x* (the default value), the x coordinates refer to","`layout.xaxis`.","If *x2*, the x coordinates refer to `layout.xaxis2`, and so on."].join(" ")},yaxis:{valType:"subplotid",role:"info",dflt:"y",editType:"calc+clearAxisTypes",description:["Sets a reference between this trace's y coordinates and","a 2D cartesian y axis.","If *y* (the default value), the y coordinates refer to","`layout.yaxis`.","If *y2*, the y coordinates refer to `layout.xaxis2`, and so on."].join(" ")}}},function(t,e,r){"use strict";var n=r(5),i=r(1),o=r(4),a=r(48),s=r(34),l=r(397),c=r(174),u=r(398),h=r(175),f=r(24);t.exports=function(t,e,r){var d,p={},v={},y={},g={};for(d=0;d<r.length;d++){var m=r[d];if(n.traceIs(m,"cartesian")||n.traceIs(m,"gl2d")){var b=f.id2name(m.xaxis),x=f.id2name(m.yaxis);if(n.traceIs(m,"carpet")&&("carpet"!==m.type||m._cheater)||b&&(v[b]=1),"carpet"===m.type&&m._cheater&&b&&(p[b]=1),n.traceIs(m,"2dMap")&&(y[b]=!0,y[x]=!0),n.traceIs(m,"oriented"))g["h"===m.orientation?x:b]=!0}}var w=e._subplots,_=w.xaxis,k=w.yaxis,T=i.simpleMap(_,f.id2name),A=i.simpleMap(k,f.id2name),M=T.concat(A),S=o.background;_.length&&k.length&&(S=i.coerce(t,e,a,"plot_bgcolor"));var O,C,L,j,I=o.combine(S,e.paper_bgcolor);function P(t,e){return i.coerce(L,j,s,t,e)}function E(t,e){return i.coerce2(L,j,s,t,e)}function z(t){return"x"===t?k:_}var N={x:z("x"),y:z("y")};function D(e,r){for(var n="x"===e?T:A,i=[],o=0;o<n.length;o++){var a=n[o];a===r||(t[a]||{}).overlaying||i.push(f.name2id(a))}return i}for(d=0;d<M.length;d++){O=M[d],i.isPlainObject(t[O])||(t[O]={}),L=t[O],j=e[O]={},l(L,j,P,r,O);var R=D(C=O.charAt(0),O),F={letter:C,font:e.font,outerTicks:y[O],showGrid:!g[O],data:r,bgColor:I,calendar:e.calendar,cheateronly:"x"===C&&p[O]&&!v[O]};c(L,j,P,F,e);var B=E("spikecolor"),V=E("spikethickness"),q=E("spikedash"),H=E("spikemode"),U=E("spikesnap");P("showspikes",!!(B||V||q||H||U))||(delete j.spikecolor,delete j.spikethickness,delete j.spikedash,delete j.spikemode,delete j.spikesnap);var W={letter:C,counterAxes:N[C],overlayableAxes:R};h(L,j,P,W),j._input=L}var G=n.getComponentMethod("rangeslider","handleDefaults"),Y=n.getComponentMethod("rangeselector","handleDefaults");for(d=0;d<T.length;d++)O=T[d],L=t[O],j=e[O],G(t,e,O),"date"===j.type&&Y(L,j,e,A,j.calendar),P("fixedrange");for(d=0;d<A.length;d++){O=A[d],L=t[O],j=e[O];var X=e[f.id2name(j.anchor)];P("fixedrange",X&&X.rangeslider&&X.rangeslider.visible)}e._axisConstraintGroups=[];var Z=N.x.concat(N.y);for(d=0;d<M.length;d++)C=(O=M[d]).charAt(0),L=t[O],j=e[O],u(L,j,P,Z,e)}},function(t,e,r){"use strict";var n=r(5),i=r(159),o=r(24).name2id;function a(t){return{v:"x",h:"y"}[t.orientation||"v"]}function s(t,e){var r=a(t),i=n.traceIs(t,"box-violin"),o=n.traceIs(t._fullInput||{},"candlestick");return i&&!o&&e===r&&void 0===t[r]&&void 0===t[r+"0"]}t.exports=function(t,e,r,l,c){c&&(e._name=c,e._id=o(c)),"-"===r("type")&&(!function(t,e){if("-"!==t.type)return;var r=t._id,o=r.charAt(0);-1!==r.indexOf("scene")&&(r=o);var l=function(t,e,r){for(var n=0;n<t.length;n++){var i=t[n];if((i[r+"axis"]||r)===e){if(s(i,r))return i;if((i[r]||[]).length||i[r+"0"])return i}}}(e,r,o);if(!l)return;if("histogram"===l.type&&o==={v:"y",h:"x"}[l.orientation||"v"])return void(t.type="linear");var c=o+"calendar",u=l[c];if(s(l,o)){for(var h,f=a(l),d=[],p=0;p<e.length;p++)h=e[p],n.traceIs(h,"box-violin")&&(h[o+"axis"]||o)===r&&(void 0!==h[f]?d.push(h[f][0]):void 0!==h.name?d.push(h.name):d.push("text"),h[c]!==u&&(u=void 0));t.type=i(d,u)}else t.type=i(l[o]||[l[o+"0"]],u)}(e,l),"-"===e.type?e.type="linear":t.type=e.type)}},function(t,e,r){"use strict";var n=r(1),i=r(24).id2name;t.exports=function(t,e,r,o,a){var s=a._axisConstraintGroups,l=e._id,c=l.charAt(0);if(!e.fixedrange&&(r("constrain"),n.coerce(t,e,{constraintoward:{valType:"enumerated",values:"x"===c?["left","center","right"]:["bottom","middle","top"],dflt:"x"===c?"center":"middle"}},"constraintoward"),t.scaleanchor)){var u=function(t,e,r,n){var o,a,s,l,c=n[i(e)].type,u=[];for(a=0;a<r.length;a++)(s=r[a])!==e&&((l=n[i(s)]).type!==c||l.fixedrange||u.push(s));for(o=0;o<t.length;o++)if(t[o][e]){var h=t[o],f=[];for(a=0;a<u.length;a++)s=u[a],h[s]||f.push(s);return{linkableAxes:f,thisGroup:h}}return{linkableAxes:u,thisGroup:null}}(s,l,o,a),h=n.coerce(t,e,{scaleanchor:{valType:"enumerated",values:u.linkableAxes}},"scaleanchor");if(h){var f=r("scaleratio");f||(f=e.scaleratio=1),function(t,e,r,n,i){var o,a,s,l,c;null===e?((e={})[r]=1,c=t.length,t.push(e)):c=t.indexOf(e);var u=Object.keys(e);for(o=0;o<t.length;o++)if(s=t[o],o!==c&&s[n]){var h=s[n];for(a=0;a<u.length;a++)l=u[a],s[l]=h*i*e[l];return void t.splice(c,1)}if(1!==i)for(a=0;a<u.length;a++)e[u[a]]*=i;e[n]=1}(s,u.thisGroup,l,h,f)}else-1!==o.indexOf(t.scaleanchor)&&n.warn("ignored "+e._name+'.scaleanchor: "'+t.scaleanchor+'" to avoid either an infinite loop and possibly inconsistent scaleratios, or because the targetaxis has fixed range.')}}},function(t,e,r){"use strict";var n=r(3),i=r(12),o=r(5),a=r(9),s=r(11),l=r(22).attrRegex;t.exports=function(t,e,r,c){var u=t._fullLayout,h=[];var f,d,p,v,y=function(t){var e,r,n,i,o={};for(e in t)if((r=e.split("."))[0].match(l)){var a=e.charAt(0),s=r[0];if(n=u[s],i={},Array.isArray(t[e])?i.to=t[e].slice(0):Array.isArray(t[e].range)&&(i.to=t[e].range.slice(0)),!i.to)continue;i.axisName=s,i.length=n._length,h.push(a),o[a]=i}return o}(e),g=Object.keys(y),m=function(t,e,r){var n,i,o,a=t._plots,s=[];for(n in a){var l=a[n];if(-1===s.indexOf(l)){var c=l.xaxis._id,u=l.yaxis._id,h=l.xaxis.range,f=l.yaxis.range;l.xaxis._r=l.xaxis.range.slice(),l.yaxis._r=l.yaxis.range.slice(),i=r[c]?r[c].to:h,o=r[u]?r[u].to:f,h[0]===i[0]&&h[1]===i[1]&&f[0]===o[0]&&f[1]===o[1]||-1===e.indexOf(c)&&-1===e.indexOf(u)||s.push(l)}}return s}(u,g,y);if(!m.length)return function(){function e(e,r,n){for(var i=0;i<e.length;i++)if(r(t,i),n)return}e(u.annotations||[],o.getComponentMethod("annotations","drawOne")),e(u.shapes||[],o.getComponentMethod("shapes","drawOne")),e(u.images||[],o.getComponentMethod("images","draw"),!0)}(),!1;function b(t){var e=t.xaxis,r=t.yaxis;u._defs.select("#"+t.clipId+"> rect").call(a.setTranslate,0,0).call(a.setScale,1,1),t.plot.call(a.setTranslate,e._offset,r._offset).call(a.setScale,1,1);var n=t.plot.selectAll(".scatterlayer .trace");n.selectAll(".point").call(a.setPointGroupScale,1,1),n.selectAll(".textpoint").call(a.setTextPointsScale,1,1),n.call(a.hideOutsideRangePoints,t)}function x(e,r){var n,i,l,c=y[e.xaxis._id],h=y[e.yaxis._id],f=[];if(c){i=(n=t._fullLayout[c.axisName])._r,l=c.to,f[0]=(i[0]*(1-r)+r*l[0]-i[0])/(i[1]-i[0])*e.xaxis._length;var d=i[1]-i[0],p=l[1]-l[0];n.range[0]=i[0]*(1-r)+r*l[0],n.range[1]=i[1]*(1-r)+r*l[1],f[2]=e.xaxis._length*(1-r+r*p/d)}else f[0]=0,f[2]=e.xaxis._length;if(h){i=(n=t._fullLayout[h.axisName])._r,l=h.to,f[1]=(i[1]*(1-r)+r*l[1]-i[1])/(i[0]-i[1])*e.yaxis._length;var v=i[1]-i[0],g=l[1]-l[0];n.range[0]=i[0]*(1-r)+r*l[0],n.range[1]=i[1]*(1-r)+r*l[1],f[3]=e.yaxis._length*(1-r+r*g/v)}else f[1]=0,f[3]=e.yaxis._length;!function(e,r){var n,i=[];for(i=[e._id,r._id],n=0;n<i.length;n++)s.doTicks(t,i[n],!0);function a(e,r,o){for(n=0;n<e.length;n++){var a=e[n];if(-1===i.indexOf(a.xref)&&-1===i.indexOf(a.yref)||r(t,n),o)return}}a(u.annotations||[],o.getComponentMethod("annotations","drawOne")),a(u.shapes||[],o.getComponentMethod("shapes","drawOne")),a(u.images||[],o.getComponentMethod("images","draw"),!0)}(e.xaxis,e.yaxis);var m=e.xaxis,b=e.yaxis,x=!!c,w=!!h,_=x?m._length/f[2]:1,k=w?b._length/f[3]:1,T=x?f[0]:0,A=w?f[1]:0,M=x?f[0]/f[2]*m._length:0,S=w?f[1]/f[3]*b._length:0,O=m._offset-M,C=b._offset-S;u._defs.select("#"+e.clipId+"> rect").call(a.setTranslate,T,A).call(a.setScale,1/_,1/k),e.plot.call(a.setTranslate,O,C).call(a.setScale,_,k).selectAll(".points").selectAll(".point").call(a.setPointGroupScale,1/_,1/k),e.plot.selectAll(".points").selectAll(".textpoint").call(a.setTextPointsScale,1/_,1/k)}c&&(f=c());var w=n.ease(r.easing);return t._transitionData._interruptCallbacks.push(function(){return window.cancelAnimationFrame(v),v=null,function(){for(var e={},r=0;r<g.length;r++){var n=t._fullLayout[g[r]+"axis"];e[n._name+".range[0]"]=n.range[0],e[n._name+".range[1]"]=n.range[1],n.range=n._r.slice()}return i.relayout(t,e).then(function(){for(var t=0;t<m.length;t++)b(m[t])})}()}),d=Date.now(),v=window.requestAnimationFrame(function e(){p=Date.now();for(var n=Math.min(1,(p-d)/r.duration),o=w(n),a=0;a<m.length;a++)x(m[a],o);p-d>r.duration?(function(){for(var e={},r=0;r<g.length;r++){var n=t._fullLayout[y[g[r]].axisName],o=y[g[r]].to;e[n._name+".range[0]"]=o[0],e[n._name+".range[1]"]=o[1],n.range=o.slice()}f&&f(),i.relayout(t,e).then(function(){for(var t=0;t<m.length;t++)b(m[t])})}(),v=window.cancelAnimationFrame(e)):v=window.requestAnimationFrame(e)}),Promise.resolve()}},function(t,e,r){"use strict";t.exports={moduleType:"component",name:"legend",layoutAttributes:r(177),supplyLayoutDefaults:r(401),draw:r(402),style:r(178)}},function(t,e,r){"use strict";var n=r(5),i=r(1),o=r(177),a=r(48),s=r(113);t.exports=function(t,e,r){for(var l,c,u,h,f=t.legend||{},d=e.legend={},p=0,v="normal",y=0;y<r.length;y++){var g=r[y];s.legendGetsTrace(g)&&(p++,n.traceIs(g,"pie")&&p++),(n.traceIs(g,"bar")&&"stack"===e.barmode||-1!==["tonextx","tonexty"].indexOf(g.fill))&&(v=s.isGrouped({traceorder:v})?"grouped+reversed":"reversed"),void 0!==g.legendgroup&&""!==g.legendgroup&&(v=s.isReversed({traceorder:v})?"reversed+grouped":"grouped")}function m(t,e){return i.coerce(f,d,o,t,e)}if(!1!==i.coerce(t,e,a,"showlegend",p>1)){if(m("bgcolor",e.paper_bgcolor),m("bordercolor"),m("borderwidth"),i.coerceFont(m,"font",e.font),m("orientation"),"h"===d.orientation){var b=t.xaxis;b&&b.rangeslider&&b.rangeslider.visible?(l=0,u="left",c=1.1,h="bottom"):(l=0,u="left",c=-.1,h="top")}m("traceorder",v),s.isGrouped(e.legend)&&m("tracegroupgap"),m("x",l),m("xanchor",u),m("y",c),m("yanchor",h),i.noneOrAll(f,d,["x","y"])}}},function(t,e,r){"use strict";var n=r(3),i=r(12),o=r(1),a=r(14),s=r(5),l=r(33),c=r(9),u=r(4),h=r(23),f=r(403),d=r(404),p=r(49),v=r(25).LINE_SPACING,y=r(405),g=r(178),m=r(113),b=r(70),x=p.DBLCLICKDELAY;function w(t,e){var r=t.data()[0][0],n=e._fullLayout,a=r.trace,l=s.traceIs(a,"pie"),u=a.index,f=l?r.label:a.name,d=t.selectAll("text.legendtext").data([0]);function p(r){h.convertToTspans(r,e,function(){!function(t,e){var r=t.data()[0][0];if(!r.trace.showlegend)return void t.remove();var n,i,o=t.select("g[class*=math-group]"),a=o.node(),s=e._fullLayout.legend.font.size*v;if(a){var l=c.bBox(a);n=l.height,i=l.width,c.setTranslate(o,0,n/4)}else{var u=t.select(".legendtext"),f=h.lineCount(u),d=u.node();n=s*f,i=d?c.bBox(d).width:0;var p=s*(.3+(1-f)/2);h.positionText(u,40,p)}n=Math.max(n,16)+3,r.height=n,r.width=i}(t,e)})}d.enter().append("text").classed("legendtext",!0),d.attr("text-anchor","start").classed("user-select-none",!0).call(c.font,n.legend.font).text(f),e._context.edits.legendText&&!l?d.call(h.makeEditable,{gd:e}).call(p).on("edit",function(t){this.text(t).call(p);var n,a=t;this.text()||(t="    ");var l=r.trace._fullInput||{},c={};if(-1!==["ohlc","candlestick"].indexOf(l.type))c[(n=r.trace.transforms)[n.length-1].direction+".name"]=t;else if(s.hasTransform(l,"groupby")){var h=s.getTransformIndices(l,"groupby"),f=h[h.length-1],d=o.keyedContainer(l,"transforms["+f+"].styles","target","value.name");""===a?d.remove(r.trace._group):d.set(r.trace._group,t),c=d.constructUpdate()}else c.name=t;return i.restyle(e,c,u)}):d.call(p)}function _(t,e){var r,n=1,i=t.selectAll("rect").data([0]);i.enter().append("rect").classed("legendtoggle",!0).style("cursor","pointer").attr("pointer-events","all").call(u.fill,"rgba(0,0,0,0)"),i.on("mousedown",function(){(r=(new Date).getTime())-e._legendMouseDownTime<x?n+=1:(n=1,e._legendMouseDownTime=r)}),i.on("mouseup",function(){if(!e._dragged&&!e._editing){var r=e._fullLayout.legend;(new Date).getTime()-e._legendMouseDownTime>x&&(n=Math.max(n-1,1)),1===n?r._clickTimeout=setTimeout(function(){f(t,e,n)},x):2===n&&(r._clickTimeout&&clearTimeout(r._clickTimeout),e._legendMouseDownTime=0,f(t,e,n))}})}function k(t,e,r){var i=t._fullLayout,o=i.legend,a=o.borderwidth,s=m.isGrouped(o),l=0;if(o.width=0,o.height=0,m.isVertical(o))s&&e.each(function(t,e){c.setTranslate(this,0,e*o.tracegroupgap)}),r.each(function(t){var e=t[0],r=e.height,n=e.width;c.setTranslate(this,a,5+a+o.height+r/2),o.height+=r,o.width=Math.max(o.width,n)}),o.width+=45+2*a,o.height+=10+2*a,s&&(o.height+=(o._lgroupsLength-1)*o.tracegroupgap),l=40;else if(s){for(var u=[o.width],h=e.data(),f=0,d=h.length;f<d;f++){var p=h[f].map(function(t){return t[0].width}),v=40+Math.max.apply(null,p);o.width+=o.tracegroupgap+v,u.push(o.width)}e.each(function(t,e){c.setTranslate(this,u[e],0)}),e.each(function(){var t=0;n.select(this).selectAll("g.traces").each(function(e){var r=e[0].height;c.setTranslate(this,0,5+a+t+r/2),t+=r}),o.height=Math.max(o.height,t)}),o.height+=10+2*a,o.width+=2*a}else{var y,g=0,b=0,x=0,w=0,_=0,k=o.tracegroupgap||5;r.each(function(t){x=Math.max(40+t[0].width,x),_+=40+t[0].width+k}),y=i.width-(i.margin.r+i.margin.l)>a+_-k,r.each(function(t){var e=t[0],r=y?40+t[0].width:x;a+w+k+r>i.width-(i.margin.r+i.margin.l)&&(w=0,g+=b,o.height=o.height+b,b=0),c.setTranslate(this,a+w,5+a+e.height/2+g),o.width+=k+r,o.height=Math.max(o.height,e.height),w+=k+r,b=Math.max(e.height,b)}),o.width+=2*a,o.height+=10+2*a}o.width=Math.ceil(o.width),o.height=Math.ceil(o.height),r.each(function(e){var r=e[0];n.select(this).select(".legendtoggle").call(c.setRect,0,-r.height/2,(t._context.edits.legendText?0:o.width)+l,r.height)})}function T(t){var e=t._fullLayout.legend,r="left";b.isRightAnchor(e)?r="right":b.isCenterAnchor(e)&&(r="center");var n="top";b.isBottomAnchor(e)?n="bottom":b.isMiddleAnchor(e)&&(n="middle"),a.autoMargin(t,"legend",{x:e.x,y:e.y,l:e.width*({right:1,center:.5}[r]||0),r:e.width*({left:1,center:.5}[r]||0),b:e.height*({top:1,middle:.5}[n]||0),t:e.height*({bottom:1,middle:.5}[n]||0)})}t.exports=function(t){var e=t._fullLayout,r="legend"+e._uid;if(e._infolayer&&t.calcdata){t._legendMouseDownTime||(t._legendMouseDownTime=0);var h=e.legend,p=e.showlegend&&y(t.calcdata,h),v=e.hiddenlabels||[];if(!e.showlegend||!p.length)return e._infolayer.selectAll(".legend").remove(),e._topdefs.select("#"+r).remove(),void a.autoMargin(t,"legend");var m=e._infolayer.selectAll("g.legend").data([0]);m.enter().append("g").attr({class:"legend","pointer-events":"all"});var A=e._topdefs.selectAll("#"+r).data([0]);A.enter().append("clipPath").attr("id",r).append("rect");var M=m.selectAll("rect.bg").data([0]);M.enter().append("rect").attr({class:"bg","shape-rendering":"crispEdges"}),M.call(u.stroke,h.bordercolor),M.call(u.fill,h.bgcolor),M.style("stroke-width",h.borderwidth+"px");var S=m.selectAll("g.scrollbox").data([0]);S.enter().append("g").attr("class","scrollbox");var O=m.selectAll("rect.scrollbar").data([0]);O.enter().append("rect").attr({class:"scrollbar",rx:20,ry:2,width:0,height:0}).call(u.fill,"#808BA4");var C=S.selectAll("g.groups").data(p);C.enter().append("g").attr("class","groups"),C.exit().remove();var L=C.selectAll("g.traces").data(o.identity);L.enter().append("g").attr("class","traces"),L.exit().remove(),L.call(g,t).style("opacity",function(t){var e=t[0].trace;return s.traceIs(e,"pie")?-1!==v.indexOf(t[0].label)?.5:1:"legendonly"===e.visible?.5:1}).each(function(){n.select(this).call(w,t).call(_,t)});var j=0!==m.enter().size();j&&(k(t,C,L),T(t));var I=e.width,P=e.height;k(t,C,L),h.height>P?function(t){var e=t._fullLayout.legend,r="left";b.isRightAnchor(e)?r="right":b.isCenterAnchor(e)&&(r="center");a.autoMargin(t,"legend",{x:e.x,y:.5,l:e.width*({right:1,center:.5}[r]||0),r:e.width*({left:1,center:.5}[r]||0),b:0,t:0})}(t):T(t);var E=e._size,z=E.l+E.w*h.x,N=E.t+E.h*(1-h.y);b.isRightAnchor(h)?z-=h.width:b.isCenterAnchor(h)&&(z-=h.width/2),b.isBottomAnchor(h)?N-=h.height:b.isMiddleAnchor(h)&&(N-=h.height/2);var D=h.width,R=E.w;D>R?(z=E.l,D=R):(z+D>I&&(z=I-D),z<0&&(z=0),D=Math.min(I-z,h.width));var F=h.height,B=E.h;F>B?(N=E.t,F=B):(N+F>P&&(N=P-F),N<0&&(N=0),F=Math.min(P-N,h.height)),c.setTranslate(m,z,N);var V,q,H,U,W,G,Y=F-d.scrollBarHeight-2*d.scrollBarMargin,X=h.height-F;if(h.height<=F||t._context.staticPlot)M.attr({width:D-h.borderwidth,height:F-h.borderwidth,x:h.borderwidth/2,y:h.borderwidth/2}),c.setTranslate(S,0,0),A.select("rect").attr({width:D-2*h.borderwidth,height:F-2*h.borderwidth,x:h.borderwidth,y:h.borderwidth}),S.call(c.setClipUrl,r);else{V=d.scrollBarMargin,q=S.attr("data-scroll")||0,M.attr({width:D-2*h.borderwidth+d.scrollBarWidth+d.scrollBarMargin,height:F-h.borderwidth,x:h.borderwidth/2,y:h.borderwidth/2}),A.select("rect").attr({width:D-2*h.borderwidth+d.scrollBarWidth+d.scrollBarMargin,height:F-2*h.borderwidth,x:h.borderwidth,y:h.borderwidth-q}),S.call(c.setClipUrl,r),j&&J(V,q),m.on("wheel",null),m.on("wheel",function(){q=o.constrain(S.attr("data-scroll")-n.event.deltaY/Y*X,-X,0),J(V=d.scrollBarMargin-q/X*Y,q),0!==q&&q!==-X&&n.event.preventDefault()}),O.on(".drag",null),S.on(".drag",null);var Z=n.behavior.drag().on("drag",function(){V=o.constrain(n.event.y-d.scrollBarHeight/2,d.scrollBarMargin,d.scrollBarMargin+Y),q=-(V-d.scrollBarMargin)/Y*X,J(V,q)});O.call(Z),S.call(Z)}if(t._context.edits.legendPosition)m.classed("cursor-move",!0),l.init({element:m.node(),gd:t,prepFn:function(){var t=c.getTranslate(m);W=t.x,G=t.y},moveFn:function(t,e){var r=W+t,n=G+e;c.setTranslate(m,r,n),H=l.align(r,0,E.l,E.l+E.w,h.xanchor),U=l.align(n,0,E.t+E.h,E.t,h.yanchor)},doneFn:function(){void 0!==H&&void 0!==U&&i.relayout(t,{"legend.x":H,"legend.y":U})},clickFn:function(r,n){var i=e._infolayer.selectAll("g.traces").filter(function(){var t=this.getBoundingClientRect();return n.clientX>=t.left&&n.clientX<=t.right&&n.clientY>=t.top&&n.clientY<=t.bottom});i.size()>0&&(1===r?m._clickTimeout=setTimeout(function(){f(i,t,r)},x):2===r&&(m._clickTimeout&&clearTimeout(m._clickTimeout),f(i,t,r)))}})}function J(t,e){S.attr("data-scroll",e).call(c.setTranslate,0,e),O.call(c.setRect,D,t,d.scrollBarWidth,d.scrollBarHeight),A.select("rect").attr({y:h.borderwidth-e})}}},function(t,e,r){"use strict";var n=r(12),i=r(1),o=r(5),a=!0;t.exports=function(t,e,r){if(!e._dragged&&!e._editing){var s,l,c,u,h,f=e._fullLayout.hiddenlabels?e._fullLayout.hiddenlabels.slice():[],d=t.data()[0][0],p=e._fullData,v=d.trace,y=v.legendgroup,g={},m=[],b=[],x=[];if(1===r&&a&&e.data&&e._context.showTips?(i.notifier(i._(e,"Double-click on legend to isolate one trace"),"long"),a=!1):a=!1,o.traceIs(v,"pie")){var w=d.label,_=f.indexOf(w);1===r?-1===_?f.push(w):f.splice(_,1):2===r&&(f=[],e.calcdata[0].forEach(function(t){w!==t.label&&f.push(t.label)}),e._fullLayout.hiddenlabels&&e._fullLayout.hiddenlabels.length===f.length&&-1===_&&(f=[])),n.relayout(e,"hiddenlabels",f)}else{var k,T=y&&y.length,A=[];if(T)for(s=0;s<p.length;s++)(k=p[s]).visible&&k.legendgroup===y&&A.push(s);if(1===r){var M;switch(v.visible){case!0:M="legendonly";break;case!1:M=!1;break;case"legendonly":M=!0}if(T)for(s=0;s<p.length;s++)!1!==p[s].visible&&p[s].legendgroup===y&&P(p[s],M);else P(v,M)}else if(2===r){var S,O,C=!0;for(s=0;s<p.length;s++)if(!(p[s]===v)&&!(S=T&&p[s].legendgroup===y)&&!0===p[s].visible&&!o.traceIs(p[s],"notLegendIsolatable")){C=!1;break}for(s=0;s<p.length;s++)if(!1!==p[s].visible&&!o.traceIs(p[s],"notLegendIsolatable"))switch(v.visible){case"legendonly":P(p[s],!0);break;case!0:O=!!C||"legendonly",S=p[s]===v||T&&p[s].legendgroup===y,P(p[s],!!S||O)}}for(s=0;s<b.length;s++)if(c=b[s]){var L=c.constructUpdate(),j=Object.keys(L);for(l=0;l<j.length;l++)u=j[l],(g[u]=g[u]||[])[x[s]]=L[u]}for(h=Object.keys(g),s=0;s<h.length;s++)for(u=h[s],l=0;l<m.length;l++)g[u].hasOwnProperty(l)||(g[u][l]=void 0);n.restyle(e,g,m)}}function I(t,e,r){var n=m.indexOf(t),i=g[e];return i||(i=g[e]=[]),-1===m.indexOf(t)&&(m.push(t),n=m.length-1),i[n]=r,n}function P(t,e){var r=t._fullInput;if(o.hasTransform(r,"groupby")){var n=b[r.index];if(!n){var a=o.getTransformIndices(r,"groupby"),s=a[a.length-1];n=i.keyedContainer(r,"transforms["+s+"].styles","target","value.visible"),b[r.index]=n}var l=n.get(t._group);void 0===l&&(l=!0),!1!==l&&n.set(t._group,e),x[r.index]=I(r.index,"visible",!1!==r.visible)}else{var c=!1!==r.visible&&e;I(r.index,"visible",c)}}}},function(t,e,r){"use strict";t.exports={scrollBarWidth:4,scrollBarHeight:20,scrollBarColor:"#808BA4",scrollBarMargin:4}},function(t,e,r){"use strict";var n=r(5),i=r(113);t.exports=function(t,e){var r,o,a={},s=[],l=!1,c={},u=0;function h(t,r){if(""!==t&&i.isGrouped(e))-1===s.indexOf(t)?(s.push(t),l=!0,a[t]=[[r]]):a[t].push([r]);else{var n="~~i"+u;s.push(n),a[n]=[[r]],u++}}for(r=0;r<t.length;r++){var f=t[r],d=f[0],p=d.trace,v=p.legendgroup;if(i.legendGetsTrace(p)&&p.showlegend)if(n.traceIs(p,"pie"))for(c[v]||(c[v]={}),o=0;o<f.length;o++){var y=f[o].label;c[v][y]||(h(v,{label:y,color:f[o].color,i:f[o].i,trace:p}),c[v][y]=!0)}else h(v,d)}if(!s.length)return[];var g,m,b=s.length;if(l&&i.isGrouped(e))for(m=new Array(b),r=0;r<b;r++)g=a[s[r]],m[r]=i.isReversed(e)?g.reverse():g;else{for(m=[new Array(b)],r=0;r<b;r++)g=a[s[r]][0],m[0][i.isReversed(e)?b-r-1:r]=g;b=1}return e._lgroupsLength=b,m}},function(t,e,r){"use strict";var n=r(116),i=r(408);t.exports={moduleType:"component",name:"annotations",layoutAttributes:r(71),supplyLayoutDefaults:r(409),includeBasePlot:r(117)("annotations"),calcAutorange:r(411),draw:n.draw,drawOne:n.drawOne,drawRaw:n.drawRaw,hasClickToShow:i.hasClickToShow,onClick:i.onClick,convertCoords:r(412)}},function(t,e,r){"use strict";var n=r(3),i=r(4),o=r(179);t.exports=function(t,e,r){var a,s,l,c,u=t.node(),h=o[r.arrowhead||0],f=o[r.startarrowhead||0],d=(r.arrowwidth||1)*(r.arrowsize||1),p=(r.arrowwidth||1)*(r.startarrowsize||1),v=e.indexOf("start")>=0,y=e.indexOf("end")>=0,g=h.backoff*d+r.standoff,m=f.backoff*p+r.startstandoff;if("line"===u.nodeName){a={x:+t.attr("x1"),y:+t.attr("y1")},s={x:+t.attr("x2"),y:+t.attr("y2")};var b=a.x-s.x,x=a.y-s.y;if(c=(l=Math.atan2(x,b))+Math.PI,g&&m&&g+m>Math.sqrt(b*b+x*x))return void j();if(g){if(g*g>b*b+x*x)return void j();var w=g*Math.cos(l),_=g*Math.sin(l);s.x+=w,s.y+=_,t.attr({x2:s.x,y2:s.y})}if(m){if(m*m>b*b+x*x)return void j();var k=m*Math.cos(l),T=m*Math.sin(l);a.x-=k,a.y-=T,t.attr({x1:a.x,y1:a.y})}}else if("path"===u.nodeName){var A=u.getTotalLength(),M="";if(A<g+m)return void j();var S=u.getPointAtLength(0),O=u.getPointAtLength(.1);l=Math.atan2(S.y-O.y,S.x-O.x),a=u.getPointAtLength(Math.min(m,A)),M="0px,"+m+"px,";var C=u.getPointAtLength(A),L=u.getPointAtLength(A-.1);c=Math.atan2(C.y-L.y,C.x-L.x),s=u.getPointAtLength(Math.max(0,A-g)),M+=A-(M?m+g:g)+"px,"+A+"px",t.style("stroke-dasharray",M)}function j(){t.style("stroke-dasharray","0px,100px")}function I(e,o,a,s){e.path&&(e.noRotate&&(a=0),n.select(u.parentNode).append("path").attr({class:t.attr("class"),d:e.path,transform:"translate("+o.x+","+o.y+")"+(a?"rotate("+180*a/Math.PI+")":"")+"scale("+s+")"}).style({fill:i.rgb(r.arrowcolor),"stroke-width":0}))}v&&I(f,a,l,p),y&&I(h,s,c,d)}},function(t,e,r){"use strict";var n=r(12);function i(t,e){var r,n,i,a,s,l,c,u=t._fullLayout.annotations,h=[],f=[],d=[],p=(e||[]).length;for(r=0;r<u.length;r++)if(a=(i=u[r]).clicktoshow){for(n=0;n<p;n++)if(l=(s=e[n]).xaxis,c=s.yaxis,l._id===i.xref&&c._id===i.yref&&l.d2r(s.x)===o(i._xclick,l)&&c.d2r(s.y)===o(i._yclick,c)){(i.visible?"onout"===a?f:d:h).push(r);break}n===p&&i.visible&&"onout"===a&&f.push(r)}return{on:h,off:f,explicitOff:d}}function o(t,e){return"log"===e.type?e.l2r(t):e.d2r(t)}t.exports={hasClickToShow:function(t,e){var r=i(t,e);return r.on.length>0||r.explicitOff.length>0},onClick:function(t,e){var r,o=i(t,e),a=o.on,s=o.off.concat(o.explicitOff),l={};if(!a.length&&!s.length)return;for(r=0;r<a.length;r++)l["annotations["+a[r]+"].visible"]=!0;for(r=0;r<s.length;r++)l["annotations["+s[r]+"].visible"]=!1;return n.update(t,{},l)}}},function(t,e,r){"use strict";var n=r(44),i=r(410);t.exports=function(t,e){n(t,e,{name:"annotations",handleItemDefaults:i})}},function(t,e,r){"use strict";var n=r(1),i=r(11),o=r(180),a=r(71);t.exports=function(t,e,r,s,l){function c(r,i){return n.coerce(t,e,a,r,i)}s=s||{};var u=c("visible",!(l=l||{}).itemIsNotPlainObject),h=c("clicktoshow");if(!u&&!h)return e;o(t,e,r,c);for(var f=e.showarrow,d=["x","y"],p=[-10,-30],v={_fullLayout:r},y=0;y<2;y++){var g=d[y],m=i.coerceRef(t,e,v,g,"","paper");if(i.coercePosition(e,v,c,m,g,.5),f){var b="a"+g,x=i.coerceRef(t,e,v,b,"pixel");"pixel"!==x&&x!==m&&(x=e[b]="pixel");var w="pixel"===x?p[y]:.4;i.coercePosition(e,v,c,x,b,w)}c(g+"anchor"),c(g+"shift")}if(n.noneOrAll(t,e,["x","y"]),f&&n.noneOrAll(t,e,["ax","ay"]),h){var _=c("xclick"),k=c("yclick");e._xclick=void 0===_?e.x:i.cleanPosition(_,v,e.xref),e._yclick=void 0===k?e.y:i.cleanPosition(k,v,e.yref)}return e}},function(t,e,r){"use strict";var n=r(1),i=r(11),o=r(116).draw;function a(t){var e=t._fullLayout;n.filterVisible(e.annotations).forEach(function(e){var r,n,o,a,s=i.getFromId(t,e.xref),l=i.getFromId(t,e.yref),c=3*e.arrowsize*e.arrowwidth||0,u=3*e.startarrowsize*e.arrowwidth||0;s&&s.autorange&&(r=c+e.xshift,n=c-e.xshift,o=u+e.xshift,a=u-e.xshift,e.axref===e.xref?(i.expand(s,[s.r2c(e.x)],{ppadplus:r,ppadminus:n}),i.expand(s,[s.r2c(e.ax)],{ppadplus:Math.max(e._xpadplus,o),ppadminus:Math.max(e._xpadminus,a)})):(o=e.ax?o+e.ax:o,a=e.ax?a-e.ax:a,i.expand(s,[s.r2c(e.x)],{ppadplus:Math.max(e._xpadplus,r,o),ppadminus:Math.max(e._xpadminus,n,a)}))),l&&l.autorange&&(r=c-e.yshift,n=c+e.yshift,o=u-e.yshift,a=u+e.yshift,e.ayref===e.yref?(i.expand(l,[l.r2c(e.y)],{ppadplus:r,ppadminus:n}),i.expand(l,[l.r2c(e.ay)],{ppadplus:Math.max(e._ypadplus,o),ppadminus:Math.max(e._ypadminus,a)})):(o=e.ay?o+e.ay:o,a=e.ay?a-e.ay:a,i.expand(l,[l.r2c(e.y)],{ppadplus:Math.max(e._ypadplus,r,o),ppadminus:Math.max(e._ypadminus,n,a)})))})}t.exports=function(t){var e=t._fullLayout,r=n.filterVisible(e.annotations);if(r.length&&t._fullData.length){var s={};for(var l in r.forEach(function(t){s[t.xref]=1,s[t.yref]=1}),s){var c=i.getFromId(t,l);if(c&&c.autorange)return n.syncOrAsync([o,a],t)}}}},function(t,e,r){"use strict";var n=r(6),i=r(93);t.exports=function(t,e,r,o){e=e||{};var a="log"===r&&"linear"===e.type,s="linear"===r&&"log"===e.type;if(a||s)for(var l,c,u=t._fullLayout.annotations,h=e._id.charAt(0),f=0;f<u.length;f++)l=u[f],c="annotations["+f+"].",l[h+"ref"]===e._id&&d(h),l["a"+h+"ref"]===e._id&&d("a"+h);function d(t){var r=l[t],s=null;s=a?i(r,e.range):Math.pow(10,r),n(s)||(s=null),o(c+t,s)}}},function(t,e,r){"use strict";var n=r(5),i=r(1);t.exports={moduleType:"component",name:"annotations3d",schema:{subplots:{scene:{annotations:r(118)}}},layoutAttributes:r(118),handleDefaults:r(414),includeBasePlot:function(t,e){var r=n.subplotsRegistry.gl3d;if(!r)return;for(var o=r.attrRegex,a=Object.keys(t),s=0;s<a.length;s++){var l=a[s];o.test(l)&&(t[l].annotations||[]).length&&(i.pushUnique(e._basePlotModules,r),i.pushUnique(e._subplots.gl3d,l))}},convert:r(415),draw:r(416)}},function(t,e,r){"use strict";var n=r(1),i=r(11),o=r(44),a=r(180),s=r(118);function l(t,e,r,o,l){function c(r,i){return n.coerce(t,e,s,r,i)}function u(t){var n=t+"axis",o={_fullLayout:{}};return o._fullLayout[n]=r[n],i.coercePosition(e,o,c,t,t,.5)}return c("visible",!l.itemIsNotPlainObject)?(a(t,e,o.fullLayout,c),u("x"),u("y"),u("z"),n.noneOrAll(t,e,["x","y","z"]),e.xref="x",e.yref="y",e.zref="z",c("xanchor"),c("yanchor"),c("xshift"),c("yshift"),e.showarrow&&(e.axref="pixel",e.ayref="pixel",c("ax",-10),c("ay",-30),n.noneOrAll(t,e,["ax","ay"])),e):e}t.exports=function(t,e,r){o(t,e,{name:"annotations",handleItemDefaults:l,fullLayout:r.fullLayout})}},function(t,e,r){"use strict";var n=r(1),i=r(11);function o(t,e){var r=e.fullSceneLayout.domain,o=e.fullLayout._size,a={pdata:null,type:"linear",autorange:!1,range:[-1/0,1/0]};t._xa={},n.extendFlat(t._xa,a),i.setConvert(t._xa),t._xa._offset=o.l+r.x[0]*o.w,t._xa.l2p=function(){return.5*(1+t.pdata[0]/t.pdata[3])*o.w*(r.x[1]-r.x[0])},t._ya={},n.extendFlat(t._ya,a),i.setConvert(t._ya),t._ya._offset=o.t+(1-r.y[1])*o.h,t._ya.l2p=function(){return.5*(1-t.pdata[1]/t.pdata[3])*o.h*(r.y[1]-r.y[0])}}t.exports=function(t){for(var e=t.fullSceneLayout.annotations,r=0;r<e.length;r++)o(e[r],t);t.fullLayout._infolayer.selectAll(".annotation-"+t.id).remove()}},function(t,e,r){"use strict";var n=r(116).drawRaw,i=r(417),o=["x","y","z"];t.exports=function(t){for(var e=t.fullSceneLayout,r=t.dataScale,a=e.annotations,s=0;s<a.length;s++){for(var l=a[s],c=!1,u=0;u<3;u++){var h=o[u],f=l[h],d=e[h+"axis"].r2fraction(f);if(d<0||d>1){c=!0;break}}c?t.fullLayout._infolayer.select(".annotation-"+t.id+'[data-index="'+s+'"]').remove():(l.pdata=i(t.glplot.cameraParams,[e.xaxis.r2l(l.x)*r[0],e.yaxis.r2l(l.y)*r[1],e.zaxis.r2l(l.z)*r[2]]),n(t.graphDiv,l,s,t.id,l._xa,l._ya))}}},function(t,e,r){"use strict";function n(t,e){var r,n,i=[0,0,0,0];for(r=0;r<4;++r)for(n=0;n<4;++n)i[n]+=t[4*r+n]*e[r];return i}t.exports=function(t,e){return n(t.projection,n(t.view,n(t.model,[e[0],e[1],e[2],1])))}},function(t,e,r){"use strict";var n=r(419);t.exports={moduleType:"component",name:"shapes",layoutAttributes:r(182),supplyLayoutDefaults:r(420),includeBasePlot:r(117)("shapes"),calcAutorange:r(422),draw:n.draw,drawOne:n.drawOne}},function(t,e,r){"use strict";var n=r(12),i=r(1),o=r(11),a=r(4),s=r(9),l=r(33),c=r(43),u=r(181),h=r(119);function f(t,e){t._fullLayout._paperdiv.selectAll('.shapelayer [data-index="'+e+'"]').remove();var r=(t.layout.shapes||[])[e],i=t._fullLayout.shapes[e];if(r&&!1!==i.visible)if("below"!==i.layer)f(t._fullLayout._shapeUpperLayer);else if("paper"===i.xref||"paper"===i.yref)f(t._fullLayout._shapeLowerLayer);else{var u=t._fullLayout._plots[i.xref+i.yref];if(u)f((u.mainplotinfo||u).shapelayer);else f(t._fullLayout._shapeLowerLayer)}function f(r){var u={"data-index":e,"fill-rule":"evenodd",d:d(t,i)},f=i.line.width?i.line.color:"rgba(0,0,0,0)",v=r.append("path").attr(u).style("opacity",i.opacity).call(a.stroke,f).call(a.fill,i.fillcolor).call(s.dashLine,i.line.dash,i.line.width),y=(i.xref+i.yref).replace(/paper/g,"");v.call(s.setClipUrl,y?"clip"+t._fullLayout._uid+y:null),t._context.edits.shapePosition&&function(t,e,r,i){var a,s,u,f,v,y,g,m,b,x,w,_,k,T,A,M,S,O,C,L,j,I,P,E,z,N,D,R,F,B,V=10,q=10,H={element:e.node(),gd:t,prepFn:function(e){E=o.getFromId(t,r.xref),z=o.getFromId(t,r.yref),N=h.getDataToPixel(t,E),D=h.getDataToPixel(t,z,!0),R=h.getPixelToData(t,E),F=h.getPixelToData(t,z,!0);var n="shapes["+i+"]";"path"===r.type?(I=r.path,P=n+".path"):(s=N(r.x0),u=D(r.y0),f=N(r.x1),v=D(r.y1),y=n+".x0",g=n+".y0",m=n+".x1",b=n+".y1");s<f?(_=s,M=n+".x0",L="x0",k=f,S=n+".x1",j="x1"):(_=f,M=n+".x1",L="x1",k=s,S=n+".x0",j="x0");u<v?(x=u,T=n+".y0",O="y0",w=v,A=n+".y1",C="y1"):(x=v,T=n+".y1",O="y1",w=u,A=n+".y0",C="y0");a={},W(e),H.moveFn="move"===B?G:Y},doneFn:function(){c(e),n.relayout(t,a)}},U=H.element.getBoundingClientRect();function W(t){var r=U.right-U.left,n=U.bottom-U.top,i=t.clientX-U.left,o=t.clientY-U.top,a=r>V&&n>q&&!t.shiftKey?l.getCursor(i/r,1-o/n):"move";c(e,a),B=a.split("-")[0]}function G(n,i){if("path"===r.type){var o=function(t){return R(N(t)+n)};E&&"date"===E.type&&(o=h.encodeDate(o));var l=function(t){return F(D(t)+i)};z&&"date"===z.type&&(l=h.encodeDate(l)),r.path=p(I,o,l),a[P]=r.path}else a[y]=r.x0=R(s+n),a[g]=r.y0=F(u+i),a[m]=r.x1=R(f+n),a[b]=r.y1=F(v+i);e.attr("d",d(t,r))}function Y(n,i){if("path"===r.type){var o=function(t){return R(N(t)+n)};E&&"date"===E.type&&(o=h.encodeDate(o));var s=function(t){return F(D(t)+i)};z&&"date"===z.type&&(s=h.encodeDate(s)),r.path=p(I,o,s),a[P]=r.path}else{var l=~B.indexOf("n")?x+i:x,c=~B.indexOf("s")?w+i:w,u=~B.indexOf("w")?_+n:_,f=~B.indexOf("e")?k+n:k;c-l>q&&(a[T]=r[O]=F(l),a[A]=r[C]=F(c)),f-u>V&&(a[M]=r[L]=R(u),a[S]=r[j]=R(f))}e.attr("d",d(t,r))}l.init(H),e.node().onmousemove=W}(t,v,i,e)}}function d(t,e){var r,n,a,s,l=e.type,c=o.getFromId(t,e.xref),f=o.getFromId(t,e.yref),d=t._fullLayout._size;if(c?(r=h.shapePositionToRange(c),n=function(t){return c._offset+c.r2p(r(t,!0))}):n=function(t){return d.l+d.w*t},f?(a=h.shapePositionToRange(f),s=function(t){return f._offset+f.r2p(a(t,!0))}):s=function(t){return d.t+d.h*(1-t)},"path"===l)return c&&"date"===c.type&&(n=h.decodeDate(n)),f&&"date"===f.type&&(s=h.decodeDate(s)),function(t,e,r){return t.replace(u.segmentRE,function(t){var n=0,o=t.charAt(0),a=u.paramIsX[o],s=u.paramIsY[o],l=u.numParams[o],c=t.substr(1).replace(u.paramRE,function(t){return a[n]?t=e(t):s[n]&&(t=r(t)),++n>l&&(t="X"),t});return n>l&&(c=c.replace(/[\s,]*X.*/,""),i.log("Ignoring extra params in segment "+t)),o+c})}(e.path,n,s);var p=n(e.x0),v=n(e.x1),y=s(e.y0),g=s(e.y1);if("line"===l)return"M"+p+","+y+"L"+v+","+g;if("rect"===l)return"M"+p+","+y+"H"+v+"V"+g+"H"+p+"Z";var m=(p+v)/2,b=(y+g)/2,x=Math.abs(m-p),w=Math.abs(b-y),_="A"+x+","+w,k=m+x+","+b;return"M"+k+_+" 0 1,1 "+(m+","+(b-w))+_+" 0 0,1 "+k+"Z"}function p(t,e,r){return t.replace(u.segmentRE,function(t){var n=0,i=t.charAt(0),o=u.paramIsX[i],a=u.paramIsY[i],s=u.numParams[i];return i+t.substr(1).replace(u.paramRE,function(t){return n>=s?t:(o[n]?t=e(t):a[n]&&(t=r(t)),n++,t)})})}t.exports={draw:function(t){var e=t._fullLayout;e._shapeUpperLayer.selectAll("path").remove(),e._shapeLowerLayer.selectAll("path").remove(),e._shapeSubplotLayers.selectAll("path").remove();for(var r=0;r<e.shapes.length;r++)e.shapes[r].visible&&f(t,r)},drawOne:f}},function(t,e,r){"use strict";var n=r(44),i=r(421);t.exports=function(t,e){n(t,e,{name:"shapes",handleItemDefaults:i})}},function(t,e,r){"use strict";var n=r(1),i=r(11),o=r(182),a=r(119);t.exports=function(t,e,r,s,l){function c(r,i){return n.coerce(t,e,o,r,i)}if(s=s||{},!c("visible",!(l=l||{}).itemIsNotPlainObject))return e;c("layer"),c("opacity"),c("fillcolor"),c("line.color"),c("line.width"),c("line.dash");for(var u=c("type",t.path?"path":"rect"),h=["x","y"],f=0;f<2;f++){var d=h[f],p={_fullLayout:r},v=i.coerceRef(t,e,p,d,"","paper");if("path"!==u){var y,g,m;"paper"!==v?(y=i.getFromId(p,v),m=a.rangeToShapePosition(y),g=a.shapePositionToRange(y)):g=m=n.identity;var b=d+"0",x=d+"1",w=t[b],_=t[x];t[b]=g(t[b],!0),t[x]=g(t[x],!0),i.coercePosition(e,p,c,v,b,.25),i.coercePosition(e,p,c,v,x,.75),e[b]=m(e[b]),e[x]=m(e[x]),t[b]=w,t[x]=_}}return"path"===u?c("path"):n.noneOrAll(t,e,["x0","x1","y0","y1"]),e}},function(t,e,r){"use strict";var n=r(1),i=r(11),o=r(181),a=r(119);function s(t,e,r,n,i){var s="category"===t.type?t.r2c:t.d2c;if(void 0!==e)return[s(e),s(r)];if(n){var l,c,u,h,f=1/0,d=-1/0,p=n.match(o.segmentRE);for("date"===t.type&&(s=a.decodeDate(s)),l=0;l<p.length;l++)void 0!==(c=i[p[l].charAt(0)].drawn)&&(!(u=p[l].substr(1).match(o.paramRE))||u.length<c||((h=s(u[c]))<f&&(f=h),h>d&&(d=h)));return d>=f?[f,d]:void 0}}t.exports=function(t){var e=t._fullLayout,r=n.filterVisible(e.shapes);if(r.length&&t._fullData.length)for(var a=0;a<r.length;a++){var l,c,u=r[a],h=u.line.width/2;"paper"!==u.xref&&(c=s(l=i.getFromId(t,u.xref),u.x0,u.x1,u.path,o.paramIsX))&&i.expand(l,c,{ppad:h}),"paper"!==u.yref&&(c=s(l=i.getFromId(t,u.yref),u.y0,u.y1,u.path,o.paramIsY))&&i.expand(l,c,{ppad:h})}}},function(t,e,r){"use strict";t.exports={moduleType:"component",name:"images",layoutAttributes:r(183),supplyLayoutDefaults:r(424),includeBasePlot:r(117)("images"),draw:r(425),convertCoords:r(426)}},function(t,e,r){"use strict";var n=r(1),i=r(11),o=r(44),a=r(183);function s(t,e,r){function o(r,i){return n.coerce(t,e,a,r,i)}if(!o("visible",!!o("source")))return e;o("layer"),o("xanchor"),o("yanchor"),o("sizex"),o("sizey"),o("sizing"),o("opacity");for(var s={_fullLayout:r},l=["x","y"],c=0;c<2;c++){var u=l[c],h=i.coerceRef(t,e,s,u,"paper");i.coercePosition(e,s,o,h,u,0)}return e}t.exports=function(t,e){o(t,e,{name:"images",handleItemDefaults:s})}},function(t,e,r){"use strict";var n=r(3),i=r(9),o=r(11),a=r(42);t.exports=function(t){var e,r,s=t._fullLayout,l=[],c={},u=[];for(r=0;r<s.images.length;r++){var h=s.images[r];if(h.visible)if("below"===h.layer&&"paper"!==h.xref&&"paper"!==h.yref){e=h.xref+h.yref;var f=s._plots[e];if(!f){u.push(h);continue}f.mainplot&&(e=f.mainplot.id),c[e]||(c[e]=[]),c[e].push(h)}else"above"===h.layer?l.push(h):u.push(h)}var d={x:{left:{sizing:"xMin",offset:0},center:{sizing:"xMid",offset:-.5},right:{sizing:"xMax",offset:-1}},y:{top:{sizing:"YMin",offset:0},middle:{sizing:"YMid",offset:-.5},bottom:{sizing:"YMax",offset:-1}}};function p(e){var r=n.select(this);if(!this.img||this.img.src!==e.source){r.attr("xmlns",a.svg);var i=new Promise(function(t){var n=new Image;function i(){r.remove(),t()}this.img=n,n.setAttribute("crossOrigin","anonymous"),n.onerror=i,n.onload=function(){var e=document.createElement("canvas");e.width=this.width,e.height=this.height,e.getContext("2d").drawImage(this,0,0);var n=e.toDataURL("image/png");r.attr("xlink:href",n),t()},r.on("error",i),n.src=e.source}.bind(this));t._promises.push(i)}}function v(e){var r=n.select(this),a=o.getFromId(t,e.xref),l=o.getFromId(t,e.yref),c=s._size,u=a?Math.abs(a.l2p(e.sizex)-a.l2p(0)):e.sizex*c.w,h=l?Math.abs(l.l2p(e.sizey)-l.l2p(0)):e.sizey*c.h,f=u*d.x[e.xanchor].offset,p=h*d.y[e.yanchor].offset,v=d.x[e.xanchor].sizing+d.y[e.yanchor].sizing,y=(a?a.r2p(e.x)+a._offset:e.x*c.w+c.l)+f,g=(l?l.r2p(e.y)+l._offset:c.h-e.y*c.h+c.t)+p;switch(e.sizing){case"fill":v+=" slice";break;case"stretch":v="none"}r.attr({x:y,y:g,width:u,height:h,preserveAspectRatio:v,opacity:e.opacity});var m=(a?a._id:"")+(l?l._id:"");r.call(i.setClipUrl,m?"clip"+s._uid+m:null)}var y=s._imageLowerLayer.selectAll("image").data(u),g=s._imageUpperLayer.selectAll("image").data(l);y.enter().append("image"),g.enter().append("image"),y.exit().remove(),g.exit().remove(),y.each(function(t){p.bind(this)(t),v.bind(this)(t)}),g.each(function(t){p.bind(this)(t),v.bind(this)(t)});var m=Object.keys(s._plots);for(r=0;r<m.length;r++){e=m[r];var b=s._plots[e];if(b.imagelayer){var x=b.imagelayer.selectAll("image").data(c[e]||[]);x.enter().append("image"),x.exit().remove(),x.each(function(t){p.bind(this)(t),v.bind(this)(t)})}}}},function(t,e,r){"use strict";var n=r(6),i=r(93);t.exports=function(t,e,r,o){e=e||{};var a="log"===r&&"linear"===e.type,s="linear"===r&&"log"===e.type;if(a||s)for(var l,c,u=t._fullLayout.images,h=e._id.charAt(0),f=0;f<u.length;f++)if(c="images["+f+"].",(l=u[f])[h+"ref"]===e._id){var d=l[h],p=l["size"+h],v=null,y=null;if(a){v=i(d,e.range);var g=p/Math.pow(10,v)/2;y=2*Math.log(g+Math.sqrt(1+g*g))/Math.LN10}else y=(v=Math.pow(10,d))*(Math.pow(10,p/2)-Math.pow(10,-p/2));n(v)?n(y)||(y=null):(v=null,y=null),o(c+h,v),o(c+"size"+h,y)}}},function(t,e,r){"use strict";var n=r(120);t.exports={moduleType:"component",name:n.name,layoutAttributes:r(184),supplyLayoutDefaults:r(428),draw:r(429)}},function(t,e,r){"use strict";var n=r(1),i=r(44),o=r(184),a=r(120).name,s=o.buttons;function l(t,e,r){function i(r,i){return n.coerce(t,e,o,r,i)}i("visible",function(t,e){var r,i,o=t.buttons||[],a=e.buttons=[];function l(t,e){return n.coerce(r,i,s,t,e)}for(var c=0;c<o.length;c++)r=o[c],i={},l("method"),n.isPlainObject(r)&&("skip"===i.method||Array.isArray(r.args))&&(l("args"),l("label"),l("execute"),i._index=c,a.push(i));return a}(t,e).length>0)&&(i("active"),i("direction"),i("type"),i("showactive"),i("x"),i("y"),n.noneOrAll(t,e,["x","y"]),i("xanchor"),i("yanchor"),i("pad.t"),i("pad.r"),i("pad.b"),i("pad.l"),n.coerceFont(i,"font",r.font),i("bgcolor",r.paper_bgcolor),i("bordercolor"),i("borderwidth"))}t.exports=function(t,e){i(t,e,{name:a,handleItemDefaults:l})}},function(t,e,r){"use strict";var n=r(3),i=r(14),o=r(4),a=r(9),s=r(23),l=r(70),c=r(25).LINE_SPACING,u=r(120),h=r(430);function f(t){return t._index}function d(t,e){return+t.attr(u.menuIndexAttrName)===e._index}function p(t,e,r,n,i,o,a,s){e._input.active=e.active=a,"buttons"===e.type?y(t,n,null,null,e):"dropdown"===e.type&&(i.attr(u.menuIndexAttrName,"-1"),v(t,n,i,o,e),s||y(t,n,i,o,e))}function v(t,e,r,n,i){var o=e.selectAll("g."+u.headerClassName).data([0]);o.enter().append("g").classed(u.headerClassName,!0).style("pointer-events","all");var s=i.active,l=i.buttons[s]||u.blankHeaderOpts,c={y:i.pad.t,yPad:0,x:i.pad.l,xPad:0,index:0},h={width:i.headerWidth,height:i.headerHeight};o.call(g,i,l,t).call(T,i,c,h);var f=e.selectAll("text."+u.headerArrowClassName).data([0]);f.enter().append("text").classed(u.headerArrowClassName,!0).classed("user-select-none",!0).attr("text-anchor","end").call(a.font,i.font).text(u.arrowSymbol[i.direction]),f.attr({x:i.headerWidth-u.arrowOffsetX+i.pad.l,y:i.headerHeight/2+u.textOffsetY+i.pad.t}),o.on("click",function(){r.call(A),r.attr(u.menuIndexAttrName,d(r,i)?-1:String(i._index)),y(t,e,r,n,i)}),o.on("mouseover",function(){o.call(w)}),o.on("mouseout",function(){o.call(_,i)}),a.setTranslate(e,i.lx,i.ly)}function y(t,e,r,o,a){r||(r=e).attr("pointer-events","all");var s=function(t){return-1==+t.attr(u.menuIndexAttrName)}(r)&&"buttons"!==a.type?[]:a.buttons,l="dropdown"===a.type?u.dropdownButtonClassName:u.buttonClassName,c=r.selectAll("g."+l).data(s),h=c.enter().append("g").classed(l,!0),f=c.exit();"dropdown"===a.type?(h.attr("opacity","0").transition().attr("opacity","1"),f.transition().attr("opacity","0").remove()):f.remove();var d=0,v=0,y=-1!==["up","down"].indexOf(a.direction);"dropdown"===a.type&&(y?v=a.headerHeight+u.gapButtonHeader:d=a.headerWidth+u.gapButtonHeader),"dropdown"===a.type&&"up"===a.direction&&(v=-u.gapButtonHeader+u.gapButton-a.openHeight),"dropdown"===a.type&&"left"===a.direction&&(d=-u.gapButtonHeader+u.gapButton-a.openWidth);var m={x:a.lx+d+a.pad.l,y:a.ly+v+a.pad.t,yPad:u.gapButton,xPad:u.gapButton,index:0},b={l:m.x+a.borderwidth,t:m.y+a.borderwidth};c.each(function(s,l){var u=n.select(this);u.call(g,a,s,t).call(T,a,m),u.on("click",function(){n.event.defaultPrevented||(p(t,a,0,e,r,o,l),s.execute&&i.executeAPICommand(t,s.method,s.args),t.emit("plotly_buttonclicked",{menu:a,button:s,active:a.active}))}),u.on("mouseover",function(){u.call(w)}),u.on("mouseout",function(){u.call(_,a),c.call(x,a)})}),c.call(x,a),y?(b.w=Math.max(a.openWidth,a.headerWidth),b.h=m.y-b.t):(b.w=m.x-b.l,b.h=Math.max(a.openHeight,a.headerHeight)),b.direction=a.direction,o&&(c.size()?function(t,e,r,n,i,o){var a,s,l,c=i.direction,h="up"===c||"down"===c,f=i.active;if(h)for(s=0,l=0;l<f;l++)s+=i.heights[l]+u.gapButton;else for(a=0,l=0;l<f;l++)a+=i.widths[l]+u.gapButton;n.enable(o,a,s),n.hbar&&n.hbar.attr("opacity","0").transition().attr("opacity","1");n.vbar&&n.vbar.attr("opacity","0").transition().attr("opacity","1")}(0,0,0,o,a,b):function(t){var e=!!t.hbar,r=!!t.vbar;e&&t.hbar.transition().attr("opacity","0").each("end",function(){e=!1,r||t.disable()});r&&t.vbar.transition().attr("opacity","0").each("end",function(){r=!1,e||t.disable()})}(o))}function g(t,e,r,n){t.call(m,e).call(b,e,r,n)}function m(t,e){var r=t.selectAll("rect").data([0]);r.enter().append("rect").classed(u.itemRectClassName,!0).attr({rx:u.rx,ry:u.ry,"shape-rendering":"crispEdges"}),r.call(o.stroke,e.bordercolor).call(o.fill,e.bgcolor).style("stroke-width",e.borderwidth+"px")}function b(t,e,r,n){var i=t.selectAll("text").data([0]);i.enter().append("text").classed(u.itemTextClassName,!0).classed("user-select-none",!0).attr({"text-anchor":"start","data-notex":1}),i.call(a.font,e.font).text(r.label).call(s.convertToTspans,n)}function x(t,e){var r=e.active;t.each(function(t,i){var a=n.select(this);i===r&&e.showactive&&a.select("rect."+u.itemRectClassName).call(o.fill,u.activeColor)})}function w(t){t.select("rect."+u.itemRectClassName).call(o.fill,u.hoverColor)}function _(t,e){t.select("rect."+u.itemRectClassName).call(o.fill,e.bgcolor)}function k(t,e){e.width1=0,e.height1=0,e.heights=[],e.widths=[],e.totalWidth=0,e.totalHeight=0,e.openWidth=0,e.openHeight=0,e.lx=0,e.ly=0;var r=a.tester.selectAll("g."+u.dropdownButtonClassName).data(e.buttons);r.enter().append("g").classed(u.dropdownButtonClassName,!0);var o=-1!==["up","down"].indexOf(e.direction);r.each(function(r,i){var l=n.select(this);l.call(g,e,r,t);var h=l.select("."+u.itemTextClassName),f=h.node()&&a.bBox(h.node()).width,d=Math.max(f+u.textPadX,u.minWidth),p=e.font.size*c,v=s.lineCount(h),y=Math.max(p*v,u.minHeight)+u.textOffsetY;y=Math.ceil(y),d=Math.ceil(d),e.widths[i]=d,e.heights[i]=y,e.height1=Math.max(e.height1,y),e.width1=Math.max(e.width1,d),o?(e.totalWidth=Math.max(e.totalWidth,d),e.openWidth=e.totalWidth,e.totalHeight+=y+u.gapButton,e.openHeight+=y+u.gapButton):(e.totalWidth+=d+u.gapButton,e.openWidth+=d+u.gapButton,e.totalHeight=Math.max(e.totalHeight,y),e.openHeight=e.totalHeight)}),o?e.totalHeight-=u.gapButton:e.totalWidth-=u.gapButton,e.headerWidth=e.width1+u.arrowPadX,e.headerHeight=e.height1,"dropdown"===e.type&&(o?(e.width1+=u.arrowPadX,e.totalHeight=e.height1):e.totalWidth=e.width1,e.totalWidth+=u.arrowPadX),r.remove();var h=e.totalWidth+e.pad.l+e.pad.r,f=e.totalHeight+e.pad.t+e.pad.b,d=t._fullLayout._size;e.lx=d.l+d.w*e.x,e.ly=d.t+d.h*(1-e.y);var p="left";l.isRightAnchor(e)&&(e.lx-=h,p="right"),l.isCenterAnchor(e)&&(e.lx-=h/2,p="center");var v="top";l.isBottomAnchor(e)&&(e.ly-=f,v="bottom"),l.isMiddleAnchor(e)&&(e.ly-=f/2,v="middle"),e.totalWidth=Math.ceil(e.totalWidth),e.totalHeight=Math.ceil(e.totalHeight),e.lx=Math.round(e.lx),e.ly=Math.round(e.ly),i.autoMargin(t,u.autoMarginIdRoot+e._index,{x:e.x,y:e.y,l:h*({right:1,center:.5}[p]||0),r:h*({left:1,center:.5}[p]||0),b:f*({top:1,middle:.5}[v]||0),t:f*({bottom:1,middle:.5}[v]||0)})}function T(t,e,r,n){n=n||{};var i=t.select("."+u.itemRectClassName),o=t.select("."+u.itemTextClassName),l=e.borderwidth,h=r.index;a.setTranslate(t,l+r.x,l+r.y);var f=-1!==["up","down"].indexOf(e.direction),d=n.height||(f?e.heights[h]:e.height1);i.attr({x:0,y:0,width:n.width||(f?e.width1:e.widths[h]),height:d});var p=e.font.size*c,v=(s.lineCount(o)-1)*p/2;s.positionText(o,u.textOffsetX,d/2-v+u.textOffsetY),f?r.y+=e.heights[h]+r.yPad:r.x+=e.widths[h]+r.xPad,r.index++}function A(t){t.selectAll("g."+u.dropdownButtonClassName).remove()}t.exports=function(t){var e=t._fullLayout,r=function(t){for(var e=t[u.name],r=[],n=0;n<e.length;n++){var i=e[n];i.visible&&r.push(i)}return r}(e),o=e._menulayer.selectAll("g."+u.containerClassName).data(r.length>0?[0]:[]);if(o.enter().append("g").classed(u.containerClassName,!0).style("cursor","pointer"),o.exit().remove(),o.exit().size()&&function(t){for(var e=t._fullLayout._pushmargin||{},r=Object.keys(e),n=0;n<r.length;n++){var o=r[n];-1!==o.indexOf(u.autoMarginIdRoot)&&i.autoMargin(t,o)}}(t),0!==r.length){var a=o.selectAll("g."+u.headerGroupClassName).data(r,f);a.enter().append("g").classed(u.headerGroupClassName,!0);var s=o.selectAll("g."+u.dropdownButtonGroupClassName).data([0]);s.enter().append("g").classed(u.dropdownButtonGroupClassName,!0).style("pointer-events","all");for(var l=0;l<r.length;l++){var c=r[l];k(t,c)}var g="updatemenus"+e._uid,m=new h(t,s,g);a.enter().size()&&(s.node().parentNode.appendChild(s.node()),s.call(A).attr(u.menuIndexAttrName,"-1")),a.exit().each(function(e){n.select(this).remove(),s.call(A).attr(u.menuIndexAttrName,"-1"),i.autoMargin(t,u.autoMarginIdRoot+e._index)}),a.each(function(e){var r=n.select(this),o="dropdown"===e.type?s:null;i.manageCommandObserver(t,e,e.buttons,function(n){p(t,e,e.buttons[n.index],r,o,m,n.index,!0)}),"dropdown"===e.type?(v(t,r,s,m,e),d(s,e)&&y(t,r,s,m,e)):y(t,r,null,null,e)})}}},function(t,e,r){"use strict";t.exports=s;var n=r(3),i=r(4),o=r(9),a=r(1);function s(t,e,r){this.gd=t,this.container=e,this.id=r,this.position=null,this.translateX=null,this.translateY=null,this.hbar=null,this.vbar=null,this.bg=this.container.selectAll("rect.scrollbox-bg").data([0]),this.bg.exit().on(".drag",null).on("wheel",null).remove(),this.bg.enter().append("rect").classed("scrollbox-bg",!0).style("pointer-events","all").attr({opacity:0,x:0,y:0,width:0,height:0})}s.barWidth=2,s.barLength=20,s.barRadius=2,s.barPad=1,s.barColor="#808BA4",s.prototype.enable=function(t,e,r){var a=this.gd._fullLayout,l=a.width,c=a.height;this.position=t;var u,h,f,d,p=this.position.l,v=this.position.w,y=this.position.t,g=this.position.h,m=this.position.direction,b="down"===m,x="left"===m,w="up"===m,_=v,k=g;b||x||"right"===m||w||(this.position.direction="down",b=!0),b||w?(h=(u=p)+_,b?(f=y,k=(d=Math.min(f+k,c))-f):k=(d=y+k)-(f=Math.max(d-k,0))):(d=(f=y)+k,x?_=(h=p+_)-(u=Math.max(h-_,0)):(u=p,_=(h=Math.min(u+_,l))-u)),this._box={l:u,t:f,w:_,h:k};var T=v>_,A=s.barLength+2*s.barPad,M=s.barWidth+2*s.barPad,S=p,O=y+g;O+M>c&&(O=c-M);var C=this.container.selectAll("rect.scrollbar-horizontal").data(T?[0]:[]);C.exit().on(".drag",null).remove(),C.enter().append("rect").classed("scrollbar-horizontal",!0).call(i.fill,s.barColor),T?(this.hbar=C.attr({rx:s.barRadius,ry:s.barRadius,x:S,y:O,width:A,height:M}),this._hbarXMin=S+A/2,this._hbarTranslateMax=_-A):(delete this.hbar,delete this._hbarXMin,delete this._hbarTranslateMax);var L=g>k,j=s.barWidth+2*s.barPad,I=s.barLength+2*s.barPad,P=p+v,E=y;P+j>l&&(P=l-j);var z=this.container.selectAll("rect.scrollbar-vertical").data(L?[0]:[]);z.exit().on(".drag",null).remove(),z.enter().append("rect").classed("scrollbar-vertical",!0).call(i.fill,s.barColor),L?(this.vbar=z.attr({rx:s.barRadius,ry:s.barRadius,x:P,y:E,width:j,height:I}),this._vbarYMin=E+I/2,this._vbarTranslateMax=k-I):(delete this.vbar,delete this._vbarYMin,delete this._vbarTranslateMax);var N=this.id,D=u-.5,R=L?h+j+.5:h+.5,F=f-.5,B=T?d+M+.5:d+.5,V=a._topdefs.selectAll("#"+N).data(T||L?[0]:[]);if(V.exit().remove(),V.enter().append("clipPath").attr("id",N).append("rect"),T||L?(this._clipRect=V.select("rect").attr({x:Math.floor(D),y:Math.floor(F),width:Math.ceil(R)-Math.floor(D),height:Math.ceil(B)-Math.floor(F)}),this.container.call(o.setClipUrl,N),this.bg.attr({x:p,y:y,width:v,height:g})):(this.bg.attr({width:0,height:0}),this.container.on("wheel",null).on(".drag",null).call(o.setClipUrl,null),delete this._clipRect),T||L){var q=n.behavior.drag().on("dragstart",function(){n.event.sourceEvent.preventDefault()}).on("drag",this._onBoxDrag.bind(this));this.container.on("wheel",null).on("wheel",this._onBoxWheel.bind(this)).on(".drag",null).call(q);var H=n.behavior.drag().on("dragstart",function(){n.event.sourceEvent.preventDefault(),n.event.sourceEvent.stopPropagation()}).on("drag",this._onBarDrag.bind(this));T&&this.hbar.on(".drag",null).call(H),L&&this.vbar.on(".drag",null).call(H)}this.setTranslate(e,r)},s.prototype.disable=function(){(this.hbar||this.vbar)&&(this.bg.attr({width:0,height:0}),this.container.on("wheel",null).on(".drag",null).call(o.setClipUrl,null),delete this._clipRect),this.hbar&&(this.hbar.on(".drag",null),this.hbar.remove(),delete this.hbar,delete this._hbarXMin,delete this._hbarTranslateMax),this.vbar&&(this.vbar.on(".drag",null),this.vbar.remove(),delete this.vbar,delete this._vbarYMin,delete this._vbarTranslateMax)},s.prototype._onBoxDrag=function(){var t=this.translateX,e=this.translateY;this.hbar&&(t-=n.event.dx),this.vbar&&(e-=n.event.dy),this.setTranslate(t,e)},s.prototype._onBoxWheel=function(){var t=this.translateX,e=this.translateY;this.hbar&&(t+=n.event.deltaY),this.vbar&&(e+=n.event.deltaY),this.setTranslate(t,e)},s.prototype._onBarDrag=function(){var t=this.translateX,e=this.translateY;if(this.hbar){var r=t+this._hbarXMin,i=r+this._hbarTranslateMax;t=(a.constrain(n.event.x,r,i)-r)/(i-r)*(this.position.w-this._box.w)}if(this.vbar){var o=e+this._vbarYMin,s=o+this._vbarTranslateMax;e=(a.constrain(n.event.y,o,s)-o)/(s-o)*(this.position.h-this._box.h)}this.setTranslate(t,e)},s.prototype.setTranslate=function(t,e){var r=this.position.w-this._box.w,n=this.position.h-this._box.h;if(t=a.constrain(t||0,0,r),e=a.constrain(e||0,0,n),this.translateX=t,this.translateY=e,this.container.call(o.setTranslate,this._box.l-this.position.l-t,this._box.t-this.position.t-e),this._clipRect&&this._clipRect.attr({x:Math.floor(this.position.l+t-.5),y:Math.floor(this.position.t+e-.5)}),this.hbar){var i=t/r;this.hbar.call(o.setTranslate,t+i*this._hbarTranslateMax,e)}if(this.vbar){var s=e/n;this.vbar.call(o.setTranslate,t,e+s*this._vbarTranslateMax)}}},function(t,e,r){"use strict";var n=r(72);t.exports={moduleType:"component",name:n.name,layoutAttributes:r(186),supplyLayoutDefaults:r(432),draw:r(433)}},function(t,e,r){"use strict";var n=r(1),i=r(44),o=r(186),a=r(72).name,s=o.steps;function l(t,e,r){function i(r,i){return n.coerce(t,e,o,r,i)}i("visible",function(t,e){var r,i,o=t.steps||[],a=e.steps=[];function l(t,e){return n.coerce(r,i,s,t,e)}for(var c=0;c<o.length;c++)r=o[c],i={},l("method"),n.isPlainObject(r)&&("skip"===i.method||Array.isArray(r.args))&&(l("args"),l("label","step-"+c),l("value",i.label),l("execute"),a.push(i));return a}(t,e).length>0)&&(i("active"),i("x"),i("y"),n.noneOrAll(t,e,["x","y"]),i("xanchor"),i("yanchor"),i("len"),i("lenmode"),i("pad.t"),i("pad.r"),i("pad.b"),i("pad.l"),n.coerceFont(i,"font",r.font),i("currentvalue.visible")&&(i("currentvalue.xanchor"),i("currentvalue.prefix"),i("currentvalue.suffix"),i("currentvalue.offset"),n.coerceFont(i,"currentvalue.font",e.font)),i("transition.duration"),i("transition.easing"),i("bgcolor"),i("activebgcolor"),i("bordercolor"),i("borderwidth"),i("ticklen"),i("tickwidth"),i("tickcolor"),i("minorticklen"))}t.exports=function(t,e){i(t,e,{name:a,handleItemDefaults:l})}},function(t,e,r){"use strict";var n=r(3),i=r(14),o=r(4),a=r(9),s=r(23),l=r(70),c=r(72),u=r(25).LINE_SPACING;function h(t){return t._index}function f(t,e){var r=a.tester.selectAll("g."+c.labelGroupClass).data(e.steps);r.enter().append("g").classed(c.labelGroupClass,!0);var o=0,u=0;r.each(function(t){var r=v(n.select(this),{step:t},e).node();if(r){var i=a.bBox(r);u=Math.max(u,i.height),o=Math.max(o,i.width)}}),r.remove(),e.inputAreaWidth=Math.max(c.railWidth,c.gripHeight);var h=t._fullLayout._size;e.lx=h.l+h.w*e.x,e.ly=h.t+h.h*(1-e.y),"fraction"===e.lenmode?e.outerLength=Math.round(h.w*e.len):e.outerLength=e.len,e.lenPad=Math.round(.5*c.gripWidth),e.inputAreaStart=0,e.inputAreaLength=Math.round(e.outerLength-e.pad.l-e.pad.r);var f=(e.inputAreaLength-2*c.stepInset)/(e.steps.length-1),p=o+c.labelPadding;if(e.labelStride=Math.max(1,Math.ceil(p/f)),e.labelHeight=u,e.currentValueMaxWidth=0,e.currentValueHeight=0,e.currentValueTotalHeight=0,e.currentValueMaxLines=1,e.currentvalue.visible){var y=a.tester.append("g");r.each(function(t){var r=d(y,e,t.label),n=r.node()&&a.bBox(r.node())||{width:0,height:0},i=s.lineCount(r);e.currentValueMaxWidth=Math.max(e.currentValueMaxWidth,Math.ceil(n.width)),e.currentValueHeight=Math.max(e.currentValueHeight,Math.ceil(n.height)),e.currentValueMaxLines=Math.max(e.currentValueMaxLines,i)}),e.currentValueTotalHeight=e.currentValueHeight+e.currentvalue.offset,y.remove()}e.height=e.currentValueTotalHeight+c.tickOffset+e.ticklen+c.labelOffset+e.labelHeight+e.pad.t+e.pad.b;var g="left";l.isRightAnchor(e)&&(e.lx-=e.outerLength,g="right"),l.isCenterAnchor(e)&&(e.lx-=e.outerLength/2,g="center");var m="top";l.isBottomAnchor(e)&&(e.ly-=e.height,m="bottom"),l.isMiddleAnchor(e)&&(e.ly-=e.height/2,m="middle"),e.outerLength=Math.ceil(e.outerLength),e.height=Math.ceil(e.height),e.lx=Math.round(e.lx),e.ly=Math.round(e.ly),i.autoMargin(t,c.autoMarginIdRoot+e._index,{x:e.x,y:e.y,l:e.outerLength*({right:1,center:.5}[g]||0),r:e.outerLength*({left:1,center:.5}[g]||0),b:e.height*({top:1,middle:.5}[m]||0),t:e.height*({bottom:1,middle:.5}[m]||0)})}function d(t,e,r){if(e.currentvalue.visible){var n,i,o=t.selectAll("text").data([0]);switch(e.currentvalue.xanchor){case"right":n=e.inputAreaLength-c.currentValueInset-e.currentValueMaxWidth,i="left";break;case"center":n=.5*e.inputAreaLength,i="middle";break;default:n=c.currentValueInset,i="left"}o.enter().append("text").classed(c.labelClass,!0).classed("user-select-none",!0).attr({"text-anchor":i,"data-notex":1});var l=e.currentvalue.prefix?e.currentvalue.prefix:"";if("string"==typeof r)l+=r;else l+=e.steps[e.active].label;e.currentvalue.suffix&&(l+=e.currentvalue.suffix),o.call(a.font,e.currentvalue.font).text(l).call(s.convertToTspans,e.gd);var h=s.lineCount(o),f=(e.currentValueMaxLines+1-h)*e.currentvalue.font.size*u;return s.positionText(o,n,f),o}}function p(t,e,r){var n=t.selectAll("rect."+c.gripRectClass).data([0]);n.enter().append("rect").classed(c.gripRectClass,!0).call(b,e,t,r).style("pointer-events","all"),n.attr({width:c.gripWidth,height:c.gripHeight,rx:c.gripRadius,ry:c.gripRadius}).call(o.stroke,r.bordercolor).call(o.fill,r.bgcolor).style("stroke-width",r.borderwidth+"px")}function v(t,e,r){var n=t.selectAll("text").data([0]);return n.enter().append("text").classed(c.labelClass,!0).classed("user-select-none",!0).attr({"text-anchor":"middle","data-notex":1}),n.call(a.font,r.font).text(e.step.label).call(s.convertToTspans,r.gd),n}function y(t,e){var r=t.selectAll("g."+c.labelsClass).data([0]);r.enter().append("g").classed(c.labelsClass,!0);var i=r.selectAll("g."+c.labelGroupClass).data(e.labelSteps);i.enter().append("g").classed(c.labelGroupClass,!0),i.exit().remove(),i.each(function(t){var r=n.select(this);r.call(v,t,e),a.setTranslate(r,_(e,t.fraction),c.tickOffset+e.ticklen+e.font.size*u+c.labelOffset+e.currentValueTotalHeight)})}function g(t,e,r,n,i){var o=Math.round(n*(r.steps.length-1));o!==r.active&&m(t,e,r,o,!0,i)}function m(t,e,r,n,o,a){var s=r.active;r._input.active=r.active=n;var l=r.steps[r.active];e.call(w,r,r.active/(r.steps.length-1),a),e.call(d,r),t.emit("plotly_sliderchange",{slider:r,step:r.steps[r.active],interaction:o,previousActive:s}),l&&l.method&&o&&(e._nextMethod?(e._nextMethod.step=l,e._nextMethod.doCallback=o,e._nextMethod.doTransition=a):(e._nextMethod={step:l,doCallback:o,doTransition:a},e._nextMethodRaf=window.requestAnimationFrame(function(){var r=e._nextMethod.step;r.method&&(r.execute&&i.executeAPICommand(t,r.method,r.args),e._nextMethod=null,e._nextMethodRaf=null)})))}function b(t,e,r){var i=r.node(),a=n.select(e);function s(){return r.data()[0]}t.on("mousedown",function(){var t=s();e.emit("plotly_sliderstart",{slider:t});var l=r.select("."+c.gripRectClass);n.event.stopPropagation(),n.event.preventDefault(),l.call(o.fill,t.activebgcolor);var u=k(t,n.mouse(i)[0]);g(e,r,t,u,!0),t._dragging=!0,a.on("mousemove",function(){var t=s(),o=k(t,n.mouse(i)[0]);g(e,r,t,o,!1)}),a.on("mouseup",function(){var t=s();t._dragging=!1,l.call(o.fill,t.bgcolor),a.on("mouseup",null),a.on("mousemove",null),e.emit("plotly_sliderend",{slider:t,step:t.steps[t.active]})})})}function x(t,e){var r=t.selectAll("rect."+c.tickRectClass).data(e.steps);r.enter().append("rect").classed(c.tickRectClass,!0),r.exit().remove(),r.attr({width:e.tickwidth+"px","shape-rendering":"crispEdges"}),r.each(function(t,r){var i=r%e.labelStride==0,s=n.select(this);s.attr({height:i?e.ticklen:e.minorticklen}).call(o.fill,e.tickcolor),a.setTranslate(s,_(e,r/(e.steps.length-1))-.5*e.tickwidth,(i?c.tickOffset:c.minorTickOffset)+e.currentValueTotalHeight)})}function w(t,e,r,n){var i=t.select("rect."+c.gripRectClass),o=_(e,r);if(!e._invokingCommand){var a=i;n&&e.transition.duration>0&&(a=a.transition().duration(e.transition.duration).ease(e.transition.easing)),a.attr("transform","translate("+(o-.5*c.gripWidth)+","+e.currentValueTotalHeight+")")}}function _(t,e){return t.inputAreaStart+c.stepInset+(t.inputAreaLength-2*c.stepInset)*Math.min(1,Math.max(0,e))}function k(t,e){return Math.min(1,Math.max(0,(e-c.stepInset-t.inputAreaStart)/(t.inputAreaLength-2*c.stepInset-2*t.inputAreaStart)))}function T(t,e,r){var n=t.selectAll("rect."+c.railTouchRectClass).data([0]);n.enter().append("rect").classed(c.railTouchRectClass,!0).call(b,e,t,r).style("pointer-events","all"),n.attr({width:r.inputAreaLength,height:Math.max(r.inputAreaWidth,c.tickOffset+r.ticklen+r.labelHeight)}).call(o.fill,r.bgcolor).attr("opacity",0),a.setTranslate(n,0,r.currentValueTotalHeight)}function A(t,e){var r=t.selectAll("rect."+c.railRectClass).data([0]);r.enter().append("rect").classed(c.railRectClass,!0);var n=e.inputAreaLength-2*c.railInset;r.attr({width:n,height:c.railWidth,rx:c.railRadius,ry:c.railRadius,"shape-rendering":"crispEdges"}).call(o.stroke,e.bordercolor).call(o.fill,e.bgcolor).style("stroke-width",e.borderwidth+"px"),a.setTranslate(r,c.railInset,.5*(e.inputAreaWidth-c.railWidth)+e.currentValueTotalHeight)}t.exports=function(t){var e=t._fullLayout,r=function(t,e){for(var r=t[c.name],n=[],i=0;i<r.length;i++){var o=r[i];o.visible&&o.steps.length&&(o.gd=e,n.push(o))}return n}(e,t),o=e._infolayer.selectAll("g."+c.containerClassName).data(r.length>0?[0]:[]);if(o.enter().append("g").classed(c.containerClassName,!0).style("cursor","ew-resize"),o.exit().remove(),o.exit().size()&&function(t){for(var e=t._fullLayout._pushmargin||{},r=Object.keys(e),n=0;n<r.length;n++){var o=r[n];-1!==o.indexOf(c.autoMarginIdRoot)&&i.autoMargin(t,o)}}(t),0!==r.length){var s=o.selectAll("g."+c.groupClassName).data(r,h);s.enter().append("g").classed(c.groupClassName,!0),s.exit().each(function(e){n.select(this).remove(),e._commandObserver.remove(),delete e._commandObserver,i.autoMargin(t,c.autoMarginIdRoot+e._index)});for(var l=0;l<r.length;l++){var u=r[l];f(t,u)}s.each(function(e){if(!(e.steps.length<2)){var r=n.select(this);!function(t){t.labelSteps=[];for(var e=t.steps.length,r=0;r<e;r+=t.labelStride)t.labelSteps.push({fraction:r/(e-1),step:t.steps[r]})}(e),i.manageCommandObserver(t,e,e.steps,function(e){var n=r.data()[0];n.active!==e.index&&(n._dragging||m(t,r,n,e.index,!1,!0))}),function(t,e,r){r.active>=r.steps.length&&(r.active=0);e.call(d,r).call(A,r).call(y,r).call(x,r).call(T,t,r).call(p,t,r),a.setTranslate(e,r.lx+r.pad.l,r.ly+r.pad.t),e.call(w,r,r.active/(r.steps.length-1),!1),e.call(d,r)}(t,n.select(this),e)}})}}},function(t,e,r){"use strict";t.exports={moduleType:"component",name:"rangeslider",schema:{subplots:{xaxis:{rangeslider:r(121)}}},layoutAttributes:r(121),handleDefaults:r(435),calcAutorange:r(436),draw:r(437)}},function(t,e,r){"use strict";var n=r(1),i=r(121);t.exports=function(t,e,r){if(t[r].rangeslider){n.isPlainObject(t[r].rangeslider)||(t[r].rangeslider={});var o=t[r].rangeslider,a=e[r],s=a.rangeslider={};if(u("visible")){if(u("bgcolor",e.plot_bgcolor),u("bordercolor"),u("borderwidth"),u("thickness"),u("autorange",!a.isValidRange(o.range)),u("range"),s.range){var l=s.range,c=a.range;l[0]=a.l2r(Math.min(a.r2l(l[0]),a.r2l(c[0]))),l[1]=a.l2r(Math.max(a.r2l(l[1]),a.r2l(c[1])))}a.cleanRange("rangeslider.range"),s._input=o}}function u(t,e){return n.coerce(o,s,i,t,e)}}},function(t,e,r){"use strict";var n=r(11),i=r(187);t.exports=function(t){for(var e=n.list(t,"x",!0),r=0;r<e.length;r++){var o=e[r],a=o[i.name];a&&a.visible&&a.autorange&&o._min.length&&o._max.length&&(a._input.autorange=!0,a._input.range=a.range=n.getAutoRange(o))}}},function(t,e,r){"use strict";var n=r(3),i=r(12),o=r(14),a=r(1),s=r(9),l=r(4),c=r(112),u=r(11),h=r(33),f=r(43),d=r(187);function p(t,e,r,n){var i=t.selectAll("rect."+d.bgClassName).data([0]);i.enter().append("rect").classed(d.bgClassName,!0).attr({x:0,y:0,"shape-rendering":"crispEdges"});var o=n.borderwidth%2==0?n.borderwidth:n.borderwidth-1,a=-n._offsetShift,l=s.crispRound(e,n.borderwidth);i.attr({width:n._width+o,height:n._height+o,transform:"translate("+a+","+a+")",fill:n.bgcolor,stroke:n.bordercolor,"stroke-width":l})}function v(t,e,r,n){var i=e._fullLayout._topdefs.selectAll("#"+n._clipId).data([0]);i.enter().append("clipPath").attr("id",n._clipId).append("rect").attr({x:0,y:0}),i.select("rect").attr({width:n._width,height:n._height})}function y(t,e,r,i){var l,h=u.getSubplots(e,r),f=e.calcdata,p=t.selectAll("g."+d.rangePlotClassName).data(h,a.identity);p.enter().append("g").attr("class",function(t){return d.rangePlotClassName+" "+t}).call(s.setClipUrl,i._clipId),p.order(),p.exit().remove(),p.each(function(t,a){var s=n.select(this),h=0===a,d=u.getFromId(e,t,"y"),p=d._name,v={data:[],layout:{xaxis:{type:r.type,domain:[0,1],range:i.range.slice(),calendar:r.calendar},width:i._width,height:i._height,margin:{t:0,b:0,l:0,r:0}},_context:e._context};v.layout[p]={type:d.type,domain:[0,1],range:d.range.slice(),calendar:d.calendar},o.supplyDefaults(v);var y={id:t,plotgroup:s,xaxis:v._fullLayout.xaxis,yaxis:v._fullLayout[p]};h?l=y:(y.mainplot="xy",y.mainplotinfo=l),c.rangePlot(e,y,function(t,e){for(var r=[],n=0;n<t.length;n++){var i=t[n],o=i[0].trace;o.xaxis+o.yaxis===e&&r.push(i)}return r}(f,t))})}function g(t,e,r,n){var i=t.selectAll("rect."+d.maskMinClassName).data([0]);i.enter().append("rect").classed(d.maskMinClassName,!0).attr({x:0,y:0}).attr("shape-rendering","crispEdges"),i.attr("height",n._height).call(l.fill,d.maskColor);var o=t.selectAll("rect."+d.maskMaxClassName).data([0]);o.enter().append("rect").classed(d.maskMaxClassName,!0).attr("y",0).attr("shape-rendering","crispEdges"),o.attr("height",n._height).call(l.fill,d.maskColor)}function m(t,e,r,n){if(!e._context.staticPlot){var i=t.selectAll("rect."+d.slideBoxClassName).data([0]);i.enter().append("rect").classed(d.slideBoxClassName,!0).attr("y",0).attr("cursor",d.slideBoxCursor).attr("shape-rendering","crispEdges"),i.attr({height:n._height,fill:d.slideBoxFill})}}function b(t,e,r,n){var i=t.selectAll("g."+d.grabberMinClassName).data([0]);i.enter().append("g").classed(d.grabberMinClassName,!0);var o=t.selectAll("g."+d.grabberMaxClassName).data([0]);o.enter().append("g").classed(d.grabberMaxClassName,!0);var a={x:0,width:d.handleWidth,rx:d.handleRadius,fill:l.background,stroke:l.defaultLine,"stroke-width":d.handleStrokeWidth,"shape-rendering":"crispEdges"},s={y:Math.round(n._height/4),height:Math.round(n._height/2)},c=i.selectAll("rect."+d.handleMinClassName).data([0]);c.enter().append("rect").classed(d.handleMinClassName,!0).attr(a),c.attr(s);var u=o.selectAll("rect."+d.handleMaxClassName).data([0]);if(u.enter().append("rect").classed(d.handleMaxClassName,!0).attr(a),u.attr(s),!e._context.staticPlot){var h={width:d.grabAreaWidth,x:0,y:0,fill:d.grabAreaFill,cursor:d.grabAreaCursor},f=i.selectAll("rect."+d.grabAreaMinClassName).data([0]);f.enter().append("rect").classed(d.grabAreaMinClassName,!0).attr(h),f.attr("height",n._height);var p=o.selectAll("rect."+d.grabAreaMaxClassName).data([0]);p.enter().append("rect").classed(d.grabAreaMaxClassName,!0).attr(h),p.attr("height",n._height)}}t.exports=function(t){var e=t._fullLayout,r=function(t){var e=u.list({_fullLayout:t},"x",!0),r=d.name,n=[];if(t._has("gl2d"))return n;for(var i=0;i<e.length;i++){var o=e[i];o[r]&&o[r].visible&&n.push(o)}return n}(e);var s=e._infolayer.selectAll("g."+d.containerClassName).data(r,function(t){return t._name});s.enter().append("g").classed(d.containerClassName,!0).attr("pointer-events","all"),s.exit().each(function(t){var r=n.select(this),i=t[d.name];r.remove(),e._topdefs.select("#"+i._clipId).remove()}),s.exit().size()&&function(t){for(var e=t._fullLayout._pushmargin||{},r=Object.keys(e),n=0;n<r.length;n++){var i=r[n];-1!==i.indexOf(d.name)&&o.autoMargin(t,i)}}(t),0!==r.length&&s.each(function(r){var s=n.select(this),l=r[d.name],c=e[u.id2name(r.anchor)],x=e.margin,w=e._size,_=r.domain,k=c.domain,T=(r._boundingBox||{}).height||0;l._id=d.name+r._id,l._clipId=l._id+"-"+e._uid,l._width=w.w*(_[1]-_[0]),l._height=(e.height-x.b-x.t)*l.thickness,l._offsetShift=Math.floor(l.borderwidth/2);var A=Math.round(x.l+w.w*_[0]),M=Math.round(x.t+w.h*(1-k[0])+T+l._offsetShift+d.extraPad);s.attr("transform","translate("+A+","+M+")");var S=r.r2l(l.range[0]),O=r.r2l(l.range[1]),C=O-S;l.p2d=function(t){return t/l._width*C+S},l.d2p=function(t){return(t-S)/C*l._width},l._rl=[S,O],s.call(p,t,r,l).call(v,t,r,l).call(y,t,r,l).call(g,t,r,l).call(m,t,r,l).call(b,t,r,l),function(t,e,r,o){var s=t.select("rect."+d.slideBoxClassName).node(),l=t.select("rect."+d.grabAreaMinClassName).node(),c=t.select("rect."+d.grabAreaMaxClassName).node();t.on("mousedown",function(){var u=n.event,d=u.target,p=u.clientX,v=p-t.node().getBoundingClientRect().left,y=o.d2p(r._rl[0]),g=o.d2p(r._rl[1]),m=h.coverSlip();function b(t){var u,h,b,x=+t.clientX-p;switch(d){case s:b="ew-resize",u=y+x,h=g+x;break;case l:b="col-resize",u=y+x,h=g;break;case c:b="col-resize",u=y,h=g+x;break;default:b="ew-resize",u=v,h=v+x}if(h<u){var w=h;h=u,u=w}o._pixelMin=u,o._pixelMax=h,f(n.select(m),b),function(t,e,r,n){function o(t){return r.l2r(a.constrain(t,n._rl[0],n._rl[1]))}var s=o(n.p2d(n._pixelMin)),l=o(n.p2d(n._pixelMax));window.requestAnimationFrame(function(){i.relayout(e,r._name+".range",[s,l])})}(0,e,r,o)}m.addEventListener("mousemove",b),m.addEventListener("mouseup",function t(){m.removeEventListener("mousemove",b);m.removeEventListener("mouseup",t);a.removeElement(m)})})}(s,t,r,l),function(t,e,r,n){var i=d.handleWidth/2;function o(t){return a.constrain(t,0,n._width)}function s(t){return a.constrain(t,-i,n._width+i)}var l=o(n.d2p(r._rl[0])),c=o(n.d2p(r._rl[1]));t.select("rect."+d.slideBoxClassName).attr("x",l).attr("width",c-l),t.select("rect."+d.maskMinClassName).attr("width",l),t.select("rect."+d.maskMaxClassName).attr("x",c).attr("width",n._width-c);var u=Math.round(s(l-i))-.5,h=Math.round(s(c-i))+.5;t.select("g."+d.grabberMinClassName).attr("transform","translate("+u+",0.5)"),t.select("g."+d.grabberMaxClassName).attr("transform","translate("+h+",0.5)")}(s,0,r,l),o.autoMargin(t,l._id,{x:_[0],y:k[0],l:0,r:0,t:0,b:l._height+x.b+T,pad:d.extraPad+2*l._offsetShift})})}},function(t,e,r){"use strict";t.exports={moduleType:"component",name:"rangeselector",schema:{subplots:{xaxis:{rangeselector:r(122)}}},layoutAttributes:r(122),handleDefaults:r(439),draw:r(440)}},function(t,e,r){"use strict";var n=r(1),i=r(4),o=r(122),a=r(188),s=r(189);t.exports=function(t,e,r,l,c){var u=t.rangeselector||{},h=e.rangeselector={};function f(t,e){return n.coerce(u,h,o,t,e)}if(f("visible",function(t,e,r){var i,o,s=t.buttons||[],l=e.buttons=[];function c(t,e){return n.coerce(i,o,a,t,e)}for(var u=0;u<s.length;u++)if(i=s[u],o={},n.isPlainObject(i)){var h=c("step");"all"!==h&&(!r||"gregorian"===r||"month"!==h&&"year"!==h?c("stepmode"):o.stepmode="backward",c("count")),c("label"),o._index=u,l.push(o)}return l}(u,h,c).length>0)){var d=function(t,e,r){for(var n=r.filter(function(r){return e[r].anchor===t._id}),i=0,o=0;o<n.length;o++){var a=e[n[o]].domain;a&&(i=Math.max(a[1],i))}return[t.domain[0],i+s.yPad]}(e,r,l);f("x",d[0]),f("y",d[1]),n.noneOrAll(t,e,["x","y"]),f("xanchor"),f("yanchor"),n.coerceFont(f,"font",r.font);var p=f("bgcolor");f("activecolor",i.contrast(p,s.lightAmount,s.darkAmount)),f("bordercolor"),f("borderwidth")}}},function(t,e,r){"use strict";var n=r(3),i=r(12),o=r(14),a=r(4),s=r(9),l=r(23),c=r(24),u=r(70),h=r(25).LINE_SPACING,f=r(189),d=r(441);function p(t){return t._id}function v(t,e,r){var n=t.selectAll("rect").data([0]);n.enter().append("rect").classed("selector-rect",!0),n.attr("shape-rendering","crispEdges"),n.attr({rx:f.rx,ry:f.ry}),n.call(a.stroke,e.bordercolor).call(a.fill,function(t,e){return e.isActive||e.isHovered?t.activecolor:t.bgcolor}(e,r)).style("stroke-width",e.borderwidth+"px")}function y(t,e,r,n){var i,o=t.selectAll("text").data([0]);o.enter().append("text").classed("selector-text",!0).classed("user-select-none",!0),o.attr("text-anchor","middle"),o.call(s.font,e.font).text((i=r,i.label?i.label:"all"===i.step?"all":i.count+i.step.charAt(0))).call(function(t){l.convertToTspans(t,n)})}t.exports=function(t){var e=t._fullLayout._infolayer.selectAll(".rangeselector").data(function(t){for(var e=c.list(t,"x",!0),r=[],n=0;n<e.length;n++){var i=e[n];i.rangeselector&&i.rangeselector.visible&&r.push(i)}return r}(t),p);e.enter().append("g").classed("rangeselector",!0),e.exit().remove(),e.style({cursor:"pointer","pointer-events":"all"}),e.each(function(e){var r=n.select(this),a=e,c=a.rangeselector,p=r.selectAll("g.button").data(c.buttons);p.enter().append("g").classed("button",!0),p.exit().remove(),p.each(function(e){var r=n.select(this),o=d(a,e);e.isActive=function(t,e,r){if("all"===e.step)return!0===t.autorange;var n=Object.keys(r);return t.range[0]===r[n[0]]&&t.range[1]===r[n[1]]}(a,e,o),r.call(v,c,e),r.call(y,c,e,t),r.on("click",function(){t._dragged||i.relayout(t,o)}),r.on("mouseover",function(){e.isHovered=!0,r.call(v,c,e)}),r.on("mouseout",function(){e.isHovered=!1,r.call(v,c,e)})}),function(t,e,r,i){r.width=0,r.height=0;var a=r.borderwidth;e.each(function(){var t=n.select(this),e=t.select(".selector-text"),i=r.font.size*h,o=Math.max(i*l.lineCount(e),16)+3;r.height=Math.max(r.height,o)}),e.each(function(){var t=n.select(this),e=t.select(".selector-rect"),i=t.select(".selector-text"),o=i.node()&&s.bBox(i.node()).width,c=r.font.size*h,u=l.lineCount(i),d=Math.max(o+10,f.minButtonWidth);t.attr("transform","translate("+(a+r.width)+","+a+")"),e.attr({x:0,y:0,width:d,height:r.height}),l.positionText(i,d/2,r.height/2-(u-1)*c/2+3),r.width+=d+5}),e.selectAll("rect").attr("height",r.height);var c=t._fullLayout._size;r.lx=c.l+c.w*r.x,r.ly=c.t+c.h*(1-r.y);var d="left";u.isRightAnchor(r)&&(r.lx-=r.width,d="right");u.isCenterAnchor(r)&&(r.lx-=r.width/2,d="center");var p="top";u.isBottomAnchor(r)&&(r.ly-=r.height,p="bottom");u.isMiddleAnchor(r)&&(r.ly-=r.height/2,p="middle");r.width=Math.ceil(r.width),r.height=Math.ceil(r.height),r.lx=Math.round(r.lx),r.ly=Math.round(r.ly),o.autoMargin(t,i+"-range-selector",{x:r.x,y:r.y,l:r.width*({right:1,center:.5}[d]||0),r:r.width*({left:1,center:.5}[d]||0),b:r.height*({top:1,middle:.5}[p]||0),t:r.height*({bottom:1,middle:.5}[p]||0)})}(t,p,c,a._name),r.attr("transform","translate("+c.lx+","+c.ly+")")})}},function(t,e,r){"use strict";var n=r(3);t.exports=function(t,e){var r=t._name,i={};if("all"===e.step)i[r+".autorange"]=!0;else{var o=function(t,e){var r,i=t.range,o=new Date(t.r2l(i[1])),a=e.step,s=e.count;switch(e.stepmode){case"backward":r=t.l2r(+n.time[a].utc.offset(o,-s));break;case"todate":var l=n.time[a].utc.offset(o,-s);r=t.l2r(+n.time[a].utc.ceil(l))}var c=i[1];return[r,c]}(t,e);i[r+".range[0]"]=o[0],i[r+".range[1]"]=o[1]}return i}},function(t,e,r){"use strict";t.exports={moduleType:"locale",name:"en",dictionary:{"Click to enter Colorscale title":"Click to enter Colourscale title"},format:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],periods:["AM","PM"],dateTime:"%a %b %e %X %Y",date:"%d/%m/%Y",time:"%H:%M:%S",decimal:".",thousands:",",grouping:[3],currency:["$",""]}}},function(t,e,r){"use strict";t.exports={moduleType:"locale",name:"en-US",dictionary:{"Click to enter Colorscale title":"Click to enter Colorscale title"},format:{date:"%m/%d/%Y"}}},function(t,e,r){"use strict";var n=r(105),i={getDelay:n.getDelay,getRedrawFunc:n.getRedrawFunc,clone:r(190),toSVG:r(106),svgToImg:r(107),toImage:r(445),downloadImage:r(104)};t.exports=i},function(t,e,r){"use strict";var n=r(108).EventEmitter,i=r(12),o=r(1),a=r(105),s=r(190),l=r(106),c=r(107);t.exports=function(t,e){var r=new n,u=s(t,{format:"png"}),h=u.gd;h.style.position="absolute",h.style.left="-5000px",document.body.appendChild(h);var f=a.getRedrawFunc(h);return i.plot(h,u.data,u.layout,u.config).then(f).then(function(){var t=a.getDelay(h._fullLayout);setTimeout(function(){var t=l(h),n=document.createElement("canvas");n.id=o.randstr(),(r=c({format:e.format,width:h._fullLayout.width,height:h._fullLayout.height,canvas:n,emitter:r,svg:t})).clean=function(){h&&document.body.removeChild(h)}},t)}).catch(function(t){r.emit("error",t)}),r}},function(t,e,r){"use strict";t.exports=r(447)},function(t,e,r){"use strict";var n={};n.attributes=r(123),n.layoutAttributes=r(191),n.supplyDefaults=r(448),n.supplyLayoutDefaults=r(450),n.calc=r(451),n.setPositions=r(452),n.colorbar=r(173),n.arraysToCalcdata=r(192),n.plot=r(454),n.style=r(455),n.hoverPoints=r(456),n.selectPoints=r(457),n.moduleType="trace",n.name="bar",n.basePlotModule=r(112),n.categories=["cartesian","bar","oriented","markerColorscale","errorBarsOK","showLegend"],n.meta={description:["The data visualized by the span of the bars is set in `y`","if `orientation` is set th *v* (the default)","and the labels are set in `x`.","By setting `orientation` to *h*, the roles are interchanged."].join(" ")},t.exports=n},function(t,e,r){"use strict";var n=r(1),i=r(4),o=r(170),a=r(449),s=r(101),l=r(123);t.exports=function(t,e,r,c){function u(r,i){return n.coerce(t,e,l,r,i)}var h=n.coerceFont;if(o(t,e,c,u)){u("orientation",e.x&&!e.y?"h":"v"),u("base"),u("offset"),u("width"),u("text"),u("hovertext");var f=u("textposition"),d=Array.isArray(f)||"auto"===f,p=d||"inside"===f,v=d||"outside"===f;if(p||v){var y=h(u,"textfont",c.font);p&&h(u,"insidetextfont",y),v&&h(u,"outsidetextfont",y),u("constraintext"),u("selected.textfont.color"),u("unselected.textfont.color")}a(t,e,u,r,c),s(t,e,i.defaultLine,{axis:"y"}),s(t,e,i.defaultLine,{axis:"x",inherit:"y"}),n.coerceSelectionMarkerOpacity(e,u)}else e.visible=!1}},function(t,e,r){"use strict";var n=r(4),i=r(41),o=r(68);t.exports=function(t,e,r,a,s){r("marker.color",a),i(t,"marker")&&o(t,e,s,r,{prefix:"marker.",cLetter:"c"}),r("marker.line.color",n.defaultLine),i(t,"marker.line")&&o(t,e,s,r,{prefix:"marker.line.",cLetter:"c"}),r("marker.line.width"),r("marker.opacity"),r("selected.marker.color"),r("unselected.marker.color")}},function(t,e,r){"use strict";var n=r(5),i=r(11),o=r(1),a=r(191);t.exports=function(t,e,r){function s(r,n){return o.coerce(t,e,a,r,n)}for(var l=!1,c=!1,u=!1,h={},f=0;f<r.length;f++){var d=r[f];if(n.traceIs(d,"bar")){if(l=!0,"overlay"!==t.barmode&&"stack"!==t.barmode){var p=d.xaxis+d.yaxis;h[p]&&(u=!0),h[p]=!0}if(d.visible&&"histogram"===d.type)"category"!==i.getFromId({_fullLayout:e},d["v"===d.orientation?"xaxis":"yaxis"]).type&&(c=!0)}}l&&("overlay"!==s("barmode")&&s("barnorm"),s("bargap",c&&!u?0:.2),s("bargroupgap"))}},function(t,e,r){"use strict";var n=r(6),i=r(11),o=r(41),a=r(99),s=r(192),l=r(172);t.exports=function(t,e){var r,c,u,h,f,d=i.getFromId(t,e.xaxis||"x"),p=i.getFromId(t,e.yaxis||"y");"h"===(e.orientation||(e.x&&!e.y?"h":"v"))?(r=d,u=d.makeCalcdata(e,"x"),c=p.makeCalcdata(e,"y"),f=e.xcalendar):(r=p,u=p.makeCalcdata(e,"y"),c=d.makeCalcdata(e,"x"),f=e.ycalendar);var v=Math.min(c.length,u.length),y=new Array(v);for(h=0;h<v;h++)y[h]={p:c[h],s:u[h]},e.ids&&(y[h].id=String(e.ids[h]));var g,m=e.base;if(Array.isArray(m)){for(h=0;h<Math.min(m.length,y.length);h++)g=r.d2c(m[h],0,f),n(g)?(y[h].b=+g,y[h].hasB=1):y[h].b=0;for(;h<y.length;h++)y[h].b=0}else{g=r.d2c(m,0,f);var b=n(g);for(g=b?g:0,h=0;h<y.length;h++)y[h].b=g,b&&(y[h].hasB=1)}return o(e,"marker")&&a(e,e.marker.color,"marker","c"),o(e,"marker.line")&&a(e,e.marker.line.color,"marker.line","c"),s(y,e),l(y,e),y}},function(t,e,r){"use strict";var n=r(6),i=r(21).BADNUM,o=r(5),a=r(11),s=r(453);function l(t,e,r,o){if(o.length){var l,b,x,w,_=t._fullLayout.barmode,k="group"===_;if("overlay"===_)c(t,e,r,o);else if(k){for(l=[],b=[],x=0;x<o.length;x++)void 0===(w=o[x])[0].trace.offset?b.push(w):l.push(w);b.length&&function(t,e,r,n){var i=t._fullLayout.barnorm,o=new s(n,!1,!i);(function(t,e,r){var n,i,o,a,s=t._fullLayout,l=s.bargap,c=s.bargroupgap,u=r.positions,p=r.distinctPositions,v=r.minDiff,y=r.traces,g=u.length!==p.length,m=y.length,b=v*(1-l),x=g?b/m:b,w=x*(1-c);for(n=0;n<m;n++){i=y[n],o=i[0];var _=g?((2*n+1-m)*x-w)/2:-w/2;(a=o.t).barwidth=w,a.poffset=_,a.bargroupwidth=b,a.bardelta=v}r.binWidth=y[0][0].t.barwidth/100,h(r),f(t,e,r),d(t,e,r,g)})(t,e,o),i?(y(t,r,o),g(t,r,o)):v(t,r,o)}(t,e,r,b),l.length&&c(t,e,r,l)}else{for(l=[],b=[],x=0;x<o.length;x++)void 0===(w=o[x])[0].trace.base?b.push(w):l.push(w);b.length&&function(t,e,r,o){var l=t._fullLayout.barmode,c="stack"===l,h="relative"===l,f=t._fullLayout.barnorm,d=new s(o,h,!(f||c||h));u(t,e,d),function(t,e,r){var o,s,l,c,u=t._fullLayout.barnorm,h=m(e),f=r.traces,d=[null,null];for(o=0;o<f.length;o++)for(s=f[o],l=0;l<s.length;l++)if((c=s[l]).s!==i){var v=r.put(c.p,c.b+c.s),y=v+c.b+c.s;c.b=v,c[h]=y,u||(n(e.c2l(y))&&p(d,y),c.hasB&&n(e.c2l(v))&&p(d,v))}u||a.expand(e,d,{tozero:!0,padded:!0})}(t,r,d);for(var v=0;v<o.length;v++)for(var y=o[v],b=0;b<y.length;b++){var x=y[b];if(x.s!==i){var w=x.b+x.s===d.get(x.p,x.s);w&&(x._outmost=!0)}}f&&g(t,r,d)}(t,e,r,b),l.length&&c(t,e,r,l)}}}function c(t,e,r,n){for(var i=t._fullLayout.barnorm,o=!i,a=0;a<n.length;a++){var l=n[a],c=new s([l],!1,o);u(t,e,c),i?(y(t,r,c),g(t,r,c)):v(t,r,c)}}function u(t,e,r){var n,i,o=t._fullLayout,a=o.bargap,s=o.bargroupgap,l=r.minDiff,c=r.traces,u=l*(1-a),p=u*(1-s),v=-p/2;for(n=0;n<c.length;n++)(i=c[n][0].t).barwidth=p,i.poffset=v,i.bargroupwidth=u,i.bardelta=l;r.binWidth=c[0][0].t.barwidth/100,h(r),f(t,e,r),d(t,e,r)}function h(t){var e,r,i,o,a,s,l=t.traces;for(e=0;e<l.length;e++){o=(i=(r=l[e])[0]).trace,s=i.t;var c,u=o.offset,h=s.poffset;if(Array.isArray(u)){for(c=u.slice(0,r.length),a=0;a<c.length;a++)n(c[a])||(c[a]=h);for(a=c.length;a<r.length;a++)c.push(h);s.poffset=c}else void 0!==u&&(s.poffset=u);var f=o.width,d=s.barwidth;if(Array.isArray(f)){var p=f.slice(0,r.length);for(a=0;a<p.length;a++)n(p[a])||(p[a]=d);for(a=p.length;a<r.length;a++)p.push(d);if(s.barwidth=p,void 0===u){for(c=[],a=0;a<r.length;a++)c.push(h+(d-p[a])/2);s.poffset=c}}else void 0!==f&&(s.barwidth=f,void 0===u&&(s.poffset=h+(d-f)/2))}}function f(t,e,r){for(var n=r.traces,i=m(e),o=0;o<n.length;o++)for(var a=n[o],s=a[0].t,l=s.poffset,c=Array.isArray(l),u=s.barwidth,h=Array.isArray(u),f=0;f<a.length;f++){var d=a[f],p=d.w=h?u[f]:u;d[i]=d.p+(c?l[f]:l)+p/2}}function d(t,e,r,n){var i=r.traces,o=r.distinctPositions,s=o[0],l=r.minDiff,c=l/2;a.minDtick(e,l,s,n);for(var u=Math.min.apply(Math,o)-c,h=Math.max.apply(Math,o)+c,f=0;f<i.length;f++){var d=i[f],p=d[0],v=p.trace;if(void 0!==v.width||void 0!==v.offset)for(var y=p.t,g=y.poffset,m=y.barwidth,b=Array.isArray(g),x=Array.isArray(m),w=0;w<d.length;w++){var _=d[w],k=b?g[w]:g,T=x?m[w]:m,A=_.p+k,M=A+T;u=Math.min(u,A),h=Math.max(h,M)}}a.expand(e,[u,h],{padded:!1})}function p(t,e){n(t[0])?t[0]=Math.min(t[0],e):t[0]=e,n(t[1])?t[1]=Math.max(t[1],e):t[1]=e}function v(t,e,r){for(var i=r.traces,o=m(e),s=[null,null],l=0;l<i.length;l++)for(var c=i[l],u=0;u<c.length;u++){var h=c[u],f=h.b,d=f+h.s;h[o]=d,n(e.c2l(d))&&p(s,d),h.hasB&&n(e.c2l(f))&&p(s,f)}a.expand(e,s,{tozero:!0,padded:!0})}function y(t,e,r){for(var n=r.traces,o=0;o<n.length;o++)for(var a=n[o],s=0;s<a.length;s++){var l=a[s];l.s!==i&&r.put(l.p,l.b+l.s)}}function g(t,e,r){var o=r.traces,s=m(e),l="fraction"===t._fullLayout.barnorm?1:100,c=l/1e9,u=e.l2c(e.c2l(0)),h="stack"===t._fullLayout.barmode?l:u,f=[u,h],d=!1;function v(t){n(e.c2l(t))&&(t<u-c||t>h+c||!n(u))&&(d=!0,p(f,t))}for(var y=0;y<o.length;y++)for(var g=o[y],b=0;b<g.length;b++){var x=g[b];if(x.s!==i){var w=Math.abs(l/r.get(x.p,x.s));x.b*=w,x.s*=w;var _=x.b,k=_+x.s;x[s]=k,v(k),x.hasB&&v(_)}}a.expand(e,f,{tozero:!0,padded:d})}function m(t){return t._id.charAt(0)}t.exports=function(t,e){var r,n=e.xaxis,i=e.yaxis,a=t._fullData,s=t.calcdata,c=[],u=[];for(r=0;r<a.length;r++){var h=a[r];!0===h.visible&&o.traceIs(h,"bar")&&h.xaxis===n._id&&h.yaxis===i._id&&("h"===h.orientation?c.push(s[r]):u.push(s[r]))}l(t,n,i,u),l(t,i,n,c)}},function(t,e,r){"use strict";t.exports=o;var n=r(1),i=r(21).BADNUM;function o(t,e,r){this.traces=t,this.separateNegativeValues=e,this.dontMergeOverlappingData=r;for(var o=1/0,a=[],s=0;s<t.length;s++){for(var l=t[s],c=0;c<l.length;c++){var u=l[c];u.p!==i&&a.push(u.p)}l[0]&&l[0].width1&&(o=Math.min(l[0].width1,o))}this.positions=a;var h=n.distinctVals(a);this.distinctPositions=h.vals,1===h.vals.length&&o!==1/0?this.minDiff=o:this.minDiff=Math.min(h.minDiff,o),this.binWidth=this.minDiff,this.bins={}}o.prototype.put=function(t,e){var r=this.getLabel(t,e),n=this.bins[r]||0;return this.bins[r]=n+e,n},o.prototype.get=function(t,e){var r=this.getLabel(t,e);return this.bins[r]||0},o.prototype.getLabel=function(t,e){return(e<0&&this.separateNegativeValues?"v":"^")+(this.dontMergeOverlappingData?t:Math.round(t/this.binWidth))}},function(t,e,r){"use strict";var n=r(3),i=r(6),o=r(28),a=r(1),s=r(23),l=r(4),c=r(9),u=r(35),h=r(123),f=h.text,d=h.textposition,p=h.textfont,v=h.insidetextfont,y=h.outsidetextfont,g=3;function m(t,e,r,n,i,o){var a;return i<1?a="scale("+i+") ":(i=1,a=""),"translate("+(r-i*t)+" "+(n-i*e)+")"+a+(o?"rotate("+o+" "+t+" "+e+") ":"")}function b(t,e,r,n){var a=x((e=e||{}).family,r),s=x(e.size,r),l=x(e.color,r);return{family:w(t.family,a,n.family),size:function(t,e,r){if(i(e)){e=+e;var n=t.min,o=t.max,a=void 0!==n&&e<n||void 0!==o&&e>o;if(!a)return e}return void 0!==r?r:t.dflt}(t.size,s,n.size),color:function(t,e,r){return o(e).isValid()?e:void 0!==r?r:t.dflt}(t.color,l,n.color)}}function x(t,e){var r;return Array.isArray(t)?e<t.length&&(r=t[e]):r=t,r}function w(t,e,r){if("string"==typeof e){if(e||!t.noBlank)return e}else if("number"==typeof e&&!t.strict)return String(e);return void 0!==r?r:t.dflt}t.exports=function(t,e,r){var o=e.xaxis,h=e.yaxis,_=t._fullLayout,k=e.plot.select(".barlayer").selectAll("g.trace.bars").data(r);k.enter().append("g").attr("class","trace bars"),k.each(function(t){t[0].node3=n.select(this)}),k.append("g").attr("class","points").each(function(e){var r=n.select(this),u=e[0].t,k=e[0].trace,T=u.poffset,A=Array.isArray(T);r.selectAll("g.point").data(a.identity).enter().append("g").classed("point",!0).each(function(r,a){var u,M,S,O,C=r.p+(A?T[a]:T),L=C+r.w,j=r.b,I=j+r.s;if("h"===k.orientation?(S=h.c2p(C,!0),O=h.c2p(L,!0),u=o.c2p(j,!0),M=o.c2p(I,!0),r.ct=[M,(S+O)/2]):(u=o.c2p(C,!0),M=o.c2p(L,!0),S=h.c2p(j,!0),O=h.c2p(I,!0),r.ct=[(u+M)/2,O]),i(u)&&i(M)&&i(S)&&i(O)&&u!==M&&S!==O){var P=(r.mlw+1||k.marker.line.width+1||(r.trace?r.trace.marker.line.width:0)+1)-1,E=n.round(P/2%1,2);if(!t._context.staticPlot){var z=l.opacity(r.mc||k.marker.color)<1||P>.01?D:function(t,e){return Math.abs(t-e)>=2?D(t):t>e?Math.ceil(t):Math.floor(t)};M=z(M,u=z(u,M)),O=z(O,S=z(S,O))}var N=n.select(this);N.append("path").style("vector-effect","non-scaling-stroke").attr("d","M"+u+","+S+"V"+O+"H"+M+"V"+S+"Z"),function(t,e,r,n,i,o,a,l){var u;function h(e,r,n){var i=e.append("text").text(r).attr({class:"bartext bartext-"+u,transform:"","text-anchor":"middle","data-notex":1}).call(c.font,n).call(s.convertToTspans,t);return i}var _=r[0].trace,k=_.orientation,T=function(t,e){var r=x(t.text,e);return w(f,r)}(_,n);if(!T)return;if("none"===(u=function(t,e){var r=x(t.textposition,e);return function(t,e,r){return t.coerceNumber&&(e=+e),-1!==t.values.indexOf(e)?e:void 0!==r?r:t.dflt}(d,r)}(_,n)))return;var A,M,S,O,C,L,j=function(t,e,r){return b(p,t.textfont,e,r)}(_,n,t._fullLayout.font),I=function(t,e,r){return b(v,t.insidetextfont,e,r)}(_,n,j),P=function(t,e,r){return b(y,t.outsidetextfont,e,r)}(_,n,j),E=t._fullLayout.barmode,z="stack"===E||"relative"===E,N=r[n],D=!z||N._outmost,R=Math.abs(o-i)-2*g,F=Math.abs(l-a)-2*g;"outside"===u&&(D||(u="inside"));if("auto"===u)if(D){u="inside",A=h(e,T,I),M=c.bBox(A.node()),S=M.width,O=M.height;var B=S>0&&O>0,V=S<=R&&O<=F,q=S<=F&&O<=R,H="h"===k?R>=S*(F/O):F>=O*(R/S);B&&(V||q||H)?u="inside":(u="outside",A.remove(),A=null)}else u="inside";if(!A&&(A=h(e,T,"outside"===u?P:I),M=c.bBox(A.node()),S=M.width,O=M.height,S<=0||O<=0))return void A.remove();"outside"===u?(L="both"===_.constraintext||"outside"===_.constraintext,C=function(t,e,r,n,i,o,a){var s,l="h"===o?Math.abs(n-r):Math.abs(e-t);l>2*g&&(s=g);var c=1;a&&(c="h"===o?Math.min(1,l/i.height):Math.min(1,l/i.width));var u,h,f,d,p=(i.left+i.right)/2,v=(i.top+i.bottom)/2;u=c*i.width,h=c*i.height,"h"===o?e<t?(f=e-s-u/2,d=(r+n)/2):(f=e+s+u/2,d=(r+n)/2):n>r?(f=(t+e)/2,d=n+s+h/2):(f=(t+e)/2,d=n-s-h/2);return m(p,v,f,d,c,!1)}(i,o,a,l,M,k,L)):(L="both"===_.constraintext||"inside"===_.constraintext,C=function(t,e,r,n,i,o,a){var s,l,c,u,h,f,d,p=i.width,v=i.height,y=(i.left+i.right)/2,b=(i.top+i.bottom)/2,x=Math.abs(e-t),w=Math.abs(n-r);x>2*g&&w>2*g?(x-=2*(h=g),w-=2*h):h=0;p<=x&&v<=w?(f=!1,d=1):p<=w&&v<=x?(f=!0,d=1):p<v==x<w?(f=!1,d=a?Math.min(x/p,w/v):1):(f=!0,d=a?Math.min(w/p,x/v):1);f&&(f=90);f?(s=d*v,l=d*p):(s=d*p,l=d*v);"h"===o?e<t?(c=e+h+s/2,u=(r+n)/2):(c=e-h-s/2,u=(r+n)/2):n>r?(c=(t+e)/2,u=n-h-l/2):(c=(t+e)/2,u=n+h+l/2);return m(y,b,c,u,d,f)}(i,o,a,l,M,k,L));A.attr("transform",C)}(t,N,e,a,u,M,S,O)}else n.select(this).remove();function D(t){return 0===_.bargap&&0===_.bargroupgap?n.round(Math.round(t)-E,2):t}})}),k.call(u.plot,e)}},function(t,e,r){"use strict";var n=r(3),i=r(9),o=r(35);t.exports=function(t,e){var r=e?e[0].node3:n.select(t).selectAll("g.trace.bars"),a=r.size(),s=t._fullLayout;r.style("opacity",function(t){return t[0].trace.opacity}).each(function(t){("stack"===s.barmode&&a>1||0===s.bargap&&0===s.bargroupgap&&!t[0].trace.marker.line.width)&&n.select(this).attr("shape-rendering","crispEdges")}),r.selectAll("g.points").each(function(e){var r=n.select(this),o=r.selectAll("path"),a=r.selectAll("text"),s=e[0].trace;i.pointStyle(o,s,t),i.selectedPointStyle(o,s),a.each(function(t){var e,r=n.select(this);function o(r){var n=e[r];return Array.isArray(n)?n[t.i]:n}r.classed("bartext-inside")?e=s.insidetextfont:r.classed("bartext-outside")&&(e=s.outsidetextfont),e||(e=s.textfont),i.font(r,o("family"),o("size"),o("color"))}),i.selectedTextStyle(a,s)}),o.style(r)}},function(t,e,r){"use strict";var n=r(32),i=r(35),o=r(4),a=r(176);t.exports=function(t,e,r,s){var l,c,u,h,f,d,p=t.cd,v=p[0].trace,y=p[0].t,g="closest"===s;function m(t){return t[u]-t.w/2}function b(t){return t[u]+t.w/2}var x=g?m:function(t){return Math.min(m(t),t.p-y.bardelta/2)},w=g?b:function(t){return Math.max(b(t),t.p+y.bardelta/2)};function _(t){return n.inbox(x(t)-l,w(t)-l)}function k(t){return n.inbox(t.b-c,t[h]-c)+(t[h]-c)/(t[h]-t.b)}"h"===v.orientation?(l=r,c=e,u="y",h="x",f=k,d=_):(l=e,c=r,u="x",h="y",d=k,f=_);var T=t[u+"a"],A=t[h+"a"],M=n.getDistanceFunction(s,f,d);if(n.getClosest(p,M,t),!1!==t.index){g||(x=function(t){return Math.min(m(t),t.p-y.bargroupwidth/2)},w=function(t){return Math.max(b(t),t.p+y.bargroupwidth/2)});var S=p[t.index],O=S.mcc||v.marker.color,C=S.mlcc||v.marker.line.color,L=S.mlw||v.marker.line.width;o.opacity(O)?t.color=O:o.opacity(C)&&L&&(t.color=C);var j=v.base?S.b+S.s:S.s;return t[h+"0"]=t[h+"1"]=A.c2p(S[h],!0),t[h+"LabelVal"]=j,t[u+"0"]=T.c2p(x(S),!0),t[u+"1"]=T.c2p(w(S),!0),t[u+"LabelVal"]=S.p,a(S,v,t),i.hoverInfo(S,v,t),[t]}}},function(t,e,r){"use strict";t.exports=function(t,e){var r,n=t.cd,i=t.xaxis,o=t.yaxis,a=[];if(!1===e)for(r=0;r<n.length;r++)n[r].selected=0;else for(r=0;r<n.length;r++){var s=n[r];e.contains(s.ct)?(a.push({pointNumber:r,x:i.c2d(s.x),y:o.c2d(s.y)}),s.selected=1):s.selected=0}return a}},function(t,e,r){"use strict";var n=r(27),i=r.n(n),o=(r(193),r(460));r.n(o);i.a.d3},function(t,e,r){"use strict";e.a=class{constructor(t,e={}){this.x=[],this.y=[],this.marker={},this.name=t.key,this.type="bar",t.values.sort((t,e)=>t.key.localeCompare(e.key)).forEach(t=>{"h"==e.orientation?(this.y.push(t.key),this.x.push(t.values)):(this.y.push(t.values),this.x.push(t.key))});let r=Object.assign({},e);Object.entries(r).forEach(t=>{this[t[0]]=t[1]})}}},function(t,e,r){var n=r(461);"string"==typeof n&&(n=[[t.i,n,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};r(74)(n,i);n.locals&&(t.exports=n.locals)},function(t,e,r){(t.exports=r(73)(!1)).push([t.i,".horizontal-bar {\n  display: inline-block;\n  width: 100%;\n  height: 80vh;\n  margin-left: 0;\n  margin-top: 10vh; }\n  .horizontal-bar svg > g.cartesianlayer > g.subplot > g.yaxislayer-above > g.ytick text {\n    padding-right: 10px;\n    position: relative;\n    right: 10px; }\n",""])},function(t,e){t.exports=function(t){var e="undefined"!=typeof window&&window.location;if(!e)throw new Error("fixUrls requires window.location");if(!t||"string"!=typeof t)return t;var r=e.protocol+"//"+e.host,n=r+e.pathname.replace(/\/[^\/]*$/,"/");return t.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(t,e){var i,o=e.trim().replace(/^"(.*)"$/,function(t,e){return e}).replace(/^'(.*)'$/,function(t,e){return e});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/)/i.test(o)?t:(i=0===o.indexOf("//")?o:0===o.indexOf("/")?r+o:n+o.replace(/^\.\//,""),"url("+JSON.stringify(i)+")")})}},function(t,e,r){"use strict";var n=r(27),i=r.n(n),o=(r(193),r(464));r.n(o);const a=i.a.d3;window.d3=a},function(t,e,r){var n=r(465);"string"==typeof n&&(n=[[t.i,n,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};r(74)(n,i);n.locals&&(t.exports=n.locals)},function(t,e,r){(t.exports=r(73)(!1)).push([t.i,"svg.vertical-bar {\n  display: inline-block;\n  width: 100%;\n  height: 100%; }\n  svg.vertical-bar > g > rect.bar {\n    fill: #00c; }\n    svg.vertical-bar > g > rect.bar.data-critical-care {\n      fill: #c00; }\n  svg.vertical-bar > g > g.axis path, svg.vertical-bar > g > g.axis line {\n    fill: none;\n    stroke: #D4D8DA;\n    stroke-width: 1px;\n    shape-rendering: crispEdges; }\n  svg.vertical-bar > g > g.axis.x path {\n    display: none; }\n  svg.vertical-bar > g > g.axis.y .tick text {\n    fill: #00c; }\n  svg.vertical-bar > g > g.axis.y .tick.data-critical-care text {\n    fill: #c00; }\n",""])},function(t,e,r){"use strict";var n=r(27),i=r.n(n),o=r(467),a=r.n(o),s=(r(477),r(479));r.d(e,"a",function(){return s.a}),i.a.register([a.a])},function(t,e,r){"use strict";t.exports=r(468)},function(t,e,r){"use strict";var n={};n.attributes=r(195),n.supplyDefaults=r(470),n.supplyLayoutDefaults=r(471),n.layoutAttributes=r(196),n.calc=r(472),n.plot=r(473),n.style=r(475),n.styleOne=r(114),n.moduleType="trace",n.name="pie",n.basePlotModule=r(476),n.categories=["pie","showLegend"],n.meta={description:["A data visualized by the sectors of the pie is set in `values`.","The sector labels are set in `labels`.","The sector colors are set in `marker.colors`"].join(" ")},t.exports=n},function(t,e,r){"use strict";var n=r(18).extendFlat;t.exports=function(t,e){t=t||{},e=e||{};var r={valType:"info_array",role:"info",editType:t.editType,items:[{valType:"number",min:0,max:1},{valType:"number",min:0,max:1}],dflt:[0,1]},i=t.name?t.name+" ":"",o=t.trace?"trace ":"subplot ",a=e.description?" "+e.description:"";return{x:n({},r,{description:["Sets the horizontal domain of this ",i,o,"(in plot fraction).",a].join("")}),y:n({},r,{description:["Sets the vertical domain of this ",i,o,"(in plot fraction).",a].join("")}),editType:t.editType}}},function(t,e,r){"use strict";var n=r(1),i=r(195);t.exports=function(t,e,r,o){function a(r,o){return n.coerce(t,e,i,r,o)}var s=n.coerceFont,l=a("values"),c=a("labels");if(!Array.isArray(c)){if(!Array.isArray(l)||!l.length)return void(e.visible=!1);a("label0"),a("dlabel")}a("marker.line.width")&&a("marker.line.color");var u=a("marker.colors");Array.isArray(u)||(e.marker.colors=[]),a("scalegroup");var h=a("text"),f=a("textinfo",Array.isArray(h)?"text+percent":"percent");if(a("hovertext"),f&&"none"!==f){var d=a("textposition"),p=Array.isArray(d)||"auto"===d,v=p||"inside"===d,y=p||"outside"===d;if(v||y){var g=s(a,"textfont",o.font);v&&s(a,"insidetextfont",g),y&&s(a,"outsidetextfont",g)}}a("domain.x"),a("domain.y"),a("hole"),a("sort"),a("direction"),a("rotation"),a("pull")}},function(t,e,r){"use strict";var n=r(1),i=r(196);t.exports=function(t,e){var r,o;r="hiddenlabels",n.coerce(t,e,i,r,o)}},function(t,e,r){"use strict";var n,i=r(6),o=r(28),a=r(4),s=r(115);function l(t,e){if(!n){var r=a.defaults;n=c(r)}var i=e||n;return i[t%i.length]}function c(t){var e,r=t.slice();for(e=0;e<t.length;e++)r.push(o(t[e]).lighten(20).toHexString());for(e=0;e<t.length;e++)r.push(o(t[e]).darken(20).toHexString());return r}t.exports=function(t,e){var r,n,u,h,f,d=e.values,p=Array.isArray(d)&&d.length,v=e.labels,y=e.marker.colors,g=[],m=t._fullLayout,b=m.colorway,x=m._piecolormap,w={},_=0,k=m.hiddenlabels||[];if(m._piecolorway||b===a.defaults||(m._piecolorway=c(b)),e.dlabel)for(v=new Array(d.length),r=0;r<d.length;r++)v[r]=String(e.label0+r*e.dlabel);function T(t,e){return!!t&&(!!(t=o(t)).isValid()&&(t=a.addOpacity(t,t.getAlpha()),x[e]||(x[e]=t),t))}var A=(p?d:v).length;for(r=0;r<A;r++){if(p){if(n=d[r],!i(n))continue;if((n=+n)<0)continue}else n=1;void 0!==(u=v[r])&&""!==u||(u=r);var M=w[u=String(u)];void 0===M?(w[u]=g.length,(h=-1!==k.indexOf(u))||(_+=n),g.push({v:n,label:u,color:T(y[r]),i:r,pts:[r],hidden:h})):((f=g[M]).v+=n,f.pts.push(r),f.hidden||(_+=n),!1===f.color&&y[r]&&(f.color=T(y[r],u)))}for(e.sort&&g.sort(function(t,e){return e.v-t.v}),r=0;r<g.length;r++)!1===(f=g[r]).color&&(x[f.label]?f.color=x[f.label]:(x[f.label]=f.color=l(m._piedefaultcolorcount,m._piecolorway),m._piedefaultcolorcount++));if(g[0]&&(g[0].vTotal=_),e.textinfo&&"none"!==e.textinfo){var S,O=-1!==e.textinfo.indexOf("label"),C=-1!==e.textinfo.indexOf("text"),L=-1!==e.textinfo.indexOf("value"),j=-1!==e.textinfo.indexOf("percent"),I=m.separators;for(r=0;r<g.length;r++){if(f=g[r],S=O?[f.label]:[],C){var P=s.getFirstFilled(e.text,f.pts);P&&S.push(P)}L&&S.push(s.formatPieValue(f.v,I)),j&&S.push(s.formatPiePercent(f.v/_,I)),f.text=S.join("<br>")}}return g}},function(t,e,r){"use strict";var n=r(3),i=r(32),o=r(4),a=r(9),s=r(23),l=r(115),c=r(474);function u(t,e){if(t.v===e.vTotal&&!e.trace.hole)return 1;var r=Math.PI*Math.min(t.v/e.vTotal,.5);return Math.min(1/(1+1/Math.sin(r)),(1-e.trace.hole)/2)}function h(t,e){var r=e.pxmid[0],n=e.pxmid[1],i=t.width/2,o=t.height/2;return r<0&&(i*=-1),n<0&&(o*=-1),{scale:1,rCenter:1,rotate:0,x:i+Math.abs(o)*(i>0?1:-1)/2,y:o/(1+r*r/(n*n)),outside:!0}}t.exports=function(t,e){var r=t._fullLayout;!function(t,e){var r,n,i,o,a,s,l,c,u,h=[];for(i=0;i<t.length;i++){if(a=t[i][0],s=a.trace,r=e.w*(s.domain.x[1]-s.domain.x[0]),n=e.h*(s.domain.y[1]-s.domain.y[0]),l=s.pull,Array.isArray(l))for(l=0,o=0;o<s.pull.length;o++)s.pull[o]>l&&(l=s.pull[o]);a.r=Math.min(r,n)/(2+2*l),a.cx=e.l+e.w*(s.domain.x[1]+s.domain.x[0])/2,a.cy=e.t+e.h*(2-s.domain.y[1]-s.domain.y[0])/2,s.scalegroup&&-1===h.indexOf(s.scalegroup)&&h.push(s.scalegroup)}for(o=0;o<h.length;o++){for(u=1/0,c=h[o],i=0;i<t.length;i++)(a=t[i][0]).trace.scalegroup===c&&(u=Math.min(u,a.r*a.r/a.vTotal));for(i=0;i<t.length;i++)(a=t[i][0]).trace.scalegroup===c&&(a.r=Math.sqrt(u*a.vTotal))}}(e,r._size);var f=r._pielayer.selectAll("g.trace").data(e);f.enter().append("g").attr({"stroke-linejoin":"round",class:"trace"}),f.exit().remove(),f.order(),f.each(function(e){var f=n.select(this),d=e[0],p=d.trace;!function(t){var e,r,n,i=t[0],o=i.trace,a=o.rotation*Math.PI/180,s=2*Math.PI/i.vTotal,l="px0",c="px1";if("counterclockwise"===o.direction){for(e=0;e<t.length&&t[e].hidden;e++);if(e===t.length)return;a+=s*t[e].v,s*=-1,l="px1",c="px0"}function u(t){return[i.r*Math.sin(t),-i.r*Math.cos(t)]}for(n=u(a),e=0;e<t.length;e++)(r=t[e]).hidden||(r[l]=n,a+=s*r.v/2,r.pxmid=u(a),r.midangle=a,a+=s*r.v/2,n=u(a),r[c]=n,r.largeArc=r.v>i.vTotal/2?1:0)}(e),f.each(function(){var f=n.select(this).selectAll("g.slice").data(e);f.enter().append("g").classed("slice",!0),f.exit().remove();var v=[[[],[]],[[],[]]],y=!1;f.each(function(e){if(e.hidden)n.select(this).selectAll("path,g").remove();else{e.pointNumber=e.i,e.curveNumber=p.index,v[e.pxmid[1]<0?0:1][e.pxmid[0]<0?0:1].push(e);var o=d.cx,f=d.cy,g=n.select(this),m=g.selectAll("path.surface").data([e]),b=!1,x=!1;if(m.enter().append("path").classed("surface",!0).style({"pointer-events":"all"}),g.select("path.textline").remove(),g.on("mouseover",function(){var a=t._fullLayout,s=t._fullData[p.index];if(!t._dragging&&!1!==a.hovermode){var h=s.hoverinfo;if(Array.isArray(h)&&(h=i.castHoverinfo({hoverinfo:[l.castOption(h,e.pts)],_module:p._module},a,0)),"all"===h&&(h="label+text+value+percent+name"),"none"!==h&&"skip"!==h&&h){var v=u(e,d),y=o+e.pxmid[0]*(1-v),g=f+e.pxmid[1]*(1-v),m=r.separators,w=[];if(-1!==h.indexOf("label")&&w.push(e.label),-1!==h.indexOf("text")){var _=l.castOption(s.hovertext||s.text,e.pts);_&&w.push(_)}-1!==h.indexOf("value")&&w.push(l.formatPieValue(e.v,m)),-1!==h.indexOf("percent")&&w.push(l.formatPiePercent(e.v/d.vTotal,m));var k=p.hoverlabel,T=k.font;i.loneHover({x0:y-v*d.r,x1:y+v*d.r,y:g,text:w.join("<br>"),name:-1!==h.indexOf("name")?s.name:void 0,idealAlign:e.pxmid[0]<0?"left":"right",color:l.castOption(k.bgcolor,e.pts)||e.color,borderColor:l.castOption(k.bordercolor,e.pts),fontFamily:l.castOption(T.family,e.pts),fontSize:l.castOption(T.size,e.pts),fontColor:l.castOption(T.color,e.pts)},{container:a._hoverlayer.node(),outerContainer:a._paper.node(),gd:t}),b=!0}t.emit("plotly_hover",{points:[c(e,s)],event:n.event}),x=!0}}).on("mouseout",function(r){var o=t._fullLayout,a=t._fullData[p.index];x&&(r.originalEvent=n.event,t.emit("plotly_unhover",{points:[c(e,a)],event:n.event}),x=!1),b&&(i.loneUnhover(o._hoverlayer.node()),b=!1)}).on("click",function(){var r=t._fullLayout,o=t._fullData[p.index];t._dragging||!1===r.hovermode||(t._hoverdata=[c(e,o)],i.click(t,n.event))}),p.pull){var w=+l.castOption(p.pull,e.pts)||0;w>0&&(o+=w*e.pxmid[0],f+=w*e.pxmid[1])}e.cxFinal=o,e.cyFinal=f;var _=p.hole;if(e.v===d.vTotal){var k="M"+(o+e.px0[0])+","+(f+e.px0[1])+O(e.px0,e.pxmid,!0,1)+O(e.pxmid,e.px0,!0,1)+"Z";_?m.attr("d","M"+(o+_*e.px0[0])+","+(f+_*e.px0[1])+O(e.px0,e.pxmid,!1,_)+O(e.pxmid,e.px0,!1,_)+"Z"+k):m.attr("d",k)}else{var T=O(e.px0,e.px1,!0,1);if(_){var A=1-_;m.attr("d","M"+(o+_*e.px1[0])+","+(f+_*e.px1[1])+O(e.px1,e.px0,!1,_)+"l"+A*e.px0[0]+","+A*e.px0[1]+T+"Z")}else m.attr("d","M"+o+","+f+"l"+e.px0[0]+","+e.px0[1]+T+"Z")}var M=l.castOption(p.textposition,e.pts),S=g.selectAll("g.slicetext").data(e.text&&"none"!==M?[0]:[]);S.enter().append("g").classed("slicetext",!0),S.exit().remove(),S.each(function(){var r=n.select(this).selectAll("text").data([0]);r.enter().append("text").attr("data-notex",1),r.exit().remove(),r.text(e.text).attr({class:"slicetext",transform:"","text-anchor":"middle"}).call(a.font,"outside"===M?p.outsidetextfont:p.insidetextfont).call(s.convertToTspans,t);var i,l=a.bBox(r.node());"outside"===M?i=h(l,e):(i=function(t,e,r){var n=Math.sqrt(t.width*t.width+t.height*t.height),i=t.width/t.height,o=Math.PI*Math.min(e.v/r.vTotal,.5),a=1-r.trace.hole,s=u(e,r),l={scale:s*r.r*2/n,rCenter:1-s,rotate:0};if(l.scale>=1)return l;var c=i+1/(2*Math.tan(o)),h=r.r*Math.min(1/(Math.sqrt(c*c+.5)+c),a/(Math.sqrt(i*i+a/2)+i)),f={scale:2*h/t.height,rCenter:Math.cos(h/r.r)-h*i/r.r,rotate:(180/Math.PI*e.midangle+720)%180-90},d=1/i,p=d+1/(2*Math.tan(o)),v=r.r*Math.min(1/(Math.sqrt(p*p+.5)+p),a/(Math.sqrt(d*d+a/2)+d)),y={scale:2*v/t.width,rCenter:Math.cos(v/r.r)-v/i/r.r,rotate:(180/Math.PI*e.midangle+810)%180-90},g=y.scale>f.scale?y:f;return l.scale<1&&g.scale>l.scale?g:l}(l,e,d),"auto"===M&&i.scale<1&&(r.call(a.font,p.outsidetextfont),p.outsidetextfont.family===p.insidetextfont.family&&p.outsidetextfont.size===p.insidetextfont.size||(l=a.bBox(r.node())),i=h(l,e)));var c=o+e.pxmid[0]*i.rCenter+(i.x||0),v=f+e.pxmid[1]*i.rCenter+(i.y||0);i.outside&&(e.yLabelMin=v-l.height/2,e.yLabelMid=v,e.yLabelMax=v+l.height/2,e.labelExtraX=0,e.labelExtraY=0,y=!0),r.attr("transform","translate("+c+","+v+")"+(i.scale<1?"scale("+i.scale+")":"")+(i.rotate?"rotate("+i.rotate+")":"")+"translate("+-(l.left+l.right)/2+","+-(l.top+l.bottom)/2+")")})}function O(t,r,n,i){return"a"+i*d.r+","+i*d.r+" 0 "+e.largeArc+(n?" 1 ":" 0 ")+i*(r[0]-t[0])+","+i*(r[1]-t[1])}}),y&&function(t,e){var r,n,i,o,a,s,c,u,h,f,d,p,v;function y(t,e){return t.pxmid[1]-e.pxmid[1]}function g(t,e){return e.pxmid[1]-t.pxmid[1]}function m(t,r){r||(r={});var i,u,h,d,p,v,y=r.labelExtraY+(n?r.yLabelMax:r.yLabelMin),g=n?t.yLabelMin:t.yLabelMax,m=n?t.yLabelMax:t.yLabelMin,b=t.cyFinal+a(t.px0[1],t.px1[1]),x=y-g;if(x*c>0&&(t.labelExtraY=x),Array.isArray(e.pull))for(u=0;u<f.length;u++)(h=f[u])===t||(l.castOption(e.pull,t.pts)||0)>=(l.castOption(e.pull,h.pts)||0)||((t.pxmid[1]-h.pxmid[1])*c>0?(d=h.cyFinal+a(h.px0[1],h.px1[1]),(x=d-g-t.labelExtraY)*c>0&&(t.labelExtraY+=x)):(m+t.labelExtraY-b)*c>0&&(i=3*s*Math.abs(u-f.indexOf(t)),p=h.cxFinal+o(h.px0[0],h.px1[0]),(v=p+i-(t.cxFinal+t.pxmid[0])-t.labelExtraX)*s>0&&(t.labelExtraX+=v)))}for(n=0;n<2;n++)for(i=n?y:g,a=n?Math.max:Math.min,c=n?1:-1,r=0;r<2;r++){for(o=r?Math.max:Math.min,s=r?1:-1,(u=t[n][r]).sort(i),h=t[1-n][r],f=h.concat(u),p=[],d=0;d<u.length;d++)void 0!==u[d].yLabelMid&&p.push(u[d]);for(v=!1,d=0;n&&d<h.length;d++)if(void 0!==h[d].yLabelMid){v=h[d];break}for(d=0;d<p.length;d++){var b=d&&p[d-1];v&&!d&&(b=v),m(p[d],b)}}}(v,p),f.each(function(t){if(t.labelExtraX||t.labelExtraY){var e=n.select(this),r=e.select("g.slicetext text");r.attr("transform","translate("+t.labelExtraX+","+t.labelExtraY+")"+r.attr("transform"));var i=t.cxFinal+t.pxmid[0],a="M"+i+","+(t.cyFinal+t.pxmid[1]),s=(t.yLabelMax-t.yLabelMin)*(t.pxmid[0]<0?-1:1)/4;if(t.labelExtraX){var l=t.labelExtraX*t.pxmid[1]/t.pxmid[0],c=t.yLabelMid+t.labelExtraY-(t.cyFinal+t.pxmid[1]);Math.abs(l)>Math.abs(c)?a+="l"+c*t.pxmid[0]/t.pxmid[1]+","+c+"H"+(i+t.labelExtraX+s):a+="l"+t.labelExtraX+","+l+"v"+(c-l)+"h"+s}else a+="V"+(t.yLabelMid+t.labelExtraY)+"h"+s;e.append("path").classed("textline",!0).call(o.stroke,p.outsidetextfont.color).attr({"stroke-width":Math.min(2,p.outsidetextfont.size/8),d:a,fill:"none"})}})})}),setTimeout(function(){f.selectAll("tspan").each(function(){var t=n.select(this);t.attr("dy")&&t.attr("dy",t.attr("dy"))})},0)}},function(t,e,r){"use strict";var n=r(69).appendArrayMultiPointValues;t.exports=function(t,e){var r={curveNumber:e.index,pointNumbers:t.pts,data:e._input,fullData:e,label:t.label,color:t.color,value:t.v,v:t.v};return 1===t.pts.length&&(r.pointNumber=r.i=t.pts[0]),n(r,e,t.pts),r}},function(t,e,r){"use strict";var n=r(3),i=r(114);t.exports=function(t){t._fullLayout._pielayer.selectAll(".trace").each(function(t){var e=t[0].trace,r=n.select(this);r.style({opacity:e.opacity}),r.selectAll("path.surface").each(function(t){n.select(this).call(i,t,e)})})}},function(t,e,r){"use strict";var n=r(5);e.name="pie",e.plot=function(t){var e=n.getModule("pie"),r=function(t,e){for(var r=[],n=0;n<t.length;n++){var i=t[n],o=i[0].trace;o._module===e&&!0===o.visible&&r.push(i)}return r}(t.calcdata,e);r.length&&e.plot(t,r)},e.clean=function(t,e,r,n){var i=n._has&&n._has("pie"),o=e._has&&e._has("pie");i&&!o&&n._pielayer.selectAll("g.trace").remove()}},function(t,e,r){"use strict";var n=r(27),i=r.n(n);r(197);i.a.d3},function(t,e,r){"use strict";e.a=class{constructor(t,e={}){let r=[],n=[];t.values.forEach(t=>{r.push(t.values),n.push(t.key)});const i={values:r,labels:n};e=Object.assign({},e);let o=Object.assign(e,i);Object.entries(o).forEach(t=>{this[t[0]]=t[1]})}}},function(t,e,r){"use strict";var n=r(27),i=r.n(n),o=r(197);i.a.d3;e.a=class extends o.a{constructor(t,e=document.body){super(),this.data=t,this.containerEl=e,this.el=this.el||document.createElement("figure"),this.el.classList.add("basic-pie")}drawChart(){this.el.innerHTML="";const t=this.data,e=this.gd;console.log("Data:",t);const r=this.getPlotlyData(t,{type:"pie"});console.log("Subplots Pie:",r),console.log("plotlyData:",r),i.a.plot(e,r,{},{displayModeBar:!1})}}},function(t,e,r){"use strict";var n=r(481),i=r(482),o=r(483),a=r(484),s=r(485);e.a=class{constructor(t){this.surveyId=t,this.data=[],this.getAll=n.a.bind(this),this.getSum=i.a.bind(this),this.getPercentage=o.a.bind(this),this.getFilteredData=a.a.bind(this),this.getGroupMappingData=s.a.bind(this)}}},function(t,e,r){"use strict";e.a=function(t){return fetch("https://my.api.mockaroo.com/specialties.json?key=ccdaa380").then(t=>t.json(),t=>{throw console.error("Error:",t),t}).then(t=>(this.data=t,t))}},function(t,e,r){"use strict";var n=r(27);const i=r.n(n).a.d3;e.a=function(t){return new Promise((e,r)=>{let n=this.getFilteredData(t.filters),o=i.nest();const a=t.primaryGroup,s=t.hasOwnProperty("grouping")?t.grouping.column:"";s.trim().length>0?(t.grouping.hasOwnProperty("mappings")&&(n=this.getGroupMappingData(n,t.grouping)),o=o.key(function(t){return t[s]}).entries(n).map(t=>({key:t.key,values:i.nest().key(t=>t[a]).rollup(t=>i.sum(t,t=>isNaN(t.values)?1:t.values)).entries(t.values)}))):o=o.key(t=>t[a]).rollup(t=>i.sum(t,t=>isNaN(t.values)?1:t.values)).entries(n),e(o)})}},function(t,e,r){"use strict";var n=r(27);const i=r.n(n).a.d3;e.a=function(t){return new Promise((e,r)=>{const n=this.data;let o=null;const a=t.primaryGroup;if(!((t.hasOwnProperty("grouping")?t.grouping.column:"").trim().length>0))throw r("Grouping is missing from config."),"Grouping is missing from config.";e(o=i.nest().key(function(t){return t[a]}).entries(n).map(t=>({key:t.key,values:i.nest().rollup(t=>{const e=i.sum(t,t=>isNaN(t.values)?1:t.values);return Math.round(0/e*100)}).entries(t.values)})))})}},function(t,e,r){"use strict";e.a=function(t=[]){console.log("getFilteredData:",t);let e=this.data;return t.length>0&&(console.log("Filtering"),e=e.filter(e=>{let r=!0;return t.forEach(t=>{r=r&&t.values.includes(e[t.name])}),r})),e}},function(module,__webpack_exports__,__webpack_require__){"use strict";const getGroupMappingData=function(data=this.data,grouping={}){const groupName=grouping.column,mappings=grouping.mappings;return data=data.map(entry=>{const mapping=mappings.find(mapping=>{let value=entry[groupName],test=eval(`(function(value){ ${mapping.formula} })(value)`);return test});return null!=mapping&&(entry[groupName]=mapping.key),entry}),data};__webpack_exports__.a=getGroupMappingData},function(t,e,r){"use strict";var n=r(487),i=r(488),o=r(489),a=r(785);r.n(a);e.a=class{constructor(t){this.props=t,this.el=document.createElement("section"),this.el.classList.add("filter-component"),this.data=t.data,this.config=t.config,this.filters=new Map,this.state=new o.a,this.initFilters(data),console.log("filters:",this.filters)}getState(){return this.state}initFilters(t){Object.keys(t[0]).forEach(t=>{"id"!=t&&this.filters.set(t,[])});const e=Array.from(this.filters.keys());t.forEach(t=>{e.forEach(e=>{const r=t[e];this.filters.get(e).includes(r)||this.filters.get(e).push(r)})}),this.state.subscribe(t=>{console.log("new filters:",t)})}changeFilter(t){console.log("change filter:",t.target.value),this.filterList.render(this.filters.get(t.target.value),t.target.value)}changeFilterList(t=[]){console.log("change Filter List",t),this.state.update(t)}render(){const t=this.filters.keys();console.log("filterKeys:",t);let e={data:t,onChange:this.changeFilter.bind(this)},r=new n.a(e);this.el.appendChild(r.el);const o={onFilterChange:this.changeFilterList.bind(this)};this.filterList=new i.a(o),this.el.appendChild(this.filterList.el),console.log("Filter:",this.el)}}},function(t,e,r){"use strict";e.a=class{constructor(t){this.props=t,this.el=document.createElement("select"),this.el.classList.add("filter-select-component"),this.createOptions(t.data),this.initEventListeners()}createOptions(t){for(let e of t){const t=new n(e);this.el.appendChild(t.el)}}initEventListeners(){this.el.addEventListener("change",this.props.onChange)}render(){}};class n{constructor(t){this.option=t,this.el=document.createElement("option"),this.el.setAttribute("value",t),this.el.innerHTML=t}}},function(t,e,r){"use strict";e.a=class{constructor(t){this.props=t,this.el=document.createElement("ul"),this.el.classList.add("list-component"),this.children=[],this.filterValutes=[]}removeChildren(){console.log("Remove Children:",this.el),this.children.length>0&&(this.children.forEach(t=>{this.el.removeChild(t.el)}),this.children=[]),this.filterValues=[]}createChildren(t=[],e="filter-list"){t.sort((t,e)=>"boolean"==typeof t?!0===t?-1:1:"string"==typeof t?t.localeCompare(e):t-e).forEach(t=>{const r={value:t,name:e,onChange:this.optionChange.bind(this)},i=new n(r);this.el.appendChild(i.el),this.children.push(i)})}optionChange(t,e){console.log("isSelected:",e),console.log("option change:",t),e&&!this.filterValues.includes(t.value)?this.filterValues.push(t.value):e||(this.filterValues=this.filterValues.filter(e=>e!=t.value)),"boolean"==typeof t.value&&(this.filterValues=this.filterValues.filter(e=>e==t.value));const r={name:t.key,values:this.filterValues};this.props.onFilterChange([r])}render(t=[],e){return this.removeChildren(),this.createChildren(t,e),this.el}};class n{constructor(t){this.props=t,this.el=document.createElement("li"),this.el.classList.add("list-item");const e=document.createElement("label"),r=document.createElement("input"),n=document.createElement("span"),i="boolean"==typeof t.value?"radio":"checkbox";r.setAttribute("type",i),r.setAttribute("name",t.name),n.innerHTML=t.value,e.appendChild(r),e.appendChild(n),r.addEventListener("change",t=>{const e=t.target.checked,r={key:this.props.name,value:this.props.value};this.props.onChange(r,e)}),this.el.appendChild(e)}}},function(t,e,r){"use strict";var n=r(490);r.n(n);e.a=class extends n.BehaviorSubject{constructor(t=[]){super(t),this.filters=t}update(t=[]){this.filters=t,this.next(this.filters)}}},function(t,e,r){"use strict";var n=r(15);e.Subject=n.Subject,e.AnonymousSubject=n.AnonymousSubject;var i=r(0);e.Observable=i.Observable,r(492),r(495),r(498),r(501),r(504),r(507),r(509),r(512),r(513),r(516),r(519),r(521),r(524),r(527),r(532),r(533),r(534),r(537),r(538),r(540),r(543),r(546),r(549),r(552),r(554),r(556),r(558),r(564),r(566),r(568),r(570),r(572),r(574),r(576),r(578),r(580),r(582),r(584),r(586),r(588),r(590),r(592),r(594),r(596),r(598),r(600),r(602),r(605),r(607),r(609),r(611),r(613),r(615),r(617),r(619),r(621),r(623),r(625),r(627),r(629),r(634),r(636),r(638),r(640),r(642),r(644),r(646),r(648),r(650),r(652),r(654),r(656),r(658),r(660),r(662),r(664),r(666),r(668),r(670),r(672),r(674),r(676),r(679),r(681),r(683),r(685),r(687),r(689),r(691),r(693),r(695),r(697),r(699),r(701),r(703),r(705),r(707),r(709),r(711),r(713),r(715),r(717),r(719),r(721),r(723),r(725),r(733),r(735),r(737),r(739),r(741),r(743),r(745),r(747),r(749),r(751),r(752),r(754),r(756),r(758),r(760),r(761),r(763),r(765),r(767),r(769),r(771),r(773),r(775);var o=r(13);e.Subscription=o.Subscription;var a=r(2);e.Subscriber=a.Subscriber;var s=r(79);e.AsyncSubject=s.AsyncSubject;var l=r(86);e.ReplaySubject=l.ReplaySubject;var c=r(256);e.BehaviorSubject=c.BehaviorSubject;var u=r(250);e.ConnectableObservable=u.ConnectableObservable;var h=r(55);e.Notification=h.Notification;var f=r(87);e.EmptyError=f.EmptyError;var d=r(61);e.ArgumentOutOfRangeError=d.ArgumentOutOfRangeError;var p=r(78);e.ObjectUnsubscribedError=p.ObjectUnsubscribedError;var v=r(286);e.TimeoutError=v.TimeoutError;var y=r(199);e.UnsubscriptionError=y.UnsubscriptionError;var g=r(283);e.TimeInterval=g.TimeInterval;var m=r(140);e.Timestamp=m.Timestamp;var b=r(777);e.TestScheduler=b.TestScheduler;var x=r(299);e.VirtualTimeScheduler=x.VirtualTimeScheduler;var w=r(210);e.AjaxResponse=w.AjaxResponse,e.AjaxError=w.AjaxError,e.AjaxTimeoutError=w.AjaxTimeoutError;var _=r(124);e.pipe=_.pipe;var k=r(275),T=r(10),A=r(211),M=r(780),S=r(76),O=r(53),C=r(77),L=r(784);e.operators=L;var j={asap:k.asap,queue:A.queue,animationFrame:M.animationFrame,async:T.async};e.Scheduler=j;var I={rxSubscriber:S.rxSubscriber,observable:C.observable,iterator:O.iterator};e.Symbol=I},function(t,e,r){"use strict";var n=r(2),i=r(76),o=r(200);e.toSubscriber=function(t,e,r){if(t){if(t instanceof n.Subscriber)return t;if(t[i.rxSubscriber])return t[i.rxSubscriber]()}return t||e||r?new n.Subscriber(t,e,r):new n.Subscriber(o.empty)}},function(t,e,r){"use strict";var n=r(0),i=r(493);n.Observable.bindCallback=i.bindCallback},function(t,e,r){"use strict";var n=r(494);e.bindCallback=n.BoundCallbackObservable.create},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function n(){this.constructor=t}t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=r(0),o=r(17),a=r(16),s=r(79),l=function(t){function e(e,r,n,i,o){t.call(this),this.callbackFunc=e,this.selector=r,this.args=n,this.context=i,this.scheduler=o}return n(e,t),e.create=function(t,r,n){return void 0===r&&(r=void 0),function(){for(var i=[],o=0;o<arguments.length;o++)i[o-0]=arguments[o];return new e(t,r,i,this,n)}},e.prototype._subscribe=function(t){var r=this.callbackFunc,n=this.args,i=this.scheduler,l=this.subject;if(i)return i.schedule(e.dispatch,0,{source:this,subscriber:t,context:this.context});if(!l){l=this.subject=new s.AsyncSubject;var c=function t(){for(var e=[],r=0;r<arguments.length;r++)e[r-0]=arguments[r];var n=t.source,i=n.selector,s=n.subject;if(i){var l=o.tryCatch(i).apply(this,e);l===a.errorObject?s.error(a.errorObject.e):(s.next(l),s.complete())}else s.next(e.length<=1?e[0]:e),s.complete()};c.source=this,o.tryCatch(r).apply(this.context,n.concat(c))===a.errorObject&&l.error(a.errorObject.e)}return l.subscribe(t)},e.dispatch=function(t){var e=this,r=t.source,n=t.subscriber,i=t.context,l=r.callbackFunc,h=r.args,f=r.scheduler,d=r.subject;if(!d){d=r.subject=new s.AsyncSubject;var p=function t(){for(var r=[],n=0;n<arguments.length;n++)r[n-0]=arguments[n];var i=t.source,s=i.selector,l=i.subject;if(s){var h=o.tryCatch(s).apply(this,r);h===a.errorObject?e.add(f.schedule(u,0,{err:a.errorObject.e,subject:l})):e.add(f.schedule(c,0,{value:h,subject:l}))}else{var d=r.length<=1?r[0]:r;e.add(f.schedule(c,0,{value:d,subject:l}))}};p.source=r,o.tryCatch(l).apply(i,h.concat(p))===a.errorObject&&d.error(a.errorObject.e)}e.add(d.subscribe(n))},e}(i.Observable);function c(t){var e=t.value,r=t.subject;r.next(e),r.complete()}function u(t){var e=t.err;t.subject.error(e)}e.BoundCallbackObservable=l},function(t,e,r){"use strict";var n=r(0),i=r(496);n.Observable.bindNodeCallback=i.bindNodeCallback},function(t,e,r){"use strict";var n=r(497);e.bindNodeCallback=n.BoundNodeCallbackObservable.create},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function n(){this.constructor=t}t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=r(0),o=r(17),a=r(16),s=r(79),l=function(t){function e(e,r,n,i,o){t.call(this),this.callbackFunc=e,this.selector=r,this.args=n,this.context=i,this.scheduler=o}return n(e,t),e.create=function(t,r,n){return void 0===r&&(r=void 0),function(){for(var i=[],o=0;o<arguments.length;o++)i[o-0]=arguments[o];return new e(t,r,i,this,n)}},e.prototype._subscribe=function(t){var e=this.callbackFunc,r=this.args,n=this.scheduler,i=this.subject;if(n)return n.schedule(c,0,{source:this,subscriber:t,context:this.context});if(!i){i=this.subject=new s.AsyncSubject;var l=function t(){for(var e=[],r=0;r<arguments.length;r++)e[r-0]=arguments[r];var n=t.source,i=n.selector,s=n.subject,l=e.shift();if(l)s.error(l);else if(i){var c=o.tryCatch(i).apply(this,e);c===a.errorObject?s.error(a.errorObject.e):(s.next(c),s.complete())}else s.next(e.length<=1?e[0]:e),s.complete()};l.source=this,o.tryCatch(e).apply(this.context,r.concat(l))===a.errorObject&&i.error(a.errorObject.e)}return i.subscribe(t)},e}(i.Observable);function c(t){var e=this,r=t.source,n=t.subscriber,i=t.context,l=r,c=l.callbackFunc,f=l.args,d=l.scheduler,p=r.subject;if(!p){p=r.subject=new s.AsyncSubject;var v=function t(){for(var r=[],n=0;n<arguments.length;n++)r[n-0]=arguments[n];var i=t.source,s=i.selector,l=i.subject,c=r.shift();if(c)e.add(d.schedule(h,0,{err:c,subject:l}));else if(s){var f=o.tryCatch(s).apply(this,r);f===a.errorObject?e.add(d.schedule(h,0,{err:a.errorObject.e,subject:l})):e.add(d.schedule(u,0,{value:f,subject:l}))}else{var p=r.length<=1?r[0]:r;e.add(d.schedule(u,0,{value:p,subject:l}))}};v.source=r,o.tryCatch(c).apply(i,f.concat(v))===a.errorObject&&e.add(d.schedule(h,0,{err:a.errorObject.e,subject:p}))}e.add(p.subscribe(n))}function u(t){var e=t.value,r=t.subject;r.next(e),r.complete()}function h(t){var e=t.err;t.subject.error(e)}e.BoundNodeCallbackObservable=l},function(t,e,r){"use strict";var n=r(0),i=r(499);n.Observable.combineLatest=i.combineLatest},function(t,e,r){"use strict";var n=r(29),i=r(30),o=r(36),a=r(80);e.combineLatest=function(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];var r=null,s=null;return n.isScheduler(t[t.length-1])&&(s=t.pop()),"function"==typeof t[t.length-1]&&(r=t.pop()),1===t.length&&i.isArray(t[0])&&(t=t[0]),new o.ArrayObservable(t,s).lift(new a.CombineLatestOperator(r))}},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function n(){this.constructor=t}t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=function(t){function e(e,r,n){t.call(this),this.parent=e,this.outerValue=r,this.outerIndex=n,this.index=0}return n(e,t),e.prototype._next=function(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)},e.prototype._error=function(t){this.parent.notifyError(t,this),this.unsubscribe()},e.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},e}(r(2).Subscriber);e.InnerSubscriber=i},function(t,e,r){"use strict";var n=r(0),i=r(54);n.Observable.concat=i.concat},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function n(){this.constructor=t}t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=r(19),o=r(0),a=r(53),s=function(t){function e(e,r){if(t.call(this),this.scheduler=r,null==e)throw new Error("iterator cannot be null.");this.iterator=function(t){var e=t[a.iterator];if(!e&&"string"==typeof t)return new l(t);if(!e&&void 0!==t.length)return new c(t);if(!e)throw new TypeError("object is not iterable");return t[a.iterator]()}(e)}return n(e,t),e.create=function(t,r){return new e(t,r)},e.dispatch=function(t){var e=t.index,r=t.hasError,n=t.iterator,i=t.subscriber;if(r)i.error(t.error);else{var o=n.next();o.done?i.complete():(i.next(o.value),t.index=e+1,i.closed?"function"==typeof n.return&&n.return():this.schedule(t))}},e.prototype._subscribe=function(t){var r=this.iterator,n=this.scheduler;if(n)return n.schedule(e.dispatch,0,{index:0,iterator:r,subscriber:t});for(;;){var i=r.next();if(i.done){t.complete();break}if(t.next(i.value),t.closed){"function"==typeof r.return&&r.return();break}}},e}(o.Observable);e.IteratorObservable=s;var l=function(){function t(t,e,r){void 0===e&&(e=0),void 0===r&&(r=t.length),this.str=t,this.idx=e,this.len=r}return t.prototype[a.iterator]=function(){return this},t.prototype.next=function(){return this.idx<this.len?{done:!1,value:this.str.charAt(this.idx++)}:{done:!0,value:void 0}},t}(),c=function(){function t(t,e,r){void 0===e&&(e=0),void 0===r&&(r=function(t){var e=+t.length;if(isNaN(e))return 0;if(0===e||(r=e,"number"!=typeof r||!i.root.isFinite(r)))return e;var r;if((e=function(t){var e=+t;return 0===e?e:isNaN(e)?e:e<0?-1:1}(e)*Math.floor(Math.abs(e)))<=0)return 0;if(e>u)return u;return e}(t)),this.arr=t,this.idx=e,this.len=r}return t.prototype[a.iterator]=function(){return this},t.prototype.next=function(){return this.idx<this.len?{done:!1,value:this.arr[this.idx++]}:{done:!0,value:void 0}},t}();var u=Math.pow(2,53)-1},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function n(){this.constructor=t}t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=r(0),o=r(126),a=r(37),s=function(t){function e(e,r){t.call(this),this.arrayLike=e,this.scheduler=r,r||1!==e.length||(this._isScalar=!0,this.value=e[0])}return n(e,t),e.create=function(t,r){var n=t.length;return 0===n?new a.EmptyObservable:1===n?new o.ScalarObservable(t[0],r):new e(t,r)},e.dispatch=function(t){var e=t.arrayLike,r=t.index,n=t.length,i=t.subscriber;i.closed||(r>=n?i.complete():(i.next(e[r]),t.index=r+1,this.schedule(t)))},e.prototype._subscribe=function(t){var r=this.arrayLike,n=this.scheduler,i=r.length;if(n)return n.schedule(e.dispatch,0,{arrayLike:r,index:0,length:i,subscriber:t});for(var o=0;o<i&&!t.closed;o++)t.next(r[o]);t.complete()},e}(i.Observable);e.ArrayLikeObservable=s},function(t,e,r){"use strict";var n=r(0),i=r(505);n.Observable.defer=i.defer},function(t,e,r){"use strict";var n=r(506);e.defer=n.DeferObservable.create},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function n(){this.constructor=t}t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=r(0),o=r(8),a=r(7),s=function(t){function e(e){t.call(this),this.observableFactory=e}return n(e,t),e.create=function(t){return new e(t)},e.prototype._subscribe=function(t){return new l(t,this.observableFactory)},e}(i.Observable);e.DeferObservable=s;var l=function(t){function e(e,r){t.call(this,e),this.factory=r,this.tryDefer()}return n(e,t),e.prototype.tryDefer=function(){try{this._callFactory()}catch(t){this._error(t)}},e.prototype._callFactory=function(){var t=this.factory();t&&this.add(o.subscribeToResult(this,t))},e}(a.OuterSubscriber)},function(t,e,r){"use strict";var n=r(0),i=r(508);n.Observable.empty=i.empty},function(t,e,r){"use strict";var n=r(37);e.empty=n.EmptyObservable.create},function(t,e,r){"use strict";var n=r(0),i=r(510);n.Observable.forkJoin=i.forkJoin},function(t,e,r){"use strict";var n=r(511);e.forkJoin=n.ForkJoinObservable.create},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function n(){this.constructor=t}t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=r(0),o=r(37),a=r(30),s=r(8),l=r(7),c=function(t){function e(e,r){t.call(this),this.sources=e,this.resultSelector=r}return n(e,t),e.create=function(){for(var t=[],r=0;r<arguments.length;r++)t[r-0]=arguments[r];if(null===t||0===arguments.length)return new o.EmptyObservable;var n=null;return"function"==typeof t[t.length-1]&&(n=t.pop()),1===t.length&&a.isArray(t[0])&&(t=t[0]),0===t.length?new o.EmptyObservable:new e(t,n)},e.prototype._subscribe=function(t){return new u(t,this.sources,this.resultSelector)},e}(i.Observable);e.ForkJoinObservable=c;var u=function(t){function e(e,r,n){t.call(this,e),this.sources=r,this.resultSelector=n,this.completed=0,this.haveValues=0;var i=r.length;this.total=i,this.values=new Array(i);for(var o=0;o<i;o++){var a=r[o],l=s.subscribeToResult(this,a,null,o);l&&(l.outerIndex=o,this.add(l))}}return n(e,t),e.prototype.notifyNext=function(t,e,r,n,i){this.values[r]=e,i._hasValue||(i._hasValue=!0,this.haveValues++)},e.prototype.notifyComplete=function(t){var e=this.destination,r=this.haveValues,n=this.resultSelector,i=this.values,o=i.length;if(t._hasValue){if(this.completed++,this.completed===o){if(r===o){var a=n?n.apply(this,i):i;e.next(a)}e.complete()}}else e.complete()},e}(l.OuterSubscriber)},function(t,e,r){"use strict";var n=r(0),i=r(205);n.Observable.from=i.from},function(t,e,r){"use strict";var n=r(0),i=r(514);n.Observable.fromEvent=i.fromEvent},function(t,e,r){"use strict";var n=r(515);e.fromEvent=n.FromEventObservable.create},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function n(){this.constructor=t}t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=r(0),o=r(17),a=r(75),s=r(16),l=r(13),c=Object.prototype.toString;var u=function(t){function e(e,r,n,i){t.call(this),this.sourceObj=e,this.eventName=r,this.selector=n,this.options=i}return n(e,t),e.create=function(t,r,n,i){return a.isFunction(n)&&(i=n,n=void 0),new e(t,r,i,n)},e.setupSubscription=function(t,r,n,i,o){var a;if(function(t){return!!t&&"[object NodeList]"===c.call(t)}(t)||function(t){return!!t&&"[object HTMLCollection]"===c.call(t)}(t))for(var s=0,u=t.length;s<u;s++)e.setupSubscription(t[s],r,n,i,o);else if(function(t){return!!t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}(t)){var h=t;t.addEventListener(r,n,o),a=function(){return h.removeEventListener(r,n)}}else if(function(t){return!!t&&"function"==typeof t.on&&"function"==typeof t.off}(t)){var f=t;t.on(r,n),a=function(){return f.off(r,n)}}else{if(!function(t){return!!t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}(t))throw new TypeError("Invalid event target");var d=t;t.addListener(r,n),a=function(){return d.removeListener(r,n)}}i.add(new l.Subscription(a))},e.prototype._subscribe=function(t){var r=this.sourceObj,n=this.eventName,i=this.options,a=this.selector,l=a?function(){for(var e=[],r=0;r<arguments.length;r++)e[r-0]=arguments[r];var n=o.tryCatch(a).apply(void 0,e);n===s.errorObject?t.error(s.errorObject.e):t.next(n)}:function(e){return t.next(e)};e.setupSubscription(r,n,l,t,i)},e}(i.Observable);e.FromEventObservable=u},function(t,e,r){"use strict";var n=r(0),i=r(517);n.Observable.fromEventPattern=i.fromEventPattern},function(t,e,r){"use strict";var n=r(518);e.fromEventPattern=n.FromEventPatternObservable.create},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function n(){this.constructor=t}t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=r(75),o=r(0),a=r(13),s=function(t){function e(e,r,n){t.call(this),this.addHandler=e,this.removeHandler=r,this.selector=n}return n(e,t),e.create=function(t,r,n){return new e(t,r,n)},e.prototype._subscribe=function(t){var e=this,r=this.removeHandler,n=this.selector?function(){for(var r=[],n=0;n<arguments.length;n++)r[n-0]=arguments[n];e._callSelector(t,r)}:function(e){t.next(e)},o=this._callAddHandler(n,t);i.isFunction(r)&&t.add(new a.Subscription(function(){r(n,o)}))},e.prototype._callSelector=function(t,e){try{var r=this.selector.apply(this,e);t.next(r)}catch(e){t.error(e)}},e.prototype._callAddHandler=function(t,e){try{return this.addHandler(t)||null}catch(t){e.error(t)}},e}(o.Observable);e.FromEventPatternObservable=s},function(t,e,r){"use strict";var n=r(0),i=r(520);n.Observable.fromPromise=i.fromPromise},function(t,e,r){"use strict";var n=r(207);e.fromPromise=n.PromiseObservable.create},function(t,e,r){"use strict";var n=r(0),i=r(522);n.Observable.generate=i.generate},function(t,e,r){"use strict";var n=r(523);e.generate=n.GenerateObservable.create},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function n(){this.constructor=t}t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=r(0),o=r(29),a=function(t){return t},s=function(t){function e(e,r,n,i,o){t.call(this),this.initialState=e,this.condition=r,this.iterate=n,this.resultSelector=i,this.scheduler=o}return n(e,t),e.create=function(t,r,n,i,s){return 1==arguments.length?new e(t.initialState,t.condition,t.iterate,t.resultSelector||a,t.scheduler):void 0===i||o.isScheduler(i)?new e(t,r,n,a,i):new e(t,r,n,i,s)},e.prototype._subscribe=function(t){var r=this.initialState;if(this.scheduler)return this.scheduler.schedule(e.dispatch,0,{subscriber:t,iterate:this.iterate,condition:this.condition,resultSelector:this.resultSelector,state:r});for(var n=this.condition,i=this.resultSelector,o=this.iterate;;){if(n){var a=void 0;try{a=n(r)}catch(e){return void t.error(e)}if(!a){t.complete();break}}var s=void 0;try{s=i(r)}catch(e){return void t.error(e)}if(t.next(s),t.closed)break;try{r=o(r)}catch(e){return void t.error(e)}}},e.dispatch=function(t){var e=t.subscriber,r=t.condition;if(!e.closed){if(t.needIterate)try{t.state=t.iterate(t.state)}catch(t){return void e.error(t)}else t.needIterate=!0;if(r){var n=void 0;try{n=r(t.state)}catch(t){return void e.error(t)}if(!n)return void e.complete();if(e.closed)return}var i;try{i=t.resultSelector(t.state)}catch(t){return void e.error(t)}if(!e.closed&&(e.next(i),!e.closed))return this.schedule(t)}},e}(i.Observable);e.GenerateObservable=s},function(t,e,r){"use strict";var n=r(0),i=r(525);n.Observable.if=i._if},function(t,e,r){"use strict";var n=r(526);e._if=n.IfObservable.create},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function n(){this.constructor=t}t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=r(0),o=r(8),a=r(7),s=function(t){function e(e,r,n){t.call(this),this.condition=e,this.thenSource=r,this.elseSource=n}return n(e,t),e.create=function(t,r,n){return new e(t,r,n)},e.prototype._subscribe=function(t){var e=this.condition,r=this.thenSource,n=this.elseSource;return new l(t,e,r,n)},e}(i.Observable);e.IfObservable=s;var l=function(t){function e(e,r,n,i){t.call(this,e),this.condition=r,this.thenSource=n,this.elseSource=i,this.tryIf()}return n(e,t),e.prototype.tryIf=function(){var t=this.condition,e=this.thenSource,r=this.elseSource;try{var n=t()?e:r;n?this.add(o.subscribeToResult(this,n)):this._complete()}catch(t){this._error(t)}},e}(a.OuterSubscriber)},function(t,e,r){"use strict";var n=r(0),i=r(528);n.Observable.interval=i.interval},function(t,e,r){"use strict";var n=r(529);e.interval=n.IntervalObservable.create},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function n(){this.constructor=t}t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=r(57),o=r(0),a=r(10),s=function(t){function e(e,r){void 0===e&&(e=0),void 0===r&&(r=a.async),t.call(this),this.period=e,this.scheduler=r,(!i.isNumeric(e)||e<0)&&(this.period=0),r&&"function"==typeof r.schedule||(this.scheduler=a.async)}return n(e,t),e.create=function(t,r){return void 0===t&&(t=0),void 0===r&&(r=a.async),new e(t,r)},e.dispatch=function(t){var e=t.index,r=t.subscriber,n=t.period;r.next(e),r.closed||(t.index+=1,this.schedule(t,n))},e.prototype._subscribe=function(t){var r=this.period,n=this.scheduler;t.add(n.schedule(e.dispatch,r,{index:0,subscriber:t,period:r}))},e}(o.Observable);e.IntervalObservable=s},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function n(){this.constructor=t}t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=function(t){function e(e,r){t.call(this)}return n(e,t),e.prototype.schedule=function(t,e){return void 0===e&&(e=0),this},e}(r(13).Subscription);e.Action=i},function(t,e,r){"use strict";var n=function(){function t(e,r){void 0===r&&(r=t.now),this.SchedulerAction=e,this.now=r}return t.prototype.schedule=function(t,e,r){return void 0===e&&(e=0),new this.SchedulerAction(this,t).schedule(r,e)},t.now=Date.now?Date.now:function(){return+new Date},t}();e.Scheduler=n},function(t,e,r){"use strict";var n=r(0),i=r(83);n.Observable.merge=i.merge},function(t,e,r){"use strict";var n=r(0),i=r(128);n.Observable.race=i.race},function(t,e,r){"use strict";var n=r(0),i=r(535);n.Observable.never=i.never},function(t,e,r){"use strict";var n=r(536);e.never=n.NeverObservable.create},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function n(){this.constructor=t}t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=r(0),o=r(125),a=function(t){function e(){t.call(this)}return n(e,t),e.create=function(){return new e},e.prototype._subscribe=function(t){o.noop()},e}(i.Observable);e.NeverObservable=a},function(t,e,r){"use strict";var n=r(0),i=r(204);n.Observable.of=i.of},function(t,e,r){"use strict";var n=r(0),i=r(539);n.Observable.onErrorResumeNext=i.onErrorResumeNext},function(t,e,r){"use strict";var n=r(129);e.onErrorResumeNext=n.onErrorResumeNextStatic},function(t,e,r){"use strict";var n=r(0),i=r(541);n.Observable.pairs=i.pairs},function(t,e,r){"use strict";var n=r(542);e.pairs=n.PairsObservable.create},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function n(){this.constructor=t}t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)};function i(t){var e=t.obj,r=t.keys,n=t.length,i=t.index,o=t.subscriber;if(i!==n){var a=r[i];o.next([a,e[a]]),t.index=i+1,this.schedule(t)}else o.complete()}var o=function(t){function e(e,r){t.call(this),this.obj=e,this.scheduler=r,this.keys=Object.keys(e)}return n(e,t),e.create=function(t,r){return new e(t,r)},e.prototype._subscribe=function(t){var e=this.keys,r=this.scheduler,n=e.length;if(r)return r.schedule(i,0,{obj:this.obj,keys:e,length:n,index:0,subscriber:t});for(var o=0;o<n;o++){var a=e[o];t.next([a,this.obj[a]])}t.complete()},e}(r(0).Observable);e.PairsObservable=o},function(t,e,r){"use strict";var n=r(0),i=r(544);n.Observable.range=i.range},function(t,e,r){"use strict";var n=r(545);e.range=n.RangeObservable.create},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function n(){this.constructor=t}t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=function(t){function e(e,r,n){t.call(this),this.start=e,this._count=r,this.scheduler=n}return n(e,t),e.create=function(t,r,n){return void 0===t&&(t=0),void 0===r&&(r=0),new e(t,r,n)},e.dispatch=function(t){var e=t.start,r=t.index,n=t.count,i=t.subscriber;r>=n?i.complete():(i.next(e),i.closed||(t.index=r+1,t.start=e+1,this.schedule(t)))},e.prototype._subscribe=function(t){var r=0,n=this.start,i=this._count,o=this.scheduler;if(o)return o.schedule(e.dispatch,0,{index:r,count:i,start:n,subscriber:t});for(;;){if(r++>=i){t.complete();break}if(t.next(n++),t.closed)break}},e}(r(0).Observable);e.RangeObservable=i},function(t,e,r){"use strict";var n=r(0),i=r(547);n.Observable.using=i.using},function(t,e,r){"use strict";var n=r(548);e.using=n.UsingObservable.create},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function n(){this.constructor=t}t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=r(0),o=r(8),a=r(7),s=function(t){function e(e,r){t.call(this),this.resourceFactory=e,this.observableFactory=r}return n(e,t),e.create=function(t,r){return new e(t,r)},e.prototype._subscribe=function(t){var e,r=this.resourceFactory,n=this.observableFactory;try{return e=r(),new l(t,e,n)}catch(e){t.error(e)}},e}(i.Observable);e.UsingObservable=s;var l=function(t){function e(e,r,n){t.call(this,e),this.resource=r,this.observableFactory=n,e.add(r),this.tryUse()}return n(e,t),e.prototype.tryUse=function(){try{var t=this.observableFactory.call(this,this.resource);t&&this.add(o.subscribeToResult(this,t))}catch(t){this._error(t)}},e}(a.OuterSubscriber)},function(t,e,r){"use strict";var n=r(0),i=r(550);n.Observable.throw=i._throw},function(t,e,r){"use strict";var n=r(551);e._throw=n.ErrorObservable.create},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function n(){this.constructor=t}t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=function(t){function e(e,r){t.call(this),this.error=e,this.scheduler=r}return n(e,t),e.create=function(t,r){return new e(t,r)},e.dispatch=function(t){var e=t.error;t.subscriber.error(e)},e.prototype._subscribe=function(t){var r=this.error,n=this.scheduler;if(t.syncErrorThrowable=!0,n)return n.schedule(e.dispatch,0,{error:r,subscriber:t});t.error(r)},e}(r(0).Observable);e.ErrorObservable=i},function(t,e,r){"use strict";var n=r(0),i=r(209);n.Observable.timer=i.timer},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function n(){this.constructor=t}t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=r(57),o=r(0),a=r(10),s=r(29),l=r(84),c=function(t){function e(e,r,n){void 0===e&&(e=0),t.call(this),this.period=-1,this.dueTime=0,i.isNumeric(r)?this.period=Number(r)<1?1:Number(r):s.isScheduler(r)&&(n=r),s.isScheduler(n)||(n=a.async),this.scheduler=n,this.dueTime=l.isDate(e)?+e-this.scheduler.now():e}return n(e,t),e.create=function(t,r,n){return void 0===t&&(t=0),new e(t,r,n)},e.dispatch=function(t){var e=t.index,r=t.period,n=t.subscriber;if(n.next(e),!n.closed){if(-1===r)return n.complete();t.index=e+1,this.schedule(t,r)}},e.prototype._subscribe=function(t){var r=this.period,n=this.dueTime;return this.scheduler.schedule(e.dispatch,n,{index:0,period:r,subscriber:t})},e}(o.Observable);e.TimerObservable=c},function(t,e,r){"use strict";var n=r(0),i=r(555);n.Observable.zip=i.zip},function(t,e,r){"use strict";var n=r(85);e.zip=n.zipStatic},function(t,e,r){"use strict";var n=r(0),i=r(557);n.Observable.ajax=i.ajax},function(t,e,r){"use strict";var n=r(210);e.ajax=n.AjaxObservable.create},function(t,e,r){"use strict";var n=r(0),i=r(559);n.Observable.webSocket=i.webSocket},function(t,e,r){"use strict";var n=r(560);e.webSocket=n.WebSocketSubject.create},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function n(){this.constructor=t}t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=r(15),o=r(2),a=r(0),s=r(13),l=r(19),c=r(86),u=r(17),h=r(16),f=r(563),d=function(t){function e(e,r){if(e instanceof a.Observable)t.call(this,r,e);else{if(t.call(this),this.WebSocketCtor=l.root.WebSocket,this._output=new i.Subject,"string"==typeof e?this.url=e:f.assign(this,e),!this.WebSocketCtor)throw new Error("no WebSocket constructor can be found");this.destination=new c.ReplaySubject}}return n(e,t),e.prototype.resultSelector=function(t){return JSON.parse(t.data)},e.create=function(t){return new e(t)},e.prototype.lift=function(t){var r=new e(this,this.destination);return r.operator=t,r},e.prototype._resetState=function(){this.socket=null,this.source||(this.destination=new c.ReplaySubject),this._output=new i.Subject},e.prototype.multiplex=function(t,e,r){var n=this;return new a.Observable(function(i){var o=u.tryCatch(t)();o===h.errorObject?i.error(h.errorObject.e):n.next(o);var a=n.subscribe(function(t){var e=u.tryCatch(r)(t);e===h.errorObject?i.error(h.errorObject.e):e&&i.next(t)},function(t){return i.error(t)},function(){return i.complete()});return function(){var t=u.tryCatch(e)();t===h.errorObject?i.error(h.errorObject.e):n.next(t),a.unsubscribe()}})},e.prototype._connectSocket=function(){var t=this,e=this.WebSocketCtor,r=this._output,n=null;try{n=this.protocol?new e(this.url,this.protocol):new e(this.url),this.socket=n,this.binaryType&&(this.socket.binaryType=this.binaryType)}catch(t){return void r.error(t)}var i=new s.Subscription(function(){t.socket=null,n&&1===n.readyState&&n.close()});n.onopen=function(e){var a=t.openObserver;a&&a.next(e);var s=t.destination;t.destination=o.Subscriber.create(function(t){return 1===n.readyState&&n.send(t)},function(e){var i=t.closingObserver;i&&i.next(void 0),e&&e.code?n.close(e.code,e.reason):r.error(new TypeError("WebSocketSubject.error must be called with an object with an error code, and an optional reason: { code: number, reason: string }")),t._resetState()},function(){var e=t.closingObserver;e&&e.next(void 0),n.close(),t._resetState()}),s&&s instanceof c.ReplaySubject&&i.add(s.subscribe(t.destination))},n.onerror=function(e){t._resetState(),r.error(e)},n.onclose=function(e){t._resetState();var n=t.closeObserver;n&&n.next(e),e.wasClean?r.complete():r.error(e)},n.onmessage=function(e){var n=u.tryCatch(t.resultSelector)(e);n===h.errorObject?r.error(h.errorObject.e):r.next(n)}},e.prototype._subscribe=function(t){var e=this,r=this.source;if(r)return r.subscribe(t);this.socket||this._connectSocket();var n=new s.Subscription;return n.add(this._output.subscribe(t)),n.add(function(){var t=e.socket;0===e._output.observers.length&&(t&&1===t.readyState&&t.close(),e._resetState())}),n},e.prototype.unsubscribe=function(){var e=this.source,r=this.socket;r&&1===r.readyState&&(r.close(),this._resetState()),t.prototype.unsubscribe.call(this),e||(this.destination=new c.ReplaySubject)},e}(i.AnonymousSubject);e.WebSocketSubject=d},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function n(){this.constructor=t}t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=function(t){function e(e,r){t.call(this,e,r),this.scheduler=e,this.work=r}return n(e,t),e.prototype.schedule=function(e,r){return void 0===r&&(r=0),r>0?t.prototype.schedule.call(this,e,r):(this.delay=r,this.state=e,this.scheduler.flush(this),this)},e.prototype.execute=function(e,r){return r>0||this.closed?t.prototype.execute.call(this,e,r):this._execute(e,r)},e.prototype.requestAsyncId=function(e,r,n){return void 0===n&&(n=0),null!==n&&n>0||null===n&&this.delay>0?t.prototype.requestAsyncId.call(this,e,r,n):e.flush(this)},e}(r(58).AsyncAction);e.QueueAction=i},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function n(){this.constructor=t}t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=function(t){function e(){t.apply(this,arguments)}return n(e,t),e}(r(59).AsyncScheduler);e.QueueScheduler=i},function(t,e,r){"use strict";var n=r(19);function i(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];for(var n=e.length,i=0;i<n;i++){var o=e[i];for(var a in o)o.hasOwnProperty(a)&&(t[a]=o[a])}return t}function o(t){return t.Object.assign||i}e.assignImpl=i,e.getAssign=o,e.assign=o(n.root)},function(t,e,r){"use strict";var n=r(0),i=r(565);n.Observable.prototype.buffer=i.buffer},function(t,e,r){"use strict";var n=r(212);e.buffer=function(t){return n.buffer(t)(this)}},function(t,e,r){"use strict";var n=r(0),i=r(567);n.Observable.prototype.bufferCount=i.bufferCount},function(t,e,r){"use strict";var n=r(213);e.bufferCount=function(t,e){return void 0===e&&(e=null),n.bufferCount(t,e)(this)}},function(t,e,r){"use strict";var n=r(0),i=r(569);n.Observable.prototype.bufferTime=i.bufferTime},function(t,e,r){"use strict";var n=r(10),i=r(29),o=r(214);e.bufferTime=function(t){var e=arguments.length,r=n.async;i.isScheduler(arguments[arguments.length-1])&&(r=arguments[arguments.length-1],e--);var a=null;e>=2&&(a=arguments[1]);var s=Number.POSITIVE_INFINITY;return e>=3&&(s=arguments[2]),o.bufferTime(t,a,s,r)(this)}},function(t,e,r){"use strict";var n=r(0),i=r(571);n.Observable.prototype.bufferToggle=i.bufferToggle},function(t,e,r){"use strict";var n=r(215);e.bufferToggle=function(t,e){return n.bufferToggle(t,e)(this)}},function(t,e,r){"use strict";var n=r(0),i=r(573);n.Observable.prototype.bufferWhen=i.bufferWhen},function(t,e,r){"use strict";var n=r(216);e.bufferWhen=function(t){return n.bufferWhen(t)(this)}},function(t,e,r){"use strict";var n=r(0),i=r(575);n.Observable.prototype.catch=i._catch,n.Observable.prototype._catch=i._catch},function(t,e,r){"use strict";var n=r(217);e._catch=function(t){return n.catchError(t)(this)}},function(t,e,r){"use strict";var n=r(0),i=r(577);n.Observable.prototype.combineAll=i.combineAll},function(t,e,r){"use strict";var n=r(218);e.combineAll=function(t){return n.combineAll(t)(this)}},function(t,e,r){"use strict";var n=r(0),i=r(579);n.Observable.prototype.combineLatest=i.combineLatest},function(t,e,r){"use strict";var n=r(80);e.combineLatest=function(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];return n.combineLatest.apply(void 0,t)(this)}},function(t,e,r){"use strict";var n=r(0),i=r(581);n.Observable.prototype.concat=i.concat},function(t,e,r){"use strict";var n=r(219),i=r(54);e.concatStatic=i.concat,e.concat=function(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];return n.concat.apply(void 0,t)(this)}},function(t,e,r){"use strict";var n=r(0),i=r(583);n.Observable.prototype.concatAll=i.concatAll},function(t,e,r){"use strict";var n=r(127);e.concatAll=function(){return n.concatAll()(this)}},function(t,e,r){"use strict";var n=r(0),i=r(585);n.Observable.prototype.concatMap=i.concatMap},function(t,e,r){"use strict";var n=r(130);e.concatMap=function(t,e){return n.concatMap(t,e)(this)}},function(t,e,r){"use strict";var n=r(0),i=r(587);n.Observable.prototype.concatMapTo=i.concatMapTo},function(t,e,r){"use strict";var n=r(220);e.concatMapTo=function(t,e){return n.concatMapTo(t,e)(this)}},function(t,e,r){"use strict";var n=r(0),i=r(589);n.Observable.prototype.count=i.count},function(t,e,r){"use strict";var n=r(221);e.count=function(t){return n.count(t)(this)}},function(t,e,r){"use strict";var n=r(0),i=r(591);n.Observable.prototype.dematerialize=i.dematerialize},function(t,e,r){"use strict";var n=r(222);e.dematerialize=function(){return n.dematerialize()(this)}},function(t,e,r){"use strict";var n=r(0),i=r(593);n.Observable.prototype.debounce=i.debounce},function(t,e,r){"use strict";var n=r(223);e.debounce=function(t){return n.debounce(t)(this)}},function(t,e,r){"use strict";var n=r(0),i=r(595);n.Observable.prototype.debounceTime=i.debounceTime},function(t,e,r){"use strict";var n=r(10),i=r(224);e.debounceTime=function(t,e){return void 0===e&&(e=n.async),i.debounceTime(t,e)(this)}},function(t,e,r){"use strict";var n=r(0),i=r(597);n.Observable.prototype.defaultIfEmpty=i.defaultIfEmpty},function(t,e,r){"use strict";var n=r(131);e.defaultIfEmpty=function(t){return void 0===t&&(t=null),n.defaultIfEmpty(t)(this)}},function(t,e,r){"use strict";var n=r(0),i=r(599);n.Observable.prototype.delay=i.delay},function(t,e,r){"use strict";var n=r(10),i=r(225);e.delay=function(t,e){return void 0===e&&(e=n.async),i.delay(t,e)(this)}},function(t,e,r){"use strict";var n=r(0),i=r(601);n.Observable.prototype.delayWhen=i.delayWhen},function(t,e,r){"use strict";var n=r(226);e.delayWhen=function(t,e){return n.delayWhen(t,e)(this)}},function(t,e,r){"use strict";var n=r(0),i=r(603);n.Observable.prototype.distinct=i.distinct},function(t,e,r){"use strict";var n=r(227);e.distinct=function(t,e){return n.distinct(t,e)(this)}},function(t,e,r){"use strict";var n=r(19);function i(){return function(){function t(){this._values=[]}return t.prototype.add=function(t){this.has(t)||this._values.push(t)},t.prototype.has=function(t){return-1!==this._values.indexOf(t)},Object.defineProperty(t.prototype,"size",{get:function(){return this._values.length},enumerable:!0,configurable:!0}),t.prototype.clear=function(){this._values.length=0},t}()}e.minimalSetImpl=i,e.Set=n.root.Set||i()},function(t,e,r){"use strict";var n=r(0),i=r(606);n.Observable.prototype.distinctUntilChanged=i.distinctUntilChanged},function(t,e,r){"use strict";var n=r(132);e.distinctUntilChanged=function(t,e){return n.distinctUntilChanged(t,e)(this)}},function(t,e,r){"use strict";var n=r(0),i=r(608);n.Observable.prototype.distinctUntilKeyChanged=i.distinctUntilKeyChanged},function(t,e,r){"use strict";var n=r(228);e.distinctUntilKeyChanged=function(t,e){return n.distinctUntilKeyChanged(t,e)(this)}},function(t,e,r){"use strict";var n=r(0),i=r(610);n.Observable.prototype.do=i._do,n.Observable.prototype._do=i._do},function(t,e,r){"use strict";var n=r(229);e._do=function(t,e,r){return n.tap(t,e,r)(this)}},function(t,e,r){"use strict";var n=r(0),i=r(612);n.Observable.prototype.exhaust=i.exhaust},function(t,e,r){"use strict";var n=r(230);e.exhaust=function(){return n.exhaust()(this)}},function(t,e,r){"use strict";var n=r(0),i=r(614);n.Observable.prototype.exhaustMap=i.exhaustMap},function(t,e,r){"use strict";var n=r(231);e.exhaustMap=function(t,e){return n.exhaustMap(t,e)(this)}},function(t,e,r){"use strict";var n=r(0),i=r(616);n.Observable.prototype.expand=i.expand},function(t,e,r){"use strict";var n=r(232);e.expand=function(t,e,r){return void 0===e&&(e=Number.POSITIVE_INFINITY),void 0===r&&(r=void 0),e=(e||0)<1?Number.POSITIVE_INFINITY:e,n.expand(t,e,r)(this)}},function(t,e,r){"use strict";var n=r(0),i=r(618);n.Observable.prototype.elementAt=i.elementAt},function(t,e,r){"use strict";var n=r(233);e.elementAt=function(t,e){return n.elementAt(t,e)(this)}},function(t,e,r){"use strict";var n=r(0),i=r(620);n.Observable.prototype.filter=i.filter},function(t,e,r){"use strict";var n=r(133);e.filter=function(t,e){return n.filter(t,e)(this)}},function(t,e,r){"use strict";var n=r(0),i=r(622);n.Observable.prototype.finally=i._finally,n.Observable.prototype._finally=i._finally},function(t,e,r){"use strict";var n=r(234);e._finally=function(t){return n.finalize(t)(this)}},function(t,e,r){"use strict";var n=r(0),i=r(624);n.Observable.prototype.find=i.find},function(t,e,r){"use strict";var n=r(134);e.find=function(t,e){return n.find(t,e)(this)}},function(t,e,r){"use strict";var n=r(0),i=r(626);n.Observable.prototype.findIndex=i.findIndex},function(t,e,r){"use strict";var n=r(235);e.findIndex=function(t,e){return n.findIndex(t,e)(this)}},function(t,e,r){"use strict";var n=r(0),i=r(628);n.Observable.prototype.first=i.first},function(t,e,r){"use strict";var n=r(236);e.first=function(t,e,r){return n.first(t,e,r)(this)}},function(t,e,r){"use strict";var n=r(0),i=r(630);n.Observable.prototype.groupBy=i.groupBy},function(t,e,r){"use strict";var n=r(237);e.GroupedObservable=n.GroupedObservable,e.groupBy=function(t,e,r,i){return n.groupBy(t,e,r,i)(this)}},function(t,e,r){"use strict";var n=r(19),i=r(632);e.Map=n.root.Map||i.MapPolyfill},function(t,e,r){"use strict";var n=function(){function t(){this.size=0,this._values=[],this._keys=[]}return t.prototype.get=function(t){var e=this._keys.indexOf(t);return-1===e?void 0:this._values[e]},t.prototype.set=function(t,e){var r=this._keys.indexOf(t);return-1===r?(this._keys.push(t),this._values.push(e),this.size++):this._values[r]=e,this},t.prototype.delete=function(t){var e=this._keys.indexOf(t);return-1!==e&&(this._values.splice(e,1),this._keys.splice(e,1),this.size--,!0)},t.prototype.clear=function(){this._keys.length=0,this._values.length=0,this.size=0},t.prototype.forEach=function(t,e){for(var r=0;r<this.size;r++)t.call(e,this._values[r],this._keys[r])},t}();e.MapPolyfill=n},function(t,e,r){"use strict";var n=function(){function t(){this.values={}}return t.prototype.delete=function(t){return this.values[t]=null,!0},t.prototype.set=function(t,e){return this.values[t]=e,this},t.prototype.get=function(t){return this.values[t]},t.prototype.forEach=function(t,e){var r=this.values;for(var n in r)r.hasOwnProperty(n)&&null!==r[n]&&t.call(e,r[n],n)},t.prototype.clear=function(){this.values={}},t}();e.FastMap=n},function(t,e,r){"use strict";var n=r(0),i=r(635);n.Observable.prototype.ignoreElements=i.ignoreElements},function(t,e,r){"use strict";var n=r(238);e.ignoreElements=function(){return n.ignoreElements()(this)}},function(t,e,r){"use strict";var n=r(0),i=r(637);n.Observable.prototype.isEmpty=i.isEmpty},function(t,e,r){"use strict";var n=r(239);e.isEmpty=function(){return n.isEmpty()(this)}},function(t,e,r){"use strict";var n=r(0),i=r(639);n.Observable.prototype.audit=i.audit},function(t,e,r){"use strict";var n=r(135);e.audit=function(t){return n.audit(t)(this)}},function(t,e,r){"use strict";var n=r(0),i=r(641);n.Observable.prototype.auditTime=i.auditTime},function(t,e,r){"use strict";var n=r(10),i=r(240);e.auditTime=function(t,e){return void 0===e&&(e=n.async),i.auditTime(t,e)(this)}},function(t,e,r){"use strict";var n=r(0),i=r(643);n.Observable.prototype.last=i.last},function(t,e,r){"use strict";var n=r(241);e.last=function(t,e,r){return n.last(t,e,r)(this)}},function(t,e,r){"use strict";var n=r(0),i=r(645);n.Observable.prototype.let=i.letProto,n.Observable.prototype.letBind=i.letProto},function(t,e,r){"use strict";e.letProto=function(t){return t(this)}},function(t,e,r){"use strict";var n=r(0),i=r(647);n.Observable.prototype.every=i.every},function(t,e,r){"use strict";var n=r(242);e.every=function(t,e){return n.every(t,e)(this)}},function(t,e,r){"use strict";var n=r(0),i=r(649);n.Observable.prototype.map=i.map},function(t,e,r){"use strict";var n=r(60);e.map=function(t,e){return n.map(t,e)(this)}},function(t,e,r){"use strict";var n=r(0),i=r(651);n.Observable.prototype.mapTo=i.mapTo},function(t,e,r){"use strict";var n=r(243);e.mapTo=function(t){return n.mapTo(t)(this)}},function(t,e,r){"use strict";var n=r(0),i=r(653);n.Observable.prototype.materialize=i.materialize},function(t,e,r){"use strict";var n=r(244);e.materialize=function(){return n.materialize()(this)}},function(t,e,r){"use strict";var n=r(0),i=r(655);n.Observable.prototype.max=i.max},function(t,e,r){"use strict";var n=r(245);e.max=function(t){return n.max(t)(this)}},function(t,e,r){"use strict";var n=r(0),i=r(657);n.Observable.prototype.merge=i.merge},function(t,e,r){"use strict";var n=r(246),i=r(83);e.mergeStatic=i.merge,e.merge=function(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];return n.merge.apply(void 0,t)(this)}},function(t,e,r){"use strict";var n=r(0),i=r(659);n.Observable.prototype.mergeAll=i.mergeAll},function(t,e,r){"use strict";var n=r(82);e.mergeAll=function(t){return void 0===t&&(t=Number.POSITIVE_INFINITY),n.mergeAll(t)(this)}},function(t,e,r){"use strict";var n=r(0),i=r(661);n.Observable.prototype.mergeMap=i.mergeMap,n.Observable.prototype.flatMap=i.mergeMap},function(t,e,r){"use strict";var n=r(56);e.mergeMap=function(t,e,r){return void 0===r&&(r=Number.POSITIVE_INFINITY),n.mergeMap(t,e,r)(this)}},function(t,e,r){"use strict";var n=r(0),i=r(663);n.Observable.prototype.flatMapTo=i.mergeMapTo,n.Observable.prototype.mergeMapTo=i.mergeMapTo},function(t,e,r){"use strict";var n=r(247);e.mergeMapTo=function(t,e,r){return void 0===r&&(r=Number.POSITIVE_INFINITY),n.mergeMapTo(t,e,r)(this)}},function(t,e,r){"use strict";var n=r(0),i=r(665);n.Observable.prototype.mergeScan=i.mergeScan},function(t,e,r){"use strict";var n=r(248);e.mergeScan=function(t,e,r){return void 0===r&&(r=Number.POSITIVE_INFINITY),n.mergeScan(t,e,r)(this)}},function(t,e,r){"use strict";var n=r(0),i=r(667);n.Observable.prototype.min=i.min},function(t,e,r){"use strict";var n=r(249);e.min=function(t){return n.min(t)(this)}},function(t,e,r){"use strict";var n=r(0),i=r(669);n.Observable.prototype.multicast=i.multicast},function(t,e,r){"use strict";var n=r(40);e.multicast=function(t,e){return n.multicast(t,e)(this)}},function(t,e,r){"use strict";var n=r(0),i=r(671);n.Observable.prototype.observeOn=i.observeOn},function(t,e,r){"use strict";var n=r(81);e.observeOn=function(t,e){return void 0===e&&(e=0),n.observeOn(t,e)(this)}},function(t,e,r){"use strict";var n=r(0),i=r(673);n.Observable.prototype.onErrorResumeNext=i.onErrorResumeNext},function(t,e,r){"use strict";var n=r(129);e.onErrorResumeNext=function(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];return n.onErrorResumeNext.apply(void 0,t)(this)}},function(t,e,r){"use strict";var n=r(0),i=r(675);n.Observable.prototype.pairwise=i.pairwise},function(t,e,r){"use strict";var n=r(251);e.pairwise=function(){return n.pairwise()(this)}},function(t,e,r){"use strict";var n=r(0),i=r(677);n.Observable.prototype.partition=i.partition},function(t,e,r){"use strict";var n=r(252);e.partition=function(t,e){return n.partition(t,e)(this)}},function(t,e,r){"use strict";e.not=function(t,e){function r(){return!r.pred.apply(r.thisArg,arguments)}return r.pred=t,r.thisArg=e,r}},function(t,e,r){"use strict";var n=r(0),i=r(680);n.Observable.prototype.pluck=i.pluck},function(t,e,r){"use strict";var n=r(253);e.pluck=function(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];return n.pluck.apply(void 0,t)(this)}},function(t,e,r){"use strict";var n=r(0),i=r(682);n.Observable.prototype.publish=i.publish},function(t,e,r){"use strict";var n=r(254);e.publish=function(t){return n.publish(t)(this)}},function(t,e,r){"use strict";var n=r(0),i=r(684);n.Observable.prototype.publishBehavior=i.publishBehavior},function(t,e,r){"use strict";var n=r(255);e.publishBehavior=function(t){return n.publishBehavior(t)(this)}},function(t,e,r){"use strict";var n=r(0),i=r(686);n.Observable.prototype.publishReplay=i.publishReplay},function(t,e,r){"use strict";var n=r(257);e.publishReplay=function(t,e,r,i){return n.publishReplay(t,e,r,i)(this)}},function(t,e,r){"use strict";var n=r(0),i=r(688);n.Observable.prototype.publishLast=i.publishLast},function(t,e,r){"use strict";var n=r(258);e.publishLast=function(){return n.publishLast()(this)}},function(t,e,r){"use strict";var n=r(0),i=r(690);n.Observable.prototype.race=i.race},function(t,e,r){"use strict";var n=r(259),i=r(128);e.raceStatic=i.race,e.race=function(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];return n.race.apply(void 0,t)(this)}},function(t,e,r){"use strict";var n=r(0),i=r(692);n.Observable.prototype.reduce=i.reduce},function(t,e,r){"use strict";var n=r(62);e.reduce=function(t,e){return arguments.length>=2?n.reduce(t,e)(this):n.reduce(t)(this)}},function(t,e,r){"use strict";var n=r(0),i=r(694);n.Observable.prototype.repeat=i.repeat},function(t,e,r){"use strict";var n=r(260);e.repeat=function(t){return void 0===t&&(t=-1),n.repeat(t)(this)}},function(t,e,r){"use strict";var n=r(0),i=r(696);n.Observable.prototype.repeatWhen=i.repeatWhen},function(t,e,r){"use strict";var n=r(261);e.repeatWhen=function(t){return n.repeatWhen(t)(this)}},function(t,e,r){"use strict";var n=r(0),i=r(698);n.Observable.prototype.retry=i.retry},function(t,e,r){"use strict";var n=r(262);e.retry=function(t){return void 0===t&&(t=-1),n.retry(t)(this)}},function(t,e,r){"use strict";var n=r(0),i=r(700);n.Observable.prototype.retryWhen=i.retryWhen},function(t,e,r){"use strict";var n=r(263);e.retryWhen=function(t){return n.retryWhen(t)(this)}},function(t,e,r){"use strict";var n=r(0),i=r(702);n.Observable.prototype.sample=i.sample},function(t,e,r){"use strict";var n=r(264);e.sample=function(t){return n.sample(t)(this)}},function(t,e,r){"use strict";var n=r(0),i=r(704);n.Observable.prototype.sampleTime=i.sampleTime},function(t,e,r){"use strict";var n=r(10),i=r(265);e.sampleTime=function(t,e){return void 0===e&&(e=n.async),i.sampleTime(t,e)(this)}},function(t,e,r){"use strict";var n=r(0),i=r(706);n.Observable.prototype.scan=i.scan},function(t,e,r){"use strict";var n=r(136);e.scan=function(t,e){return arguments.length>=2?n.scan(t,e)(this):n.scan(t)(this)}},function(t,e,r){"use strict";var n=r(0),i=r(708);n.Observable.prototype.sequenceEqual=i.sequenceEqual},function(t,e,r){"use strict";var n=r(266);e.sequenceEqual=function(t,e){return n.sequenceEqual(t,e)(this)}},function(t,e,r){"use strict";var n=r(0),i=r(710);n.Observable.prototype.share=i.share},function(t,e,r){"use strict";var n=r(267);e.share=function(){return n.share()(this)}},function(t,e,r){"use strict";var n=r(0),i=r(712);n.Observable.prototype.shareReplay=i.shareReplay},function(t,e,r){"use strict";var n=r(268);e.shareReplay=function(t,e,r){return n.shareReplay(t,e,r)(this)}},function(t,e,r){"use strict";var n=r(0),i=r(714);n.Observable.prototype.single=i.single},function(t,e,r){"use strict";var n=r(269);e.single=function(t){return n.single(t)(this)}},function(t,e,r){"use strict";var n=r(0),i=r(716);n.Observable.prototype.skip=i.skip},function(t,e,r){"use strict";var n=r(270);e.skip=function(t){return n.skip(t)(this)}},function(t,e,r){"use strict";var n=r(0),i=r(718);n.Observable.prototype.skipLast=i.skipLast},function(t,e,r){"use strict";var n=r(271);e.skipLast=function(t){return n.skipLast(t)(this)}},function(t,e,r){"use strict";var n=r(0),i=r(720);n.Observable.prototype.skipUntil=i.skipUntil},function(t,e,r){"use strict";var n=r(272);e.skipUntil=function(t){return n.skipUntil(t)(this)}},function(t,e,r){"use strict";var n=r(0),i=r(722);n.Observable.prototype.skipWhile=i.skipWhile},function(t,e,r){"use strict";var n=r(273);e.skipWhile=function(t){return n.skipWhile(t)(this)}},function(t,e,r){"use strict";var n=r(0),i=r(724);n.Observable.prototype.startWith=i.startWith},function(t,e,r){"use strict";var n=r(274);e.startWith=function(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];return n.startWith.apply(void 0,t)(this)}},function(t,e,r){"use strict";var n=r(0),i=r(726);n.Observable.prototype.subscribeOn=i.subscribeOn},function(t,e,r){"use strict";var n=r(727);e.subscribeOn=function(t,e){return void 0===e&&(e=0),n.subscribeOn(t,e)(this)}},function(t,e,r){"use strict";var n=r(728);e.subscribeOn=function(t,e){return void 0===e&&(e=0),function(r){return r.lift(new i(t,e))}};var i=function(){function t(t,e){this.scheduler=t,this.delay=e}return t.prototype.call=function(t,e){return new n.SubscribeOnObservable(e,this.delay,this.scheduler).subscribe(t)},t}()},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function n(){this.constructor=t}t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=r(0),o=r(275),a=r(57),s=function(t){function e(e,r,n){void 0===r&&(r=0),void 0===n&&(n=o.asap),t.call(this),this.source=e,this.delayTime=r,this.scheduler=n,(!a.isNumeric(r)||r<0)&&(this.delayTime=0),n&&"function"==typeof n.schedule||(this.scheduler=o.asap)}return n(e,t),e.create=function(t,r,n){return void 0===r&&(r=0),void 0===n&&(n=o.asap),new e(t,r,n)},e.dispatch=function(t){var e=t.source,r=t.subscriber;return this.add(e.subscribe(r))},e.prototype._subscribe=function(t){var r=this.delayTime,n=this.source;return this.scheduler.schedule(e.dispatch,r,{source:n,subscriber:t})},e}(i.Observable);e.SubscribeOnObservable=s},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function n(){this.constructor=t}t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=r(730),o=function(t){function e(e,r){t.call(this,e,r),this.scheduler=e,this.work=r}return n(e,t),e.prototype.requestAsyncId=function(e,r,n){return void 0===n&&(n=0),null!==n&&n>0?t.prototype.requestAsyncId.call(this,e,r,n):(e.actions.push(this),e.scheduled||(e.scheduled=i.Immediate.setImmediate(e.flush.bind(e,null))))},e.prototype.recycleAsyncId=function(e,r,n){if(void 0===n&&(n=0),null!==n&&n>0||null===n&&this.delay>0)return t.prototype.recycleAsyncId.call(this,e,r,n);0===e.actions.length&&(i.Immediate.clearImmediate(r),e.scheduled=void 0)},e}(r(58).AsyncAction);e.AsapAction=o},function(t,e,r){"use strict";(function(t,n){var i=r(19),o=function(){function t(t){if(this.root=t,t.setImmediate&&"function"==typeof t.setImmediate)this.setImmediate=t.setImmediate.bind(t),this.clearImmediate=t.clearImmediate.bind(t);else{this.nextHandle=1,this.tasksByHandle={},this.currentlyRunningATask=!1,this.canUseProcessNextTick()?this.setImmediate=this.createProcessNextTickSetImmediate():this.canUsePostMessage()?this.setImmediate=this.createPostMessageSetImmediate():this.canUseMessageChannel()?this.setImmediate=this.createMessageChannelSetImmediate():this.canUseReadyStateChange()?this.setImmediate=this.createReadyStateChangeSetImmediate():this.setImmediate=this.createSetTimeoutSetImmediate();var e=function t(e){delete t.instance.tasksByHandle[e]};e.instance=this,this.clearImmediate=e}}return t.prototype.identify=function(t){return this.root.Object.prototype.toString.call(t)},t.prototype.canUseProcessNextTick=function(){return"[object process]"===this.identify(this.root.process)},t.prototype.canUseMessageChannel=function(){return Boolean(this.root.MessageChannel)},t.prototype.canUseReadyStateChange=function(){var t=this.root.document;return Boolean(t&&"onreadystatechange"in t.createElement("script"))},t.prototype.canUsePostMessage=function(){var t=this.root;if(t.postMessage&&!t.importScripts){var e=!0,r=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=r,e}return!1},t.prototype.partiallyApplied=function(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];var n=function t(){var e=t.handler,r=t.args;"function"==typeof e?e.apply(void 0,r):new Function(""+e)()};return n.handler=t,n.args=e,n},t.prototype.addFromSetImmediateArguments=function(t){return this.tasksByHandle[this.nextHandle]=this.partiallyApplied.apply(void 0,t),this.nextHandle++},t.prototype.createProcessNextTickSetImmediate=function(){var t=function t(){var e=t.instance,r=e.addFromSetImmediateArguments(arguments);return e.root.process.nextTick(e.partiallyApplied(e.runIfPresent,r)),r};return t.instance=this,t},t.prototype.createPostMessageSetImmediate=function(){var t=this.root,e="setImmediate$"+t.Math.random()+"$",r=function r(n){var i=r.instance;n.source===t&&"string"==typeof n.data&&0===n.data.indexOf(e)&&i.runIfPresent(+n.data.slice(e.length))};r.instance=this,t.addEventListener("message",r,!1);var n=function t(){var e=t.messagePrefix,r=t.instance,n=r.addFromSetImmediateArguments(arguments);return r.root.postMessage(e+n,"*"),n};return n.instance=this,n.messagePrefix=e,n},t.prototype.runIfPresent=function(t){if(this.currentlyRunningATask)this.root.setTimeout(this.partiallyApplied(this.runIfPresent,t),0);else{var e=this.tasksByHandle[t];if(e){this.currentlyRunningATask=!0;try{e()}finally{this.clearImmediate(t),this.currentlyRunningATask=!1}}}},t.prototype.createMessageChannelSetImmediate=function(){var t=this,e=new this.root.MessageChannel;e.port1.onmessage=function(e){var r=e.data;t.runIfPresent(r)};var r=function t(){var e=t.channel,r=t.instance.addFromSetImmediateArguments(arguments);return e.port2.postMessage(r),r};return r.channel=e,r.instance=this,r},t.prototype.createReadyStateChangeSetImmediate=function(){var t=function t(){var e=t.instance,r=e.root.document,n=r.documentElement,i=e.addFromSetImmediateArguments(arguments),o=r.createElement("script");return o.onreadystatechange=function(){e.runIfPresent(i),o.onreadystatechange=null,n.removeChild(o),o=null},n.appendChild(o),i};return t.instance=this,t},t.prototype.createSetTimeoutSetImmediate=function(){var t=function t(){var e=t.instance,r=e.addFromSetImmediateArguments(arguments);return e.root.setTimeout(e.partiallyApplied(e.runIfPresent,r),0),r};return t.instance=this,t},t}();e.ImmediateDefinition=o,e.Immediate=new o(i.root)}).call(e,r(276).clearImmediate,r(276).setImmediate)},function(t,e,r){(function(t,e){!function(t,r){"use strict";if(!t.setImmediate){var n,i,o,a,s,l=1,c={},u=!1,h=t.document,f=Object.getPrototypeOf&&Object.getPrototypeOf(t);f=f&&f.setTimeout?f:t,"[object process]"==={}.toString.call(t.process)?n=function(t){e.nextTick(function(){p(t)})}:!function(){if(t.postMessage&&!t.importScripts){var e=!0,r=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=r,e}}()?t.MessageChannel?((o=new MessageChannel).port1.onmessage=function(t){p(t.data)},n=function(t){o.port2.postMessage(t)}):h&&"onreadystatechange"in h.createElement("script")?(i=h.documentElement,n=function(t){var e=h.createElement("script");e.onreadystatechange=function(){p(t),e.onreadystatechange=null,i.removeChild(e),e=null},i.appendChild(e)}):n=function(t){setTimeout(p,0,t)}:(a="setImmediate$"+Math.random()+"$",s=function(e){e.source===t&&"string"==typeof e.data&&0===e.data.indexOf(a)&&p(+e.data.slice(a.length))},t.addEventListener?t.addEventListener("message",s,!1):t.attachEvent("onmessage",s),n=function(e){t.postMessage(a+e,"*")}),f.setImmediate=function(t){"function"!=typeof t&&(t=new Function(""+t));for(var e=new Array(arguments.length-1),r=0;r<e.length;r++)e[r]=arguments[r+1];var i={callback:t,args:e};return c[l]=i,n(l),l++},f.clearImmediate=d}function d(t){delete c[t]}function p(t){if(u)setTimeout(p,0,t);else{var e=c[t];if(e){u=!0;try{!function(t){var e=t.callback,n=t.args;switch(n.length){case 0:e();break;case 1:e(n[0]);break;case 2:e(n[0],n[1]);break;case 3:e(n[0],n[1],n[2]);break;default:e.apply(r,n)}}(e)}finally{d(t),u=!1}}}}}("undefined"==typeof self?void 0===t?this:t:self)}).call(e,r(51),r(169))},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function n(){this.constructor=t}t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=function(t){function e(){t.apply(this,arguments)}return n(e,t),e.prototype.flush=function(t){this.active=!0,this.scheduled=void 0;var e,r=this.actions,n=-1,i=r.length;t=t||r.shift();do{if(e=t.execute(t.state,t.delay))break}while(++n<i&&(t=r.shift()));if(this.active=!1,e){for(;++n<i&&(t=r.shift());)t.unsubscribe();throw e}},e}(r(59).AsyncScheduler);e.AsapScheduler=i},function(t,e,r){"use strict";var n=r(0),i=r(734);n.Observable.prototype.switch=i._switch,n.Observable.prototype._switch=i._switch},function(t,e,r){"use strict";var n=r(277);e._switch=function(){return n.switchAll()(this)}},function(t,e,r){"use strict";var n=r(0),i=r(736);n.Observable.prototype.switchMap=i.switchMap},function(t,e,r){"use strict";var n=r(139);e.switchMap=function(t,e){return n.switchMap(t,e)(this)}},function(t,e,r){"use strict";var n=r(0),i=r(738);n.Observable.prototype.switchMapTo=i.switchMapTo},function(t,e,r){"use strict";var n=r(278);e.switchMapTo=function(t,e){return n.switchMapTo(t,e)(this)}},function(t,e,r){"use strict";var n=r(0),i=r(740);n.Observable.prototype.take=i.take},function(t,e,r){"use strict";var n=r(279);e.take=function(t){return n.take(t)(this)}},function(t,e,r){"use strict";var n=r(0),i=r(742);n.Observable.prototype.takeLast=i.takeLast},function(t,e,r){"use strict";var n=r(137);e.takeLast=function(t){return n.takeLast(t)(this)}},function(t,e,r){"use strict";var n=r(0),i=r(744);n.Observable.prototype.takeUntil=i.takeUntil},function(t,e,r){"use strict";var n=r(280);e.takeUntil=function(t){return n.takeUntil(t)(this)}},function(t,e,r){"use strict";var n=r(0),i=r(746);n.Observable.prototype.takeWhile=i.takeWhile},function(t,e,r){"use strict";var n=r(281);e.takeWhile=function(t){return n.takeWhile(t)(this)}},function(t,e,r){"use strict";var n=r(0),i=r(748);n.Observable.prototype.throttle=i.throttle},function(t,e,r){"use strict";var n=r(88);e.throttle=function(t,e){return void 0===e&&(e=n.defaultThrottleConfig),n.throttle(t,e)(this)}},function(t,e,r){"use strict";var n=r(0),i=r(750);n.Observable.prototype.throttleTime=i.throttleTime},function(t,e,r){"use strict";var n=r(10),i=r(88),o=r(282);e.throttleTime=function(t,e,r){return void 0===e&&(e=n.async),void 0===r&&(r=i.defaultThrottleConfig),o.throttleTime(t,e,r)(this)}},function(t,e,r){"use strict";var n=r(0),i=r(283);n.Observable.prototype.timeInterval=i.timeInterval},function(t,e,r){"use strict";var n=r(0),i=r(753);n.Observable.prototype.timeout=i.timeout},function(t,e,r){"use strict";var n=r(10),i=r(285);e.timeout=function(t,e){return void 0===e&&(e=n.async),i.timeout(t,e)(this)}},function(t,e,r){"use strict";var n=r(0),i=r(755);n.Observable.prototype.timeoutWith=i.timeoutWith},function(t,e,r){"use strict";var n=r(10),i=r(287);e.timeoutWith=function(t,e,r){return void 0===r&&(r=n.async),i.timeoutWith(t,e,r)(this)}},function(t,e,r){"use strict";var n=r(0),i=r(757);n.Observable.prototype.timestamp=i.timestamp},function(t,e,r){"use strict";var n=r(10),i=r(140);e.timestamp=function(t){return void 0===t&&(t=n.async),i.timestamp(t)(this)}},function(t,e,r){"use strict";var n=r(0),i=r(759);n.Observable.prototype.toArray=i.toArray},function(t,e,r){"use strict";var n=r(288);e.toArray=function(){return n.toArray()(this)}},function(t,e){},function(t,e,r){"use strict";var n=r(0),i=r(762);n.Observable.prototype.window=i.window},function(t,e,r){"use strict";var n=r(289);e.window=function(t){return n.window(t)(this)}},function(t,e,r){"use strict";var n=r(0),i=r(764);n.Observable.prototype.windowCount=i.windowCount},function(t,e,r){"use strict";var n=r(290);e.windowCount=function(t,e){return void 0===e&&(e=0),n.windowCount(t,e)(this)}},function(t,e,r){"use strict";var n=r(0),i=r(766);n.Observable.prototype.windowTime=i.windowTime},function(t,e,r){"use strict";var n=r(10),i=r(57),o=r(29),a=r(291);e.windowTime=function(t){var e=n.async,r=null,s=Number.POSITIVE_INFINITY;return o.isScheduler(arguments[3])&&(e=arguments[3]),o.isScheduler(arguments[2])?e=arguments[2]:i.isNumeric(arguments[2])&&(s=arguments[2]),o.isScheduler(arguments[1])?e=arguments[1]:i.isNumeric(arguments[1])&&(r=arguments[1]),a.windowTime(t,r,s,e)(this)}},function(t,e,r){"use strict";var n=r(0),i=r(768);n.Observable.prototype.windowToggle=i.windowToggle},function(t,e,r){"use strict";var n=r(292);e.windowToggle=function(t,e){return n.windowToggle(t,e)(this)}},function(t,e,r){"use strict";var n=r(0),i=r(770);n.Observable.prototype.windowWhen=i.windowWhen},function(t,e,r){"use strict";var n=r(293);e.windowWhen=function(t){return n.windowWhen(t)(this)}},function(t,e,r){"use strict";var n=r(0),i=r(772);n.Observable.prototype.withLatestFrom=i.withLatestFrom},function(t,e,r){"use strict";var n=r(294);e.withLatestFrom=function(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];return n.withLatestFrom.apply(void 0,t)(this)}},function(t,e,r){"use strict";var n=r(0),i=r(774);n.Observable.prototype.zip=i.zipProto},function(t,e,r){"use strict";var n=r(85);e.zipProto=function(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];return n.zip.apply(void 0,t)(this)}},function(t,e,r){"use strict";var n=r(0),i=r(776);n.Observable.prototype.zipAll=i.zipAll},function(t,e,r){"use strict";var n=r(295);e.zipAll=function(t){return n.zipAll(t)(this)}},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function n(){this.constructor=t}t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=r(0),o=r(55),a=r(778),s=r(779),l=r(297),c=r(299),u=750,h=function(t){function e(e){t.call(this,c.VirtualAction,u),this.assertDeepEqual=e,this.hotObservables=[],this.coldObservables=[],this.flushTests=[]}return n(e,t),e.prototype.createTime=function(t){var r=t.indexOf("|");if(-1===r)throw new Error('marble diagram for time should have a completion marker "|"');return r*e.frameTimeFactor},e.prototype.createColdObservable=function(t,r,n){if(-1!==t.indexOf("^"))throw new Error('cold observable cannot have subscription offset "^"');if(-1!==t.indexOf("!"))throw new Error('cold observable cannot have unsubscription marker "!"');var i=e.parseMarbles(t,r,n),o=new a.ColdObservable(i,this);return this.coldObservables.push(o),o},e.prototype.createHotObservable=function(t,r,n){if(-1!==t.indexOf("!"))throw new Error('hot observable cannot have unsubscription marker "!"');var i=e.parseMarbles(t,r,n),o=new s.HotObservable(i,this);return this.hotObservables.push(o),o},e.prototype.materializeInnerObservable=function(t,e){var r=this,n=[];return t.subscribe(function(t){n.push({frame:r.frame-e,notification:o.Notification.createNext(t)})},function(t){n.push({frame:r.frame-e,notification:o.Notification.createError(t)})},function(){n.push({frame:r.frame-e,notification:o.Notification.createComplete()})}),n},e.prototype.expectObservable=function(t,r){var n=this;void 0===r&&(r=null);var a,s=[],l={actual:s,ready:!1},c=e.parseMarblesAsSubscriptions(r).unsubscribedFrame;return this.schedule(function(){a=t.subscribe(function(t){var e=t;t instanceof i.Observable&&(e=n.materializeInnerObservable(e,n.frame)),s.push({frame:n.frame,notification:o.Notification.createNext(e)})},function(t){s.push({frame:n.frame,notification:o.Notification.createError(t)})},function(){s.push({frame:n.frame,notification:o.Notification.createComplete()})})},0),c!==Number.POSITIVE_INFINITY&&this.schedule(function(){return a.unsubscribe()},c),this.flushTests.push(l),{toBe:function(t,r,n){l.ready=!0,l.expected=e.parseMarbles(t,r,n,!0)}}},e.prototype.expectSubscriptions=function(t){var r={actual:t,ready:!1};return this.flushTests.push(r),{toBe:function(t){var n="string"==typeof t?[t]:t;r.ready=!0,r.expected=n.map(function(t){return e.parseMarblesAsSubscriptions(t)})}}},e.prototype.flush=function(){for(var e=this.hotObservables;e.length>0;)e.shift().setup();t.prototype.flush.call(this);for(var r=this.flushTests.filter(function(t){return t.ready});r.length>0;){var n=r.shift();this.assertDeepEqual(n.actual,n.expected)}},e.parseMarblesAsSubscriptions=function(t){if("string"!=typeof t)return new l.SubscriptionLog(Number.POSITIVE_INFINITY);for(var e=t.length,r=-1,n=Number.POSITIVE_INFINITY,i=Number.POSITIVE_INFINITY,o=0;o<e;o++){var a=o*this.frameTimeFactor,s=t[o];switch(s){case"-":case" ":break;case"(":r=a;break;case")":r=-1;break;case"^":if(n!==Number.POSITIVE_INFINITY)throw new Error("found a second subscription point '^' in a subscription marble diagram. There can only be one.");n=r>-1?r:a;break;case"!":if(i!==Number.POSITIVE_INFINITY)throw new Error("found a second subscription point '^' in a subscription marble diagram. There can only be one.");i=r>-1?r:a;break;default:throw new Error("there can only be '^' and '!' markers in a subscription marble diagram. Found instead '"+s+"'.")}}return i<0?new l.SubscriptionLog(n):new l.SubscriptionLog(n,i)},e.parseMarbles=function(t,e,r,n){if(void 0===n&&(n=!1),-1!==t.indexOf("!"))throw new Error('conventional marble diagrams cannot have the unsubscription marker "!"');for(var i=t.length,s=[],l=t.indexOf("^"),c=-1===l?0:l*-this.frameTimeFactor,u="object"!=typeof e?function(t){return t}:function(t){return n&&e[t]instanceof a.ColdObservable?e[t].messages:e[t]},h=-1,f=0;f<i;f++){var d=f*this.frameTimeFactor+c,p=void 0,v=t[f];switch(v){case"-":case" ":break;case"(":h=d;break;case")":h=-1;break;case"|":p=o.Notification.createComplete();break;case"^":break;case"#":p=o.Notification.createError(r||"error");break;default:p=o.Notification.createNext(u(v))}p&&s.push({frame:h>-1?h:d,notification:p})}return s},e}(c.VirtualTimeScheduler);e.TestScheduler=h},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function n(){this.constructor=t}t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=r(0),o=r(13),a=r(296),s=r(298),l=function(t){function e(e,r){t.call(this,function(t){var e=this,r=e.logSubscribedFrame();return t.add(new o.Subscription(function(){e.logUnsubscribedFrame(r)})),e.scheduleMessages(t),t}),this.messages=e,this.subscriptions=[],this.scheduler=r}return n(e,t),e.prototype.scheduleMessages=function(t){for(var e=this.messages.length,r=0;r<e;r++){var n=this.messages[r];t.add(this.scheduler.schedule(function(t){var e=t.message,r=t.subscriber;e.notification.observe(r)},n.frame,{message:n,subscriber:t}))}},e}(i.Observable);e.ColdObservable=l,s.applyMixins(l,[a.SubscriptionLoggable])},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function n(){this.constructor=t}t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=r(15),o=r(13),a=r(296),s=r(298),l=function(t){function e(e,r){t.call(this),this.messages=e,this.subscriptions=[],this.scheduler=r}return n(e,t),e.prototype._subscribe=function(e){var r=this,n=r.logSubscribedFrame();return e.add(new o.Subscription(function(){r.logUnsubscribedFrame(n)})),t.prototype._subscribe.call(this,e)},e.prototype.setup=function(){for(var t=this,e=t.messages.length,r=0;r<e;r++)!function(){var e=t.messages[r];t.scheduler.schedule(function(){e.notification.observe(t)},e.frame)}()},e}(i.Subject);e.HotObservable=l,s.applyMixins(l,[a.SubscriptionLoggable])},function(t,e,r){"use strict";var n=r(781),i=r(783);e.animationFrame=new i.AnimationFrameScheduler(n.AnimationFrameAction)},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function n(){this.constructor=t}t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=r(58),o=r(782),a=function(t){function e(e,r){t.call(this,e,r),this.scheduler=e,this.work=r}return n(e,t),e.prototype.requestAsyncId=function(e,r,n){return void 0===n&&(n=0),null!==n&&n>0?t.prototype.requestAsyncId.call(this,e,r,n):(e.actions.push(this),e.scheduled||(e.scheduled=o.AnimationFrame.requestAnimationFrame(e.flush.bind(e,null))))},e.prototype.recycleAsyncId=function(e,r,n){if(void 0===n&&(n=0),null!==n&&n>0||null===n&&this.delay>0)return t.prototype.recycleAsyncId.call(this,e,r,n);0===e.actions.length&&(o.AnimationFrame.cancelAnimationFrame(r),e.scheduled=void 0)},e}(i.AsyncAction);e.AnimationFrameAction=a},function(t,e,r){"use strict";var n=r(19),i=function(){return function(t){t.requestAnimationFrame?(this.cancelAnimationFrame=t.cancelAnimationFrame.bind(t),this.requestAnimationFrame=t.requestAnimationFrame.bind(t)):t.mozRequestAnimationFrame?(this.cancelAnimationFrame=t.mozCancelAnimationFrame.bind(t),this.requestAnimationFrame=t.mozRequestAnimationFrame.bind(t)):t.webkitRequestAnimationFrame?(this.cancelAnimationFrame=t.webkitCancelAnimationFrame.bind(t),this.requestAnimationFrame=t.webkitRequestAnimationFrame.bind(t)):t.msRequestAnimationFrame?(this.cancelAnimationFrame=t.msCancelAnimationFrame.bind(t),this.requestAnimationFrame=t.msRequestAnimationFrame.bind(t)):t.oRequestAnimationFrame?(this.cancelAnimationFrame=t.oCancelAnimationFrame.bind(t),this.requestAnimationFrame=t.oRequestAnimationFrame.bind(t)):(this.cancelAnimationFrame=t.clearTimeout.bind(t),this.requestAnimationFrame=function(e){return t.setTimeout(e,1e3/60)})}}();e.RequestAnimationFrameDefinition=i,e.AnimationFrame=new i(n.root)},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function n(){this.constructor=t}t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=function(t){function e(){t.apply(this,arguments)}return n(e,t),e.prototype.flush=function(t){this.active=!0,this.scheduled=void 0;var e,r=this.actions,n=-1,i=r.length;t=t||r.shift();do{if(e=t.execute(t.state,t.delay))break}while(++n<i&&(t=r.shift()));if(this.active=!1,e){for(;++n<i&&(t=r.shift());)t.unsubscribe();throw e}},e}(r(59).AsyncScheduler);e.AnimationFrameScheduler=i},function(t,e,r){"use strict";var n=r(135);e.audit=n.audit;var i=r(240);e.auditTime=i.auditTime;var o=r(212);e.buffer=o.buffer;var a=r(213);e.bufferCount=a.bufferCount;var s=r(214);e.bufferTime=s.bufferTime;var l=r(215);e.bufferToggle=l.bufferToggle;var c=r(216);e.bufferWhen=c.bufferWhen;var u=r(217);e.catchError=u.catchError;var h=r(218);e.combineAll=h.combineAll;var f=r(80);e.combineLatest=f.combineLatest;var d=r(219);e.concat=d.concat;var p=r(127);e.concatAll=p.concatAll;var v=r(130);e.concatMap=v.concatMap;var y=r(220);e.concatMapTo=y.concatMapTo;var g=r(221);e.count=g.count;var m=r(223);e.debounce=m.debounce;var b=r(224);e.debounceTime=b.debounceTime;var x=r(131);e.defaultIfEmpty=x.defaultIfEmpty;var w=r(225);e.delay=w.delay;var _=r(226);e.delayWhen=_.delayWhen;var k=r(222);e.dematerialize=k.dematerialize;var T=r(227);e.distinct=T.distinct;var A=r(132);e.distinctUntilChanged=A.distinctUntilChanged;var M=r(228);e.distinctUntilKeyChanged=M.distinctUntilKeyChanged;var S=r(233);e.elementAt=S.elementAt;var O=r(242);e.every=O.every;var C=r(230);e.exhaust=C.exhaust;var L=r(231);e.exhaustMap=L.exhaustMap;var j=r(232);e.expand=j.expand;var I=r(133);e.filter=I.filter;var P=r(234);e.finalize=P.finalize;var E=r(134);e.find=E.find;var z=r(235);e.findIndex=z.findIndex;var N=r(236);e.first=N.first;var D=r(237);e.groupBy=D.groupBy;var R=r(238);e.ignoreElements=R.ignoreElements;var F=r(239);e.isEmpty=F.isEmpty;var B=r(241);e.last=B.last;var V=r(60);e.map=V.map;var q=r(243);e.mapTo=q.mapTo;var H=r(244);e.materialize=H.materialize;var U=r(245);e.max=U.max;var W=r(246);e.merge=W.merge;var G=r(82);e.mergeAll=G.mergeAll;var Y=r(56);e.mergeMap=Y.mergeMap;var X=r(56);e.flatMap=X.mergeMap;var Z=r(247);e.mergeMapTo=Z.mergeMapTo;var J=r(248);e.mergeScan=J.mergeScan;var $=r(249);e.min=$.min;var Q=r(40);e.multicast=Q.multicast;var K=r(81);e.observeOn=K.observeOn;var tt=r(129);e.onErrorResumeNext=tt.onErrorResumeNext;var et=r(251);e.pairwise=et.pairwise;var rt=r(252);e.partition=rt.partition;var nt=r(253);e.pluck=nt.pluck;var it=r(254);e.publish=it.publish;var ot=r(255);e.publishBehavior=ot.publishBehavior;var at=r(258);e.publishLast=at.publishLast;var st=r(257);e.publishReplay=st.publishReplay;var lt=r(259);e.race=lt.race;var ct=r(62);e.reduce=ct.reduce;var ut=r(260);e.repeat=ut.repeat;var ht=r(261);e.repeatWhen=ht.repeatWhen;var ft=r(262);e.retry=ft.retry;var dt=r(263);e.retryWhen=dt.retryWhen;var pt=r(138);e.refCount=pt.refCount;var vt=r(264);e.sample=vt.sample;var yt=r(265);e.sampleTime=yt.sampleTime;var gt=r(136);e.scan=gt.scan;var mt=r(266);e.sequenceEqual=mt.sequenceEqual;var bt=r(267);e.share=bt.share;var xt=r(268);e.shareReplay=xt.shareReplay;var wt=r(269);e.single=wt.single;var _t=r(270);e.skip=_t.skip;var kt=r(271);e.skipLast=kt.skipLast;var Tt=r(272);e.skipUntil=Tt.skipUntil;var At=r(273);e.skipWhile=At.skipWhile;var Mt=r(274);e.startWith=Mt.startWith;var St=r(277);e.switchAll=St.switchAll;var Ot=r(139);e.switchMap=Ot.switchMap;var Ct=r(278);e.switchMapTo=Ct.switchMapTo;var Lt=r(279);e.take=Lt.take;var jt=r(137);e.takeLast=jt.takeLast;var It=r(280);e.takeUntil=It.takeUntil;var Pt=r(281);e.takeWhile=Pt.takeWhile;var Et=r(229);e.tap=Et.tap;var zt=r(88);e.throttle=zt.throttle;var Nt=r(282);e.throttleTime=Nt.throttleTime;var Dt=r(284);e.timeInterval=Dt.timeInterval;var Rt=r(285);e.timeout=Rt.timeout;var Ft=r(287);e.timeoutWith=Ft.timeoutWith;var Bt=r(140);e.timestamp=Bt.timestamp;var Vt=r(288);e.toArray=Vt.toArray;var qt=r(289);e.window=qt.window;var Ht=r(290);e.windowCount=Ht.windowCount;var Ut=r(291);e.windowTime=Ut.windowTime;var Wt=r(292);e.windowToggle=Wt.windowToggle;var Gt=r(293);e.windowWhen=Gt.windowWhen;var Yt=r(294);e.withLatestFrom=Yt.withLatestFrom;var Xt=r(85);e.zip=Xt.zip;var Zt=r(295);e.zipAll=Zt.zipAll},function(t,e,r){var n=r(786);"string"==typeof n&&(n=[[t.i,n,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};r(74)(n,i);n.locals&&(t.exports=n.locals)},function(t,e,r){(t.exports=r(73)(!1)).push([t.i,".filter-component ul.list-component {\n  display: -webkit-flex;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-flex-direction: row;\n      -ms-flex-direction: row;\n          flex-direction: row;\n  -webkit-flex-wrap: wrap;\n      -ms-flex-wrap: wrap;\n          flex-wrap: wrap;\n  list-style: none;\n  margin: 0;\n  padding: 0;\n  max-height: 20vh;\n  overflow-y: auto; }\n  .filter-component ul.list-component li.list-item {\n    margin: 0;\n    padding: 10px;\n    width: 20%; }\n",""])},function(t,e,r){var n=r(788);"string"==typeof n&&(n=[[t.i,n,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};r(74)(n,i);n.locals&&(t.exports=n.locals)},function(t,e,r){(t.exports=r(73)(!1)).push([t.i,"* {\n  box-sizing: border-box;\n  font-family: 'Roboto',arial,sans-serif; }\n",""])}]);
//# sourceMappingURL=interactive-report.bundle.js.map